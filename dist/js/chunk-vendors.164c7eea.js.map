{"version":3,"sources":["webpack:///./node_modules/core-js/internals/to-string-tag-support.js","webpack:///./node_modules/core-js/internals/function-bind-context.js","webpack:///./node_modules/core-js/internals/object-get-own-property-descriptor.js","webpack:///./node_modules/algoliasearch-helper/src/functions/formatSort.js","webpack:///./node_modules/core-js/internals/ie8-dom-define.js","webpack:///./node_modules/algoliasearch/dist/algoliasearch-lite.umd.js","webpack:///./node_modules/algoliasearch-helper/src/functions/merge.js","webpack:///./node_modules/algoliasearch-helper/src/functions/find.js","webpack:///./node_modules/core-js/internals/an-instance.js","webpack:///./node_modules/core-js/internals/html.js","webpack:///./node_modules/core-js/internals/a-function.js","webpack:///./node_modules/core-js/internals/check-correctness-of-iteration.js","webpack:///./node_modules/core-js/internals/engine-is-ios.js","webpack:///./node_modules/algoliasearch-helper/src/SearchParameters/RefinementList.js","webpack:///./node_modules/core-js/internals/require-object-coercible.js","webpack:///./node_modules/core-js/internals/array-method-has-species-support.js","webpack:///./node_modules/core-js/internals/iterate.js","webpack:///./node_modules/core-js/internals/to-absolute-index.js","webpack:///./node_modules/core-js/internals/export.js","webpack:///./node_modules/core-js/internals/object-get-own-property-names.js","webpack:///./node_modules/core-js/modules/es.regexp.to-string.js","webpack:///./node_modules/core-js/internals/set-species.js","webpack:///./node_modules/vue-loader/lib/runtime/componentNormalizer.js","webpack:///./node_modules/core-js/internals/iterator-close.js","webpack:///./node_modules/vue/dist/vue.runtime.esm.js","webpack:///./node_modules/algoliasearch-helper/src/DerivedHelper/index.js","webpack:///./node_modules/core-js/internals/task.js","webpack:///./node_modules/core-js/internals/engine-v8-version.js","webpack:///./node_modules/core-js/internals/engine-user-agent.js","webpack:///./node_modules/core-js/internals/get-iterator-method.js","webpack:///./node_modules/core-js/internals/object-define-properties.js","webpack:///./node_modules/core-js/internals/a-possible-prototype.js","webpack:///./node_modules/core-js/internals/iterators.js","webpack:///./node_modules/algoliasearch-helper/index.js","webpack:///./node_modules/qs/lib/stringify.js","webpack:///./node_modules/core-js/internals/path.js","webpack:///./node_modules/qs/lib/index.js","webpack:///./node_modules/core-js/internals/indexed-object.js","webpack:///./node_modules/core-js/internals/add-to-unscopables.js","webpack:///./node_modules/core-js/internals/host-report-errors.js","webpack:///./node_modules/core-js/internals/species-constructor.js","webpack:///./node_modules/core-js/internals/native-symbol.js","webpack:///./node_modules/algoliasearch-helper/src/SearchParameters/index.js","webpack:///./node_modules/core-js/internals/array-includes.js","webpack:///./node_modules/core-js/modules/es.array.filter.js","webpack:///./node_modules/algoliasearch-helper/src/functions/inherits.js","webpack:///./node_modules/core-js/internals/to-length.js","webpack:///./node_modules/core-js/internals/has.js","webpack:///./node_modules/algoliasearch-helper/src/functions/intersection.js","webpack:///./node_modules/core-js/internals/shared.js","webpack:///./node_modules/core-js/internals/own-keys.js","webpack:///./node_modules/core-js/internals/whitespaces.js","webpack:///./node_modules/core-js/internals/string-trim.js","webpack:///./node_modules/algoliasearch-helper/src/utils/isValidUserToken.js","webpack:///./node_modules/core-js/internals/create-property-descriptor.js","webpack:///./node_modules/core-js/internals/engine-is-node.js","webpack:///./node_modules/core-js/internals/engine-is-browser.js","webpack:///./node_modules/core-js/internals/object-assign.js","webpack:///./node_modules/algoliasearch-helper/src/functions/compact.js","webpack:///./node_modules/core-js/internals/array-species-create.js","webpack:///./node_modules/core-js/internals/internal-state.js","webpack:///./node_modules/core-js/internals/redefine.js","webpack:///./node_modules/core-js/internals/inherit-if-required.js","webpack:///./node_modules/core-js/internals/object-get-own-property-symbols.js","webpack:///./node_modules/core-js/internals/enum-bug-keys.js","webpack:///./node_modules/core-js/internals/to-object.js","webpack:///./node_modules/core-js/internals/object-create.js","webpack:///./node_modules/core-js/modules/es.array.find.js","webpack:///./node_modules/core-js/internals/define-iterator.js","webpack:///./node_modules/core-js/internals/native-weak-map.js","webpack:///./node_modules/core-js/internals/an-object.js","webpack:///./node_modules/algoliasearch-helper/src/functions/objectHasKeys.js","webpack:///./node_modules/core-js/internals/descriptors.js","webpack:///./node_modules/core-js/internals/create-property.js","webpack:///./node_modules/core-js/internals/is-object.js","webpack:///./node_modules/core-js/internals/inspect-source.js","webpack:///./node_modules/vue-instantsearch/es/src/util/suit.js","webpack:///./node_modules/vue-instantsearch/es/src/mixins/suit.js","webpack:///./node_modules/vue-instantsearch/es/src/util/warn.js","webpack:///./node_modules/vue-instantsearch/es/src/mixins/widget.js","webpack:///./node_modules/instantsearch.js/es/lib/utils/documentation.js","webpack:///./node_modules/instantsearch.js/es/lib/utils/noop.js","webpack:///./node_modules/instantsearch.js/es/lib/utils/getObjectType.js","webpack:///./node_modules/instantsearch.js/es/lib/utils/checkRendering.js","webpack:///./node_modules/instantsearch.js/es/lib/utils/escape.js","webpack:///./node_modules/instantsearch.js/es/lib/utils/isPlainObject.js","webpack:///./node_modules/instantsearch.js/es/lib/utils/escape-highlight.js","webpack:///./node_modules/instantsearch.js/es/lib/utils/serializer.js","webpack:///./node_modules/instantsearch.js/es/lib/utils/createSendEventForHits.js","webpack:///./node_modules/instantsearch.js/es/connectors/autocomplete/connectAutocomplete.js","webpack:///../../../src/components/Autocomplete.vue","webpack:///./node_modules/instantsearch.js/es/connectors/breadcrumb/connectBreadcrumb.js","webpack:///./node_modules/vue-instantsearch/es/src/mixins/panel.js","webpack:///../../../src/components/Breadcrumb.vue","webpack:///./node_modules/instantsearch.js/es/lib/utils/clearRefinements.js","webpack:///./node_modules/instantsearch.js/es/lib/utils/findIndex.js","webpack:///./node_modules/instantsearch.js/es/lib/utils/uniq.js","webpack:///./node_modules/instantsearch.js/es/lib/utils/mergeSearchParameters.js","webpack:///./node_modules/instantsearch.js/es/lib/utils/find.js","webpack:///./node_modules/instantsearch.js/es/lib/utils/unescapeRefinement.js","webpack:///./node_modules/instantsearch.js/es/lib/utils/getRefinements.js","webpack:///./node_modules/instantsearch.js/es/connectors/clear-refinements/connectClearRefinements.js","webpack:///../../../src/components/ClearRefinements.vue","webpack:///./node_modules/instantsearch.js/es/connectors/configure/connectConfigure.js","webpack:///./node_modules/vue-instantsearch/es/src/components/Configure.js","webpack:///./node_modules/instantsearch.js/es/lib/utils/getPropertyByPath.js","webpack:///./node_modules/instantsearch.js/es/connectors/configure-related-items/connectConfigureRelatedItems.js","webpack:///./node_modules/vue-instantsearch/es/src/components/ConfigureRelatedItems.js","webpack:///./node_modules/instantsearch.js/es/connectors/current-refinements/connectCurrentRefinements.js","webpack:///../../../src/components/CurrentRefinements.vue","webpack:///./node_modules/instantsearch.js/es/lib/utils/isFacetRefined.js","webpack:///./node_modules/instantsearch.js/es/lib/utils/createSendEventForFacet.js","webpack:///./node_modules/instantsearch.js/es/connectors/hierarchical-menu/connectHierarchicalMenu.js","webpack:///../../../src/components/HierarchicalMenuList.vue","webpack:///../../../src/components/HierarchicalMenu.vue","webpack:///./node_modules/vue-instantsearch/es/src/util/unescape.js","webpack:///./node_modules/vue-instantsearch/es/src/util/parseAlgoliaHit.js","webpack:///../../../src/components/Highlighter.vue","webpack:///../../../src/components/Highlight.vue","webpack:///./node_modules/instantsearch.js/es/lib/insights/client.js","webpack:///./node_modules/instantsearch.js/es/lib/utils/hits-absolute-position.js","webpack:///./node_modules/instantsearch.js/es/lib/utils/hits-query-id.js","webpack:///./node_modules/instantsearch.js/es/connectors/hits/connectHits.js","webpack:///./node_modules/instantsearch.js/es/connectors/hits/connectHitsWithInsights.js","webpack:///../../../src/components/Hits.vue","webpack:///./node_modules/instantsearch.js/es/connectors/hits-per-page/connectHitsPerPage.js","webpack:///../../../src/components/HitsPerPage.vue","webpack:///./node_modules/instantsearch.js/es/lib/utils/resolveSearchParameters.js","webpack:///./node_modules/instantsearch.js/es/widgets/index/index.js","webpack:///./node_modules/vue-instantsearch/es/src/components/Index.js","webpack:///./node_modules/instantsearch.js/es/lib/version.js","webpack:///./node_modules/instantsearch.js/es/lib/suit.js","webpack:///./node_modules/instantsearch.js/es/helpers/highlight.js","webpack:///./node_modules/instantsearch.js/es/lib/utils/concatHighlightedParts.js","webpack:///./node_modules/instantsearch.js/es/lib/utils/unescape.js","webpack:///./node_modules/instantsearch.js/es/lib/utils/getHighlightFromSiblings.js","webpack:///./node_modules/instantsearch.js/es/lib/utils/reverseHighlightedParts.js","webpack:///./node_modules/instantsearch.js/es/lib/utils/getHighlightedParts.js","webpack:///./node_modules/instantsearch.js/es/helpers/reverseHighlight.js","webpack:///./node_modules/instantsearch.js/es/helpers/snippet.js","webpack:///./node_modules/instantsearch.js/es/helpers/reverseSnippet.js","webpack:///./node_modules/instantsearch.js/es/helpers/insights.js","webpack:///./node_modules/instantsearch.js/es/lib/createHelpers.js","webpack:///./node_modules/instantsearch.js/es/lib/utils/defer.js","webpack:///./node_modules/instantsearch.js/es/lib/stateMappings/simple.js","webpack:///./node_modules/instantsearch.js/es/lib/routers/history.js","webpack:///./node_modules/instantsearch.js/es/lib/utils/isEqual.js","webpack:///./node_modules/instantsearch.js/es/middlewares/createRouterMiddleware.js","webpack:///./node_modules/instantsearch.js/es/middlewares/createMetadataMiddleware.js","webpack:///./node_modules/instantsearch.js/es/lib/InstantSearch.js","webpack:///./node_modules/instantsearch.js/es/helpers/get-insights-anonymous-user-token.js","webpack:///./node_modules/instantsearch.js/es/lib/infiniteHitsCache/sessionStorage.js","webpack:///./node_modules/instantsearch.js/es/index.js","webpack:///./node_modules/vue-instantsearch/es/package.json.js","webpack:///./node_modules/vue-instantsearch/es/src/util/polyfills.js","webpack:///./node_modules/vue-instantsearch/es/src/util/createInstantSearchComponent.js","webpack:///./node_modules/vue-instantsearch/es/src/components/InstantSearch.js","webpack:///./node_modules/vue-instantsearch/es/src/components/InstantSearchSsr.js","webpack:///./node_modules/instantsearch.js/es/connectors/infinite-hits/connectInfiniteHits.js","webpack:///./node_modules/instantsearch.js/es/connectors/infinite-hits/connectInfiniteHitsWithInsights.js","webpack:///../../../src/components/InfiniteHits.vue","webpack:///./node_modules/instantsearch.js/es/connectors/menu/connectMenu.js","webpack:///../../../src/components/Menu.vue","webpack:///../../../src/components/MenuSelect.vue","webpack:///./node_modules/instantsearch.js/es/lib/utils/convertNumericRefinementsToFilters.js","webpack:///./node_modules/instantsearch.js/es/lib/utils/isFiniteNumber.js","webpack:///./node_modules/instantsearch.js/es/connectors/numeric-menu/connectNumericMenu.js","webpack:///../../../src/components/NumericMenu.vue","webpack:///./node_modules/instantsearch.js/es/lib/utils/range.js","webpack:///./node_modules/instantsearch.js/es/connectors/pagination/Paginator.js","webpack:///./node_modules/instantsearch.js/es/connectors/pagination/connectPagination.js","webpack:///../../../src/components/Pagination.vue","webpack:///../../../src/components/Panel.vue","webpack:///../../../src/components/PoweredBy.vue","webpack:///./node_modules/instantsearch.js/es/connectors/query-rules/connectQueryRules.js","webpack:///./node_modules/vue-instantsearch/es/src/components/QueryRuleContext.js","webpack:///../../../src/components/QueryRuleCustomData.vue","webpack:///./node_modules/instantsearch.js/es/connectors/range/connectRange.js","webpack:///../../../src/components/RangeInput.vue","webpack:///./node_modules/instantsearch.js/es/connectors/rating-menu/connectRatingMenu.js","webpack:///../../../src/components/RatingMenu.vue","webpack:///./node_modules/instantsearch.js/es/connectors/refinement-list/connectRefinementList.js","webpack:///../../../src/components/SearchInput.vue","webpack:///../../../src/components/RefinementList.vue","webpack:///./node_modules/vue-instantsearch/es/src/connectors/connectStateResults.js","webpack:///../../../src/components/StateResults.vue","webpack:///./node_modules/instantsearch.js/es/connectors/search-box/connectSearchBox.js","webpack:///../../../src/components/SearchBox.vue","webpack:///../../../src/components/Snippet.vue","webpack:///./node_modules/instantsearch.js/es/connectors/sort-by/connectSortBy.js","webpack:///../../../src/components/SortBy.vue","webpack:///./node_modules/instantsearch.js/es/connectors/stats/connectStats.js","webpack:///../../../src/components/Stats.vue","webpack:///./node_modules/instantsearch.js/es/lib/utils/toArray.js","webpack:///./node_modules/instantsearch.js/es/lib/utils/escapeRefinement.js","webpack:///./node_modules/instantsearch.js/es/connectors/toggle-refinement/connectToggleRefinement.js","webpack:///../../../src/components/ToggleRefinement.vue","webpack:///./node_modules/instantsearch.js/es/lib/voiceSearchHelper/index.js","webpack:///./node_modules/instantsearch.js/es/connectors/voice-search/connectVoiceSearch.js","webpack:///../../../src/components/VoiceSearch.vue","webpack:///./node_modules/instantsearch.js/es/connectors/relevant-sort/connectRelevantSort.js","webpack:///../../../src/components/RelevantSort.vue","webpack:///./node_modules/vue-instantsearch/es/src/plugin.js","webpack:///./node_modules/core-js/internals/uid.js","webpack:///./node_modules/core-js/internals/create-non-enumerable-property.js","webpack:///./node_modules/core-js/internals/is-forced.js","webpack:///./node_modules/algoliasearch-helper/src/functions/defaultsPure.js","webpack:///./node_modules/algoliasearch-helper/src/SearchResults/generate-hierarchical-tree.js","webpack:///./node_modules/core-js/internals/object-define-property.js","webpack:///./node_modules/algoliasearch-helper/src/functions/valToNumber.js","webpack:///./node_modules/qs/lib/parse.js","webpack:///./node_modules/core-js/internals/create-iterator-constructor.js","webpack:///./node_modules/algoliasearch-helper/src/functions/findIndex.js","webpack:///./node_modules/core-js/modules/es.array.join.js","webpack:///./node_modules/core-js/internals/engine-is-webos-webkit.js","webpack:///./node_modules/algoliasearch-helper/src/functions/omit.js","webpack:///./node_modules/core-js/internals/array-method-is-strict.js","webpack:///./node_modules/core-js/internals/to-integer.js","webpack:///./node_modules/core-js/modules/es.promise.finally.js","webpack:///./node_modules/core-js/modules/es.number.constructor.js","webpack:///./node_modules/core-js/internals/regexp-flags.js","webpack:///./node_modules/core-js/internals/iterators-core.js","webpack:///./node_modules/core-js/internals/object-to-string.js","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./node_modules/qs/lib/formats.js","webpack:///./node_modules/core-js/internals/microtask.js","webpack:///./node_modules/core-js/internals/well-known-symbol.js","webpack:///./node_modules/core-js/modules/es.object.keys.js","webpack:///./node_modules/core-js/internals/array-iteration.js","webpack:///./node_modules/algoliasearch-helper/src/SearchResults/index.js","webpack:///./node_modules/core-js/internals/to-primitive.js","webpack:///./node_modules/core-js/internals/is-pure.js","webpack:///./node_modules/core-js/internals/classof-raw.js","webpack:///./node_modules/core-js/internals/shared-store.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/core-js/internals/object-keys-internal.js","webpack:///./node_modules/algoliasearch-helper/src/functions/orderBy.js","webpack:///./node_modules/core-js/internals/document-create-element.js","webpack:///./node_modules/core-js/modules/es.object.assign.js","webpack:///./node_modules/core-js/internals/promise-resolve.js","webpack:///./node_modules/core-js/internals/set-global.js","webpack:///./node_modules/core-js/internals/hidden-keys.js","webpack:///./node_modules/core-js/internals/fails.js","webpack:///./node_modules/core-js/internals/get-built-in.js","webpack:///./node_modules/core-js/internals/object-property-is-enumerable.js","webpack:///./node_modules/qs/lib/utils.js","webpack:///./node_modules/algoliasearch-helper/src/requestBuilder.js","webpack:///./node_modules/core-js/internals/object-set-prototype-of.js","webpack:///./node_modules/core-js/modules/es.object.to-string.js","webpack:///./node_modules/core-js/internals/set-to-string-tag.js","webpack:///./node_modules/core-js/modules/es.array.map.js","webpack:///./node_modules/core-js/internals/global.js","webpack:///./node_modules/core-js/modules/web.dom-collections.iterator.js","webpack:///./node_modules/core-js/internals/object-keys.js","webpack:///./node_modules/core-js/internals/object-get-prototype-of.js","webpack:///./node_modules/core-js/internals/correct-prototype-getter.js","webpack:///./node_modules/core-js/modules/es.array.iterator.js","webpack:///./node_modules/core-js/internals/redefine-all.js","webpack:///./node_modules/core-js/internals/perform.js","webpack:///./node_modules/core-js/modules/es.promise.js","webpack:///./node_modules/algoliasearch-helper/src/version.js","webpack:///./node_modules/core-js/internals/copy-constructor-properties.js","webpack:///./node_modules/core-js/internals/is-array.js","webpack:///./node_modules/core-js/internals/is-array-iterator-method.js","webpack:///./node_modules/algoliasearch-helper/src/algoliasearch.helper.js","webpack:///./node_modules/core-js/internals/new-promise-capability.js","webpack:///./node_modules/core-js/internals/classof.js","webpack:///./node_modules/core-js/internals/shared-key.js","webpack:///./node_modules/events/events.js","webpack:///./node_modules/core-js/modules/es.array.slice.js","webpack:///./node_modules/core-js/internals/to-indexed-object.js","webpack:///./node_modules/core-js/internals/dom-iterables.js","webpack:///./node_modules/core-js/internals/use-symbol-as-uid.js","webpack:///./node_modules/core-js/internals/native-promise-constructor.js"],"names":["wellKnownSymbol","TO_STRING_TAG","test","module","exports","String","aFunction","fn","that","length","undefined","call","a","b","c","apply","arguments","DESCRIPTORS","propertyIsEnumerableModule","createPropertyDescriptor","toIndexedObject","toPrimitive","has","IE8_DOM_DEFINE","$getOwnPropertyDescriptor","Object","getOwnPropertyDescriptor","f","O","P","error","find","sortBy","defaults","defaultInstructions","map","sort","split","reduce","out","sortInstruction","matchingDefault","defaultInstruction","push","fails","createElement","defineProperty","get","e","t","this","r","value","enumerable","configurable","writable","keys","getOwnPropertySymbols","n","filter","o","forEach","getOwnPropertyDescriptors","defineProperties","indexOf","prototype","propertyIsEnumerable","Array","isArray","Symbol","iterator","toString","u","i","next","done","return","TypeError","from","concat","key","localStorage","window","JSON","parse","getItem","miss","Promise","resolve","then","stringify","all","set","setItem","delete","clear","removeItem","caches","shift","catch","s","serializable","Math","floor","random","l","replace","encodeURIComponent","h","WithinQueryParameters","WithinHeaders","d","data","entries","timeout","headers","queryParameters","cacheable","m","Read","Write","Any","p","v","y","g","status","lastUpdate","Date","now","protocol","url","accept","q","getTimeout","statelessHosts","j","method","toLowerCase","userAgent","pop","name","message","transporterStackTrace","A","S","path","connectTimeout","timeouts","connect","responseTimeout","request","response","host","triesLeft","onSuccess","content","onRetry","isTimedOut","logger","info","x","hostsCache","onFail","requester","send","reverse","w","add","segment","version","T","charAt","substr","join","N","appId","authMode","apiKey","requestsCache","responsesCache","hosts","read","mappedRequestOptions","transporter","reject","write","addAlgoliaAgent","clearCache","methods","C","indexName","k","params","requests","J","facetName","facetQuery","searchForFacetValues","F","E","query","queryLanguages","I","R","D","W","H","XMLHttpRequest","open","setRequestHeader","setTimeout","abort","onreadystatechange","readyState","OPENED","clearTimeout","onerror","responseText","onload","debug","console","search","multipleQueries","multipleSearchForFacetValues","initIndex","findAnswers","clone","_merge","isObjectOrArrayOrFunction","target","source","hasOwnProperty","sourceVal","targetVal","merge","array","comparator","it","Constructor","getBuiltIn","ITERATOR","SAFE_CLOSING","called","iteratorWithReturn","exec","SKIP_CLOSING","ITERATION_SUPPORT","object","defaultsPure","omit","objectHasKeys","lib","addRefinement","refinementList","attribute","isRefined","valueAsString","facetRefinement","mod","removeRefinement","clearRefinement","toggleRefinement","Error","refinementType","hasChanged","newRefinementList","memo","values","facetList","refinementValue","containsRefinements","refinementValueAsString","V8_VERSION","SPECIES","METHOD_NAME","constructor","foo","Boolean","anObject","isArrayIteratorMethod","toLength","bind","getIteratorMethod","iteratorClose","Result","stopped","result","iterable","unboundFunction","options","iterFn","index","step","AS_ENTRIES","IS_ITERATOR","INTERRUPTED","stop","condition","callFn","toInteger","max","min","integer","global","createNonEnumerableProperty","redefine","setGlobal","copyConstructorProperties","isForced","FORCED","targetProperty","sourceProperty","descriptor","TARGET","GLOBAL","STATIC","stat","noTargetGet","forced","sham","internalObjectKeys","enumBugKeys","hiddenKeys","getOwnPropertyNames","flags","TO_STRING","RegExpPrototype","RegExp","nativeToString","NOT_GENERIC","INCORRECT_NAME","rf","unsafe","definePropertyModule","CONSTRUCTOR_NAME","normalizeComponent","scriptExports","render","staticRenderFns","functionalTemplate","injectStyles","scopeId","moduleIdentifier","shadowMode","hook","_compiled","functional","_scopeId","context","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","_registeredComponents","_ssrRegister","$root","$options","shadowRoot","_injectStyles","originalRender","existing","beforeCreate","returnMethod","emptyObject","freeze","isUndef","isDef","isTrue","isFalse","isPrimitive","isObject","obj","_toString","isPlainObject","isRegExp","isValidArrayIndex","val","parseFloat","isFinite","isPromise","toNumber","isNaN","makeMap","str","expectsLowerCase","create","list","isReservedAttribute","remove","arr","item","splice","hasOwn","cached","cache","hit","camelizeRE","camelize","_","toUpperCase","capitalize","slice","hyphenateRE","hyphenate","polyfillBind","ctx","boundFn","_length","nativeBind","Function","toArray","start","ret","extend","to","_from","toObject","res","noop","no","identity","looseEqual","isObjectA","isObjectB","isArrayA","isArrayB","every","getTime","keysA","keysB","looseIndexOf","once","SSR_ATTR","ASSET_TYPES","LIFECYCLE_HOOKS","config","optionMergeStrategies","silent","productionTip","devtools","performance","errorHandler","warnHandler","ignoredElements","keyCodes","isReservedTag","isReservedAttr","isUnknownElement","getTagNamespace","parsePlatformTagName","mustUseProp","async","_lifecycleHooks","unicodeRegExp","isReserved","charCodeAt","def","bailRE","parsePath","segments","_isServer","hasProto","inBrowser","inWeex","WXEnvironment","platform","weexPlatform","UA","navigator","isIE","isIE9","isEdge","isIOS","isFF","match","nativeWatch","watch","supportsPassive","opts","addEventListener","isServerRendering","env","VUE_ENV","__VUE_DEVTOOLS_GLOBAL_HOOK__","isNative","Ctor","_Set","hasSymbol","Reflect","ownKeys","Set","warn","uid","Dep","id","subs","addSub","sub","removeSub","depend","addDep","notify","update","targetStack","pushTarget","popTarget","VNode","tag","children","text","elm","componentOptions","asyncFactory","ns","fnContext","fnOptions","fnScopeId","componentInstance","raw","isStatic","isRootInsert","isComment","isCloned","isOnce","asyncMeta","isAsyncPlaceholder","prototypeAccessors","child","createEmptyVNode","node","createTextVNode","cloneVNode","vnode","cloned","arrayProto","arrayMethods","methodsToPatch","original","args","len","inserted","ob","__ob__","observeArray","dep","arrayKeys","shouldObserve","toggleObserving","Observer","vmCount","protoAugment","copyAugment","walk","src","__proto__","observe","asRootData","isExtensible","_isVue","defineReactive$$1","customSetter","shallow","property","getter","setter","childOb","dependArray","newVal","del","items","strats","mergeData","toVal","fromVal","mergeDataOrFn","parentVal","childVal","vm","instanceData","defaultData","mergeHook","dedupeHooks","hooks","mergeAssets","type","key$1","props","inject","computed","provide","defaultStrat","normalizeProps","normalizeInject","normalized","normalizeDirectives","dirs","directives","def$$1","mergeOptions","_base","extends","mixins","mergeField","strat","resolveAsset","warnMissing","assets","camelizedId","PascalCaseId","validateProp","propOptions","propsData","prop","absent","booleanIndex","getTypeIndex","stringIndex","getPropDefaultValue","prevShouldObserve","default","_props","getType","isSameType","expectedTypes","handleError","err","cur","$parent","errorCaptured","capture","globalHandleError","invokeWithErrorHandling","handler","_handled","logError","timerFunc","isUsingMicroTask","callbacks","pending","flushCallbacks","copies","MutationObserver","setImmediate","counter","observer","textNode","document","createTextNode","characterData","nextTick","cb","_resolve","seenObjects","traverse","_traverse","seen","isA","isFrozen","depId","normalizeEvent","passive","once$$1","createFnInvoker","fns","invoker","arguments$1","updateListeners","on","oldOn","remove$$1","createOnceHandler","old","event","mergeVNodeHook","hookKey","oldHook","wrappedHook","merged","extractPropsFromVNodeData","attrs","altKey","checkProp","hash","preserve","simpleNormalizeChildren","normalizeChildren","normalizeArrayChildren","isTextNode","nestedIndex","lastIndex","last","_isVList","initProvide","_provided","initInjections","resolveInject","provideKey","provideDefault","resolveSlots","slots","slot","name$1","isWhitespace","normalizeScopedSlots","normalSlots","prevSlots","hasNormalSlots","isStable","$stable","$key","_normalized","$hasNormal","normalizeScopedSlot","key$2","proxyNormalSlot","proxy","renderList","renderSlot","fallback","bindObject","nodes","scopedSlotFn","$scopedSlots","$slots","$createElement","resolveFilter","isKeyNotMatch","expect","actual","checkKeyCodes","eventKeyCode","builtInKeyCode","eventKeyName","builtInKeyName","mappedKeyCode","bindObjectProps","asProp","isSync","loop","domProps","camelizedKey","hyphenatedKey","$event","renderStatic","isInFor","_staticTrees","tree","_renderProxy","markStatic","markOnce","markStaticNode","bindObjectListeners","ours","resolveScopedSlots","hasDynamicKeys","contentHashKey","bindDynamicKeys","baseObj","prependModifier","symbol","installRenderHelpers","_o","_n","_s","_l","_t","_q","_i","_m","_f","_k","_b","_v","_e","_u","_g","_d","_p","FunctionalRenderContext","contextVm","this$1","_original","isCompiled","needNormalization","listeners","injections","scopedSlots","_c","createFunctionalComponent","mergeProps","renderContext","cloneAndMarkFunctionalResult","vnodes","componentVNodeHooks","init","hydrating","_isDestroyed","keepAlive","mountedNode","prepatch","createComponentInstanceForVnode","activeInstance","$mount","oldVnode","updateChildComponent","insert","_isMounted","callHook","queueActivatedComponent","activateChildComponent","destroy","deactivateChildComponent","$destroy","hooksToMerge","createComponent","baseCtor","cid","resolveAsyncComponent","createAsyncPlaceholder","resolveConstructorOptions","model","transformModel","nativeOn","abstract","installComponentHooks","_isComponent","_parentVnode","inlineTemplate","toMerge","_merged","mergeHook$1","f1","f2","callback","SIMPLE_NORMALIZE","ALWAYS_NORMALIZE","normalizationType","alwaysNormalize","_createElement","is","pre","applyNS","registerDeepBindings","force","style","class","initRender","_vnode","parentVnode","_renderChildren","parentData","_parentListeners","currentRenderingInstance","renderMixin","Vue","$nextTick","_render","ref","ensureCtor","comp","base","__esModule","toStringTag","factory","errorComp","resolved","owner","owners","loading","loadingComp","sync","timerLoading","timerTimeout","$on","forceRender","renderCompleted","$forceUpdate","reason","component","delay","getFirstComponentChild","initEvents","_events","_hasHookEvent","updateComponentListeners","remove$1","$off","_target","onceHandler","oldListeners","eventsMixin","hookRE","$once","i$1","cbs","$emit","setActiveInstance","prevActiveInstance","initLifecycle","$children","$refs","_watcher","_inactive","_directInactive","_isBeingDestroyed","lifecycleMixin","_update","prevEl","$el","prevVnode","restoreActiveInstance","__patch__","__vue__","teardown","_watchers","_data","mountComponent","el","updateComponent","Watcher","before","renderChildren","newScopedSlots","oldScopedSlots","hasDynamicScopedSlot","needsForceUpdate","$attrs","$listeners","propKeys","_propKeys","isInInactiveTree","direct","handlers","queue","activatedChildren","waiting","flushing","resetSchedulerState","currentFlushTimestamp","getNow","createEvent","timeStamp","flushSchedulerQueue","watcher","run","activatedQueue","updatedQueue","callActivatedHooks","callUpdatedHooks","emit","queueWatcher","uid$2","expOrFn","isRenderWatcher","deep","user","lazy","active","dirty","deps","newDeps","depIds","newDepIds","expression","cleanupDeps","tmp","oldValue","evaluate","sharedPropertyDefinition","sourceKey","initState","initProps","initMethods","initData","initComputed","initWatch","propsOptions","isRoot","getData","computedWatcherOptions","watchers","_computedWatchers","isSSR","userDef","defineComputed","shouldCache","createComputedGetter","createGetterInvoker","createWatcher","$watch","stateMixin","dataDef","propsDef","$set","$delete","immediate","uid$3","initMixin","_init","_uid","initInternalComponent","_self","vnodeComponentOptions","_componentTag","super","superOptions","cachedSuperOptions","modifiedOptions","resolveModifiedOptions","extendOptions","components","modified","latest","sealed","sealedOptions","initUse","use","plugin","installedPlugins","_installedPlugins","unshift","install","initMixin$1","mixin","initExtend","Super","SuperId","cachedCtors","_Ctor","Sub","initProps$1","initComputed$1","Comp","initAssetRegisters","definition","getComponentName","matches","pattern","pruneCache","keepAliveInstance","cachedNode","pruneCacheEntry","current","cached$$1","patternTypes","KeepAlive","include","exclude","Number","created","destroyed","mounted","ref$1","parseInt","builtInComponents","initGlobalAPI","configDef","util","defineReactive","observable","acceptValue","attr","isEnumeratedAttr","isValidContentEditableValue","convertEnumeratedValue","isFalsyAttrValue","isBooleanAttr","xlinkNS","isXlink","getXlinkProp","genClassForVnode","parentNode","childNode","mergeClassData","renderClass","staticClass","dynamicClass","stringifyClass","stringifyArray","stringifyObject","stringified","namespaceMap","svg","math","isHTMLTag","isSVG","unknownElementCache","HTMLUnknownElement","HTMLElement","isTextInputType","selected","querySelector","createElement$1","tagName","multiple","setAttribute","createElementNS","namespace","createComment","insertBefore","newNode","referenceNode","removeChild","appendChild","nextSibling","setTextContent","textContent","setStyleScope","nodeOps","registerRef","isRemoval","refs","refInFor","emptyNode","sameVnode","sameInputType","typeA","typeB","createKeyToOldIdx","beginIdx","endIdx","createPatchFunction","backend","modules","emptyNodeAt","createRmCb","childElm","removeNode","createElm","insertedVnodeQueue","parentElm","refElm","nested","ownerArray","setScope","createChildren","invokeCreateHooks","isReactivated","initComponent","reactivateComponent","pendingInsert","isPatchable","innerNode","transition","activate","ref$$1","ancestor","addVnodes","startIdx","invokeDestroyHook","removeVnodes","ch","removeAndInvokeRemoveHook","rm","updateChildren","oldCh","newCh","removeOnly","oldKeyToIdx","idxInOld","vnodeToMove","oldStartIdx","newStartIdx","oldEndIdx","oldStartVnode","oldEndVnode","newEndIdx","newStartVnode","newEndVnode","canMove","patchVnode","findIdxInOld","end","hydrate","postpatch","invokeInsertHook","initial","isRenderedModule","inVPre","hasChildNodes","innerHTML","childrenMatch","firstChild","fullInvoke","isInitialPatch","isRealElement","nodeType","hasAttribute","removeAttribute","oldElm","_leaveCb","patchable","i$2","updateDirectives","oldDir","dir","isCreate","isDestroy","oldDirs","normalizeDirectives$1","newDirs","dirsWithInsert","dirsWithPostpatch","oldArg","arg","callHook$1","componentUpdated","callInsert","emptyModifiers","modifiers","getRawDirName","rawName","baseModules","updateAttrs","inheritAttrs","oldAttrs","setAttr","removeAttributeNS","baseSetAttr","setAttributeNS","__ieph","blocker","stopImmediatePropagation","removeEventListener","updateClass","oldData","cls","transitionClass","_transitionClasses","_prevClass","target$1","klass","RANGE_TOKEN","CHECKBOX_RADIO_TOKEN","normalizeEvents","change","createOnceHandler$1","remove$2","useMicrotaskFix","add$1","attachedTimestamp","_wrapper","currentTarget","ownerDocument","updateDOMListeners","svgContainer","events","updateDOMProps","oldProps","childNodes","_value","strCur","shouldUpdateValue","checkVal","composing","isNotInFocusAndDirty","isDirtyWithModifiers","notInFocus","activeElement","_vModifiers","number","trim","parseStyleText","cssText","listDelimiter","propertyDelimiter","normalizeStyleData","normalizeStyleBinding","staticStyle","bindingStyle","getStyle","checkChild","styleData","emptyStyle","cssVarRE","importantRE","setProp","setProperty","normalizedName","normalize","vendorNames","capName","updateStyle","oldStaticStyle","oldStyleBinding","normalizedStyle","oldStyle","newStyle","whitespaceRE","addClass","classList","getAttribute","removeClass","tar","resolveTransition","css","autoCssTransition","enterClass","enterToClass","enterActiveClass","leaveClass","leaveToClass","leaveActiveClass","hasTransition","TRANSITION","ANIMATION","transitionProp","transitionEndEvent","animationProp","animationEndEvent","ontransitionend","onwebkittransitionend","onanimationend","onwebkitanimationend","raf","requestAnimationFrame","nextFrame","addTransitionClass","transitionClasses","removeTransitionClass","whenTransitionEnds","expectedType","getTransitionInfo","propCount","ended","onEnd","transformRE","styles","getComputedStyle","transitionDelays","transitionDurations","transitionTimeout","animationDelays","animationDurations","animationTimeout","hasTransform","delays","durations","toMs","enter","toggleDisplay","cancelled","_enterCb","appearClass","appearToClass","appearActiveClass","beforeEnter","afterEnter","enterCancelled","beforeAppear","appear","afterAppear","appearCancelled","duration","transitionNode","isAppear","startClass","activeClass","toClass","beforeEnterHook","enterHook","afterEnterHook","enterCancelledHook","explicitEnterDuration","expectsCSS","userWantsControl","getHookArgumentsLength","show","pendingNode","_pending","isValidDuration","leave","beforeLeave","afterLeave","leaveCancelled","delayLeave","explicitLeaveDuration","performLeave","invokerFns","_enter","platformModules","patch","vmodel","trigger","directive","binding","_vOptions","setSelected","getValue","onCompositionStart","onCompositionEnd","prevOptions","curOptions","some","needReset","hasNoMatchingOption","actuallySetSelected","isMultiple","option","selectedIndex","initEvent","dispatchEvent","locateNode","transition$$1","originalDisplay","__vOriginalDisplay","display","unbind","platformDirectives","transitionProps","mode","getRealChild","compOptions","extractTransitionData","placeholder","rawChild","hasParentTransition","isSameChild","oldChild","isNotTextNode","isVShowDirective","Transition","_leaving","oldRawChild","delayedLeave","moveClass","TransitionGroup","beforeMount","kept","prevChildren","rawChildren","transitionData","removed","c$1","pos","getBoundingClientRect","updated","hasMove","callPendingCbs","recordPosition","applyTranslation","_reflow","body","offsetHeight","moved","transform","WebkitTransform","transitionDuration","_moveCb","propertyName","_hasMove","cloneNode","newPos","oldPos","dx","left","dy","top","platformComponents","inherits","DerivedHelper","mainHelper","main","lastResults","EventEmitter","detach","removeAllListeners","detachDerivedHelper","getModifiedState","parameters","defer","channel","port","html","IS_IOS","IS_NODE","location","clearImmediate","process","MessageChannel","Dispatch","ONREADYSTATECHANGE","runner","listener","post","postMessage","port2","port1","onmessage","importScripts","versions","v8","classof","Iterators","objectKeys","Properties","AlgoliaSearchHelper","SearchParameters","SearchResults","algoliasearchHelper","client","utils","formats","arrayPrefixGenerators","brackets","prefix","indices","repeat","toISO","toISOString","delimiter","encode","encoder","encodeValuesOnly","serializeDate","date","skipNulls","strictNullHandling","generateArrayPrefix","allowDots","formatter","isBuffer","keyValue","objKeys","assign","format","formatters","arrayFormat","joined","addQueryPrefix","UNSCOPABLES","ArrayPrototype","defaultConstructor","intersection","valToNumber","isValidUserToken","RefinementList","isEqualNumericRefinement","findArray","searchedValue","currentValue","newParameters","_parseNumbers","userToken","facets","disjunctiveFacets","hierarchicalFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacetsRefinements","self","paramName","isKeyKnown","PARAMETERS","isValueDefined","partialState","numbers","numberKeys","parsedValue","insideBoundingBox","geoRect","operators","operator","parsedValues","vPrime","make","instance","facet","rootPath","currentRefinement","getHierarchicalRefinement","clearRefinements","toggleHierarchicalFacetRefinement","validate","currentState","tagFilters","numericFilters","_clearNumericRefinements","setQueryParameters","clearTags","setIndex","setQuery","newQuery","setPage","newPage","page","setFacets","setDisjunctiveFacets","setHitsPerPage","hitsPerPage","setTypoTolerance","typoTolerance","addNumericRefinement","isNumericRefined","getConjunctiveRefinements","isConjunctiveFacet","getDisjunctiveRefinements","isDisjunctiveFacet","getExcludeRefinements","removeNumericRefinement","paramValue","op","getNumericRefinements","getNumericRefinement","newNumericRefinements","operatorList","outValues","predicateResult","addFacet","addDisjunctiveFacet","addHierarchicalFacet","hierarchicalFacet","isHierarchicalFacet","addFacetRefinement","addExcludeRefinement","addDisjunctiveFacetRefinement","addTagRefinement","isTagRefined","modification","removeFacet","removeDisjunctiveFacet","removeHierarchicalFacet","removeFacetRefinement","removeExcludeRefinement","removeDisjunctiveFacetRefinement","removeTagRefinement","toggleFacetRefinement","toggleConjunctiveFacetRefinement","toggleDisjunctiveFacetRefinement","toggleExcludeFacetRefinement","separator","_getHierarchicalFacetSeparator","getHierarchicalFacetByName","upOneOrMultipleLevel","lastIndexOf","addHierarchicalFacetRefinement","isHierarchicalFacetRefined","removeHierarchicalFacetRefinement","toggleTagRefinement","isFacetRefined","isExcludeRefined","isDisjunctiveFacetRefined","refinements","isOperatorDefined","isAttributeValueDefined","getRefinedDisjunctiveFacets","disjunctiveNumericRefinedFacets","getRefinedHierarchicalFacets","getUnrefinedDisjunctiveFacets","refinedFacets","managedParameters","getQueryParams","queryParams","setQueryParameter","parameter","nextWithNumbers","previousPlainObject","acc","nextPlainObject","previous","isPreviousValueDefined","isNextValueDefined","resetPage","_getHierarchicalFacetSortBy","_getHierarchicalRootPath","_getHierarchicalShowParentLevel","showParentLevel","hierarchicalFacetName","getHierarchicalFacetBreadcrumb","refinement","part","toAbsoluteIndex","createMethod","IS_INCLUDES","$this","fromIndex","includes","$","$filter","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","proto","callbackfn","ctor","superCtor","argument","arr1","arr2","IS_PURE","store","copyright","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","requireObjectCoercible","whitespaces","whitespace","ltrim","rtrim","TYPE","string","bitmap","IndexedObject","$assign","B","alphabet","chr","argumentsLength","originalArray","NATIVE_WEAK_MAP","objectHas","shared","sharedKey","OBJECT_ALREADY_INITIALIZED","WeakMap","enforce","getterFor","state","wmget","wmhas","wmset","metadata","facade","STATE","inspectSource","InternalStateModule","getInternalState","enforceInternalState","TEMPLATE","simple","setPrototypeOf","dummy","Wrapper","NewTarget","NewTargetPrototype","activeXDocument","documentCreateElement","GT","LT","PROTOTYPE","SCRIPT","IE_PROTO","EmptyConstructor","scriptTag","NullProtoObjectViaActiveX","close","temp","parentWindow","NullProtoObjectViaIFrame","iframeDocument","iframe","JS","contentWindow","NullProtoObject","domain","ActiveXObject","$find","addToUnscopables","FIND","SKIPS_HOLES","createIteratorConstructor","getPrototypeOf","setToStringTag","IteratorsCore","IteratorPrototype","BUGGY_SAFARI_ITERATORS","KEYS","VALUES","ENTRIES","returnThis","Iterable","NAME","IteratorConstructor","DEFAULT","IS_SET","CurrentIteratorPrototype","KEY","getIterationMethod","KIND","defaultIterator","IterablePrototype","INCORRECT_VALUES_NAME","nativeIterator","anyNativeIterator","propertyKey","functionToString","classNames","suit","connector","instantSearchInstance","getParentIndex","mainIndex","updateState","widget","widgetParams","addWidgets","__initialSearchResults","started","__forceRender","beforeDestroy","removeWidgets","createDocumentationLink","_ref","_ref$connector","createDocumentationMessageGenerator","_len","widgets","_key","links","getObjectType","checkRendering","rendering","usage","htmlEscapes","regexUnescapedHtml","regexHasUnescapedHtml","character","_typeof","getTag","isObjectLike","_extends","enumerableOnly","symbols","sym","_objectSpread","_defineProperty","TAG_PLACEHOLDER","highlightPreTag","highlightPostTag","TAG_REPLACEMENT","replaceTagsAndEscape","recursiveEscape","input","escapeHits","hits","__escaped","_highlightResult","_snippetResult","escapeFacets","facetHits","highlighted","serializePayload","payload","btoa","buildPayload","widgetType","methodName","eventType","eventName","hitsArray","removeEscapedFromHits","queryID","__queryID","objectIDs","objectID","positions","__position","insightsMethod","createSendEventForHits","_ref2","sendEventForHits","sendEventToInsights","createBindEventForHits","_ref3","bindEventForHits","_len2","_key2","withUsage","renderFn","unmountFn","_ref$escapeHTML","escapeHTML","connectorState","$$type","initOptions","getWidgetRenderState","renderOptions","renderState","sendEvent","getRenderState","autocomplete","_ref4","_this","helper","scopedResults","refine","scopedResult","results","indexId","getWidgetUiState","uiState","_ref5","searchParameters","getWidgetSearchParameters","_ref6","dispose","_ref7","stateWithoutQuery","createWidgetMixin","connectAutocomplete","createSuitMixin","required","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","minLen","_arrayLikeToArray","_arr","attributes","_ref$separator","_ref$rootPath","_ref$transformItems","transformItems","_attributes","getRefinedState","facetValue","breadcrumb","createURL","getItems","_state$hierarchicalFa","facetValues","getFacetValues","shiftItemsValues","setState","canRefine","currentItem","label","idx","emitter","instantSearchPanelEmitter","updateCanRefine","mapStateToCanRefine","hasAlreadyEmitted","connectBreadcrumb","createPanelConsumerMixin","isLastItem","_ref$attributesToClea","attributesToClear","finalState","findIndex","uniq","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","sourceSymbolKeys","sourceKeys","mergeWithRest","right","ruleContexts","rest","mergeFacets","mergeDisjunctiveFacets","nextFacets","mergeTagRefinements","mergeFacetRefinements","mergeFacetsExcludes","mergeDisjunctiveFacetsRefinements","mergeNumericRefinements","mergeHierarchicalFacetsRefinements","hierarchicalFacetsRefinementsMerged","hierarchicalFacetsMerged","tagRefinementsMerged","numericRefinementsMerged","disjunctiveFacetsRefinementsMerged","facetsExcludesMerged","facetRefinementsMerged","disjunctiveFacetsMerged","ruleContextsMerged","facetsMerged","predicate","unescapeRefinement","getRefinement","count","resultsFacets","resultsFacet","facetDeclaration","nameParts","getFacetRefinement","facetData","refinementKey","_loop","exhaustive","getRefinements","includesQuery","_state$facetsRefineme","_state$facetsExcludes","_state$disjunctiveFac","_state$numericRefinem","_state$tagRefinements","refinementNames","refinementName","operatorOriginal","valueOrValues","numericValue","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","iter","_ref$includedAttribut","includedAttributes","_ref$excludedAttribut","excludedAttributes","cachedRefine","cachedCreateURL","getAttributesToClear","indexHelper","mergeSearchParameters","attributeToClear","hasRefinements","connectClearRefinements","getInitialSearchParameters","actualState","nextSearchParameters","_renderState$configur","widgetRenderState","configure","getPropertyByPath","parts","createOptionalFilter","attributeName","attributeValue","attributeScore","matchingPatterns","_ref2$transformSearch","transformSearchParameters","optionalFilters","score","attributeSubValue","sumOrFiltersScores","facetFilters","makeWidget","currentRefinements","_createURL","accResults","getRefinementsItems","clearRefinementFromState","filterFunction","normalizeRefinement","allItems","getOperatorSymbol","normalizedRefinement","connectCurrentRefinements","noRefinement","createItemKey","filters","toLocaleUpperCase","createSendEventForFacet","sendEventForFacet","_args$","getIndex","_ref$showParentLevel","_ref$limit","limit","_ref$showMore","showMore","_ref$showMoreLimit","showMoreLimit","_ref$sortBy","_refine","toggleShowMore","cachedToggleShowMore","isShowingMore","createToggleShowMore","getLimit","_prepareFacetValues","subValue","hierarchicalMenu","canToggleShowMore","facetItems","hasExhaustiveItems","maxValuesPerFacet","withFacetConfiguration","currentMaxValuesPerFacet","nextMaxValuesPerFacet","withMaxValuesPerFacet","level","connectHierarchicalMenu","HierarchicalMenuList","preTag","postTag","highlightedValue","isHighlighted","highlightProperty","highlightedTagName","parsedHighlights","parseAlgoliaHit","AisHighlighter","selectedObjectIDs","selectedHits","queryIDs","getPositions","inferPayload","aa","withInstantSearchUsage","inferredPayload","withInsights","isFirstRender","insights","insightsClient","addAbsolutePosition","addQueryID","bindEvent","initialEscaped","connectHitsWithInsights","userItems","defaultItems","defaultItem","normalizeItems","getRefine","createURLFactory","isCurrentInOptions","hasNoResults","nbHits","connectHitsPerPage","handleChange","resolveSearchParameters","getParent","states","getHelper","isIndexWidget","privateHelperSetState","isPageReset","_uiState","getLocalWidgetsUiState","widgetStateOptions","initialUiState","getWidgetState","getLocalWidgetsSearchParameters","widgetSearchParametersOptions","initialSearchParameters","resetPageFromWidgets","indexWidgets","widgetHelper","getWidgets","resolveScopedResultsFromWidgets","getIndexId","getResults","_widgetParams$indexId","localWidgets","localUiState","localInstantSearchInstance","localParent","derivedHelper","$$widgetType","getIndexName","getScopedResults","widgetParent","widgetSiblings","nextState","_initialUiState","templatesConfig","searchMetadata","isSearchStalled","_isSearchStalled","storeRenderState","scheduleSearch","_this2","_this3","onStateChange","setUiState","searchWithoutTriggeringOnStateChange","maxFacetHits","userState","derive","scheduleStalledRender","scheduleRender","onInternalStateChange","_this4","_state","_this5","previousUiState","innerIndex","refreshUiState","parentIndexName","$_ais_getParentIndex","NAMESPACE","componentName","descendantName","modifierName","descendent","modifier","_ref$highlightedTagNa","_ref$cssClasses","cssClasses","_ref2$value","className","concatHighlightedParts","regexEscapedHtml","regexHasEscapedHtml","hasAlphanumeric","getHighlightFromSiblings","_parts","_parts2","isNextHighlighted","isPreviousHighlighted","reverseHighlightedParts","getHighlightedParts","splitByPreTag","firstValue","elements","splitByPostTag","reverseHighlightedValue","writeDataAttributes","serializedPayload","hoganHelpers","numberLocale","formatNumber","toLocaleString","highlight","highlightOptions","reverseHighlight","reverseHighlightOptions","snippet","snippetOptions","reverseSnippet","reverseSnippetOptions","_JSON$parse","nextMicroTask","progress","wait","cancel","getIndexStateWithoutConfigure","trackedUiState","simpleStateMapping","stateToRoute","routeToState","routeState","_classCallCheck","_defineProperties","_createClass","protoProps","staticProps","defaultCreateURL","qsModule","hostname","_location$port","pathname","queryString","portWithPrefix","defaultParseURL","arrayLimit","setWindowTitle","title","BrowserHistory","windowTitle","_ref3$writeDelay","writeDelay","_ref3$createURL","_ref3$parseURL","parseURL","writeTimer","history","pushState","_onPopState","isEqual","first","second","_Object$keys","_props$router","router","_props$stateMapping","stateMapping","topLevelCreateURL","route","lastRouteState","subscribe","onUpdate","unsubscribe","extractPayload","isMetadataEnabled","createMetadataMiddleware","payloadContainer","refNode","ua","_ua","_inherits","subClass","superClass","_setPrototypeOf","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_getPrototypeOf","construct","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","Proxy","_EventEmitter","InstantSearch","_super","hasPendingRequests","_searchStalledTimer","nextUiState","middleware","_options$indexName","_options$initialUiSta","_options$routing","routing","searchFunction","_options$stalledSearc","stalledSearchDelay","_options$searchClient","searchClient","_options$insightsClie","_options$onStateChang","helpers","compileOptions","_stalledSearchDelay","_searchFunction","routerOptions","newMiddlewareList","newMiddleware","creator","middlewareToUnuse","searchOnlyWithDerivedHelpers","fakeClient","_mainHelperSearch","mainIndexHelper","searchFunctionHelper","overrideStateWithoutTriggeringChangeEvent","setIndexHelperState","indexWidget","ANONYMOUS_TOKEN_COOKIE_KEY","getCookie","cookies","cookie","substring","getInsightsAnonymousUserTokenInternal","getInsightsAnonymousUserToken","getStateWithoutPage","hasSessionStorage","sessionStorage","createInfiniteHitsSessionStorageCache","SyntaxError","$_ais_instantSearchInstance","setClient","middlewares","unuse","validator","$_ais_ssrInstantSearchInstance","getInMemoryCache","cachedHits","cachedState","extractHitsFromCachedHits","showPrevious","_ref4$escapeHTML","_ref4$transformItems","_ref4$cache","getFirstReceivedPage","_state$page","pages","getLastReceivedPage","_state$page2","getShowPrevious","getShowMore","currentPageHits","infiniteHits","isFirstPage","_state$page3","_page","isLastPage","nbPages","stateWithoutPage","_ref8","widgetSearchParameters","connectInfiniteHitsWithInsights","refinePrevious","refineNext","menu","_helper$getHierarchic","_helper$getHierarchic2","refinedItem","_searchParameters$get","_searchParameters$get2","connectMenu","showShowMoreButton","convertNumericRefinementsToFilters","filtersObj","isFiniteNumber","_ref2$attribute","_ref2$items","_ref2$transformItems","prepareItems","encodeURI","equal","numericMenu","withoutRefinements","isExact","_value$split$map","_value$split$map2","withMinRefinement","withMaxRefinement","refinedState","newState","hasNumericRefinement","resolvedState","refinedOption","decodeURI","connectNumericMenu","range","_ref$start","_ref$step","limitStep","arrayLength","round","Paginator","currentPage","total","padding","totalDisplayedPages","nbPagesDisplayed","paddingLeft","calculatePaddingLeft","paddingRight","totalPages","_ref$padding","pager","getMaxPage","pagination","connectPagination","showFirst","showLast","showNext","const","createPanelProviderMixin","theme","algoliaUrl","hasStateRefinements","escapeRuleContext","ruleName","getRuleContextsFromTrackedFilters","sharedHelperState","trackedFilters","facetRefinements","getTrackedFacetValues","trackedFacetValues","applyRuleContexts","initialRuleContexts","transformRuleContexts","previousRuleContexts","newRuleContexts","nextRuleContexts","unmount","_ref2$trackedFilters","_ref2$transformRuleCo","rules","onHelperChange","hasTrackedFilters","_ref4$userData","userData","queryRules","removeListener","connectQueryRules","toPrecision","precision","pow","ceil","minBound","maxBound","_ref2$precision","formatToNumber","toFixed","rangeFormatter","currentRange","nextMin","nextMax","newNextMin","newNextMax","currentRangeMin","currentRangeMax","isResetMin","isResetMax","_toPrecision","nextMinAsNumber","nextMaxAsNumber","isResetNewNextMin","isGreaterThanCurrentRange","isMinValid","isResetNewNextMax","isLowerThanRange","isMaxValid","hasMinChange","hasMaxChange","sendEventWithRefinedState","createSendEvent","_facetValue","_getCurrentRange","stats","_getCurrentRefinement","minValue","_ref9","_ref10","maxValue","Infinity","_ref11","_ref12","_ref13","facetsFromResults","facetResult","_ref14","_ref15","_searchParameters$get3","_ref16","lowerBound","upperBound","connectRange","minInput","maxInput","minRange","maxRange","pick","STEP","getRefinedStar","_ref2$max","_getRefinedStar","_values$","getFacetsMaxDecimalPlaces","facetResults","maxDecimalPlaces","_facetResult$name$spl","_facetResult$name$spl2","_facetResult$name$spl3","decimal","emptyState","toggleRefinementFactory","ratingMenu","refinedStar","star","sum","stars","withDisjunctiveFacet","connectRatingMenu","_ref$operator","_ref$escapeFacetValue","escapeFacetValues","lastResultsFromMainSearch","triggerRefine","formatItems","lastItemsFromMainSearch","createSearchForFacetValues","tags","normalizedFacetValues","isFromSearch","maxValuesPerFacetConfig","currentLimit","searchFacetValues","canShowLess","canShowMore","searchForItems","withoutMaxValuesPerFacet","isDisjunctive","autofocus","showLoadingIndicator","shouldShowLoadingIndicator","submitTitle","resetTitle","onFormSubmit","blur","onFormReset","SearchInput","AisHighlight","connectRefinementList","searchable","searchablePlaceholder","searchForFacetValuesQuery","connectStateResults","stateResults","queryHook","_clear","_cachedClear","searchBox","setQueryAndSearch","connectSearchBox","localValue","isControlled","currentIndex","initialIndex","connectSortBy","nbSortedHits","areHitsSorted","appliedRelevancyStrictness","processingTimeMS","connectStats","escapeRefinement","sendEventForToggle","_ref2$on","userOn","userOff","off","hasAnOffValue","valuesToRemove","valuesToAdd","onFacetValue","offFacetValue","offValue","allFacetValues","onData","offData","nextRefinement","toggle","connectToggleRefinement","recognition","searchAsYouSpeak","language","onQueryChange","SpeechRecognitionAPI","webkitSpeechRecognition","SpeechRecognition","getDefaultState","transcript","isSpeechFinal","errorCode","isBrowserSupported","isListening","getState","resetState","onStart","onError","onResult","isFinal","startListening","interimResults","lang","stopListening","_widgetParams$searchA","additionalQueryParameters","_widgetParams$createV","createVoiceSearchHelper","voiceSearch","ignorePlurals","removeStopWords","optionalWords","_voiceSearchHelper","toggleListening","voiceListeningState","additional","toReset","connectVoiceSearch","buttonTitle","disabledButtonTitle","buttonSvgAttrs","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","errorNotAllowed","rootSlotProps","innerSlotProps","handleClick","relevantSort","relevancyStrictness","isVirtualReplica","isRelevantSorted","_uiState$relevantSort","connectRelevantSort","postfix","replacement","feature","detection","POLYFILL","NATIVE","sources","reduceRight","generateTrees","orderBy","prepareHierarchicalFacetSortBy","hierarchicalFacetResult","hierarchicalFacetIndex","hierarchicalFacetRefinement","hierarchicalSeparator","hierarchicalRootPath","hierarchicalShowParentLevel","rootExhaustive","generateTreeFn","generateHierarchicalTree","hierarchicalTree","currentHierarchicalLevel","subtree","picked","tuple","onlyMatchingTree","facetCount","parentPath","$defineProperty","Attributes","allowPrototypes","decoder","decode","depth","parameterLimit","plainObjects","parseValues","cleanStr","ignoreQueryPrefix","bracketEqualsPos","parseObject","chain","leaf","root","cleanRoot","parseArrays","parseKeys","givenKey","tempObj","newObj","compact","arrayMethodIsStrict","nativeJoin","ES3_STRINGS","STRICT_METHOD","NativePromise","speciesConstructor","promiseResolve","NON_GENERIC","real","onFinally","isFunction","inheritIfRequired","NUMBER","NativeNumber","NumberPrototype","BROKEN_CLASSOF","third","radix","maxCode","digits","code","NaN","NumberWrapper","valueOf","ignoreCase","multiline","dotAll","unicode","sticky","PrototypeOfArrayIteratorPrototype","arrayIterator","NEW_ITERATOR_PROTOTYPE","TO_STRING_TAG_SUPPORT","FunctionPrototype","FunctionPrototypeToString","nameRE","percentTwenties","RFC1738","RFC3986","flush","head","promise","macrotask","IS_WEBOS_WEBKIT","WebKitMutationObserver","queueMicrotaskDescriptor","queueMicrotask","exit","task","NATIVE_SYMBOL","USE_SYMBOL_AS_UID","WellKnownSymbolsStore","createWellKnownSymbol","withoutSetter","nativeKeys","FAILS_ON_PRIMITIVES","arraySpeciesCreate","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","IS_FILTER_OUT","NO_HOLES","specificCreate","boundFunction","filterOut","formatSort","getIndices","assignFacetStats","dest","facetStats","findMatchingHierarchicalFacetFromAttributeName","hierarchicalAttributeName","facetNames","mainSubResponse","_rawResults","facetsIndices","disjunctiveFacetsIndices","nextDisjunctiveResult","mainFacets","facetKey","facetValueObject","facetIndex","idxAttributeName","exhaustiveFacetsCount","position","isFacetDisjunctive","isFacetConjunctive","facets_stats","disjunctiveFacet","dfacet","attributeIndex","dataFromMainRequest","refinedFacet","excludes","extractNormalizedFacetValues","isExcluded","recSort","sortFn","sortedChildren","vanillaSortFn","order","getFacetStatsIfAvailable","rootFacet","intermediateFacet","newFacet","getFacetByName","DEFAULT_SORT","hierarchicalFacetValues","getFacetStats","PREFERRED_STRING","SHARED","names","compareAscending","other","valIsDefined","valIsNull","othIsDefined","othIsNull","collection","iteratees","orders","criteria","iteratee","EXISTS","newPromiseCapability","promiseCapability","variable","$propertyIsEnumerable","NASHORN_BUG","1","V","hexTable","compactQueue","compacted","arrayToObject","mergeTarget","decodeURIComponent","requestBuilder","_getQueries","queries","_getHitsSearchParams","_getDisjunctiveFacetSearchParams","_getHitsHierarchicalFacetsAttributes","_getFacetFilters","_getNumericFilters","_getTagFilters","additionalParams","hierarchicalRootLevel","attributesToRetrieve","attributesToHighlight","attributesToSnippet","analytics","clickAnalytics","_getDisjunctiveHierarchicalFacetAttribute","vs","orFilters","attributeToRefine","attributesIndex","allAttributes","hierarchicalRefinement","newAttributes","rootLevel","parentLevel","getSearchForFacetQuery","stateForSearchForFacetValues","searchForFacetSearchParameters","aPossiblePrototype","CORRECT_SETTER","TAG","$map","check","globalThis","DOMIterables","ArrayIteratorMethods","ArrayValues","COLLECTION_NAME","Collection","CollectionPrototype","CORRECT_PROTOTYPE_GETTER","ObjectPrototype","defineIterator","ARRAY_ITERATOR","setInternalState","iterated","kind","Arguments","Internal","OwnPromiseCapability","PromiseWrapper","nativeThen","redefineAll","setSpecies","anInstance","iterate","checkCorrectnessOfIteration","microtask","hostReportErrors","newPromiseCapabilityModule","perform","IS_BROWSER","PROMISE","getInternalPromiseState","NativePromisePrototype","PromiseConstructor","PromiseConstructorPrototype","newGenericPromiseCapability","DISPATCH_EVENT","NATIVE_REJECTION_EVENT","PromiseRejectionEvent","UNHANDLED_REJECTION","REJECTION_HANDLED","PENDING","FULFILLED","REJECTED","HANDLED","UNHANDLED","SUBCLASSING","GLOBAL_CORE_JS_PROMISE","FakePromise","INCORRECT_ITERATION","isThenable","isReject","notified","reactions","ok","exited","reaction","fail","rejection","onHandleUnhandled","onUnhandled","IS_UNHANDLED","isUnhandled","unwrap","internalReject","internalResolve","wrapper","executor","onFulfilled","onRejected","wrap","capability","$promiseResolve","remaining","alreadyCalled","race","getOwnPropertyDescriptorModule","_queryId","_lastQueryIdReceived","derivedHelpers","_currentNbQueries","setCurrentPage","_change","getCurrentPage","_search","onlyWithDerivedHelpers","getQuery","searchOnce","tempState","_originalResponse","derivedState","attributesForPrediction","errorMessage","clientHasSFFV","algoliaQuery","searchForFacetValuesPromise","addDisjunctiveRefine","addRefine","addFacetExclusion","addExclude","addTag","removeDisjunctiveRefine","removeRefine","removeFacetExclusion","removeExclude","removeTag","toggleFacetExclusion","toggleExclude","toggleRefine","toggleTag","nextPage","previousPage","isDisjunctiveRefined","hasTag","hasTagRefinements","getPage","getTags","conjRefinements","excludeRefinements","disjRefinements","mainQueries","queriesCount","derivedQueries","derivedStateQueries","queryId","_dispatchAlgoliaResponse","_dispatchAlgoliaError","specificResults","formattedResponse","containsRefinement","_hasDisjunctiveRefinements","disjunctiveRefinements","newClient","getClient","PromiseCapability","$$resolve","$$reject","classofRaw","CORRECT_ARGUMENTS","tryGet","callee","ReflectOwnKeys","ReflectApply","receiver","ProcessEmitWarning","warning","NumberIsNaN","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","_getMaxListeners","_addListener","prepend","newListener","warned","onceWrapper","fired","wrapFn","_onceWrap","wrapped","_listeners","evlistener","unwrapListeners","arrayClone","listenerCount","copy","spliceOne","errorListener","resolver","eventTargetAgnosticAddListener","addErrorHandlerIfEventEmitter","wrapListener","RangeError","setMaxListeners","getMaxListeners","doError","er","addListener","prependListener","prependOnceListener","originalListener","rawListeners","eventNames","createProperty","nativeSlice","fin","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList"],"mappings":"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","file":"js/chunk-vendors.164c7eea.js","sourcesContent":["var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","var aFunction = require('../internals/a-function');\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return $getOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n","'use strict';\n\nvar find = require('./find');\n\n/**\n * Transform sort format from user friendly notation to lodash format\n * @param {string[]} sortBy array of predicate of the form \"attribute:order\"\n * @param {string[]} [defaults] array of predicate of the form \"attribute:order\"\n * @return {array.<string[]>} array containing 2 elements : attributes, orders\n */\nmodule.exports = function formatSort(sortBy, defaults) {\n  var defaultInstructions = (defaults || []).map(function(sort) {\n    return sort.split(':');\n  });\n\n  return sortBy.reduce(\n    function preparePredicate(out, sort) {\n      var sortInstruction = sort.split(':');\n\n      var matchingDefault = find(defaultInstructions, function(\n        defaultInstruction\n      ) {\n        return defaultInstruction[0] === sortInstruction[0];\n      });\n\n      if (sortInstruction.length > 1 || !matchingDefault) {\n        out[0].push(sortInstruction[0]);\n        out[1].push(sortInstruction[1]);\n        return out;\n      }\n\n      out[0].push(matchingDefault[0]);\n      out[1].push(matchingDefault[1]);\n      return out;\n    },\n    [[], []]\n  );\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- requied for testing\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","/*! algoliasearch-lite.umd.js | 4.9.1 |  Algolia, inc. | https://github.com/algolia/algoliasearch-client-javascript */\n!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):(e=e||self).algoliasearch=t()}(this,(function(){\"use strict\";function e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function r(r){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?t(Object(o),!0).forEach((function(t){e(r,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))}))}return r}function n(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var u,i=e[Symbol.iterator]();!(n=(u=i.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==i.return||i.return()}finally{if(o)throw a}}return r}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}function a(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}function u(e){var t,r=\"algoliasearch-client-js-\".concat(e.key),n=function(){return void 0===t&&(t=e.localStorage||window.localStorage),t},a=function(){return JSON.parse(n().getItem(r)||\"{}\")};return{get:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then((function(){var r=JSON.stringify(e),n=a()[r];return Promise.all([n||t(),void 0!==n])})).then((function(e){var t=o(e,2),n=t[0],a=t[1];return Promise.all([n,a||r.miss(n)])})).then((function(e){return o(e,1)[0]}))},set:function(e,t){return Promise.resolve().then((function(){var o=a();return o[JSON.stringify(e)]=t,n().setItem(r,JSON.stringify(o)),t}))},delete:function(e){return Promise.resolve().then((function(){var t=a();delete t[JSON.stringify(e)],n().setItem(r,JSON.stringify(t))}))},clear:function(){return Promise.resolve().then((function(){n().removeItem(r)}))}}}function i(e){var t=a(e.caches),r=t.shift();return void 0===r?{get:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}},n=t();return n.then((function(e){return Promise.all([e,r.miss(e)])})).then((function(e){return o(e,1)[0]}))},set:function(e,t){return Promise.resolve(t)},delete:function(e){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return r.get(e,n,o).catch((function(){return i({caches:t}).get(e,n,o)}))},set:function(e,n){return r.set(e,n).catch((function(){return i({caches:t}).set(e,n)}))},delete:function(e){return r.delete(e).catch((function(){return i({caches:t}).delete(e)}))},clear:function(){return r.clear().catch((function(){return i({caches:t}).clear()}))}}}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{serializable:!0},t={};return{get:function(r,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}},a=JSON.stringify(r);if(a in t)return Promise.resolve(e.serializable?JSON.parse(t[a]):t[a]);var u=n(),i=o&&o.miss||function(){return Promise.resolve()};return u.then((function(e){return i(e)})).then((function(){return u}))},set:function(r,n){return t[JSON.stringify(r)]=e.serializable?JSON.stringify(n):n,Promise.resolve(n)},delete:function(e){return delete t[JSON.stringify(e)],Promise.resolve()},clear:function(){return t={},Promise.resolve()}}}function c(e){for(var t=e.length-1;t>0;t--){var r=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[r],e[r]=n}return e}function l(e,t){return t?(Object.keys(t).forEach((function(r){e[r]=t[r](e)})),e):e}function f(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=0;return e.replace(/%s/g,(function(){return encodeURIComponent(r[o++])}))}var h={WithinQueryParameters:0,WithinHeaders:1};function d(e,t){var r=e||{},n=r.data||{};return Object.keys(r).forEach((function(e){-1===[\"timeout\",\"headers\",\"queryParameters\",\"data\",\"cacheable\"].indexOf(e)&&(n[e]=r[e])})),{data:Object.entries(n).length>0?n:void 0,timeout:r.timeout||t,headers:r.headers||{},queryParameters:r.queryParameters||{},cacheable:r.cacheable}}var m={Read:1,Write:2,Any:3},p=1,v=2,y=3;function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;return r(r({},e),{},{status:t,lastUpdate:Date.now()})}function b(e){return\"string\"==typeof e?{protocol:\"https\",url:e,accept:m.Any}:{protocol:e.protocol||\"https\",url:e.url,accept:e.accept||m.Any}}var O=\"GET\",P=\"POST\";function q(e,t){return Promise.all(t.map((function(t){return e.get(t,(function(){return Promise.resolve(g(t))}))}))).then((function(e){var r=e.filter((function(e){return function(e){return e.status===p||Date.now()-e.lastUpdate>12e4}(e)})),n=e.filter((function(e){return function(e){return e.status===y&&Date.now()-e.lastUpdate<=12e4}(e)})),o=[].concat(a(r),a(n));return{getTimeout:function(e,t){return(0===n.length&&0===e?1:n.length+3+e)*t},statelessHosts:o.length>0?o.map((function(e){return b(e)})):t}}))}function j(e,t,n,o){var u=[],i=function(e,t){if(e.method===O||void 0===e.data&&void 0===t.data)return;var n=Array.isArray(e.data)?e.data:r(r({},e.data),t.data);return JSON.stringify(n)}(n,o),s=function(e,t){var n=r(r({},e.headers),t.headers),o={};return Object.keys(n).forEach((function(e){var t=n[e];o[e.toLowerCase()]=t})),o}(e,o),c=n.method,l=n.method!==O?{}:r(r({},n.data),o.data),f=r(r(r({\"x-algolia-agent\":e.userAgent.value},e.queryParameters),l),o.queryParameters),h=0,d=function t(r,a){var l=r.pop();if(void 0===l)throw{name:\"RetryError\",message:\"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.\",transporterStackTrace:A(u)};var d={data:i,headers:s,method:c,url:S(l,n.path,f),connectTimeout:a(h,e.timeouts.connect),responseTimeout:a(h,o.timeout)},m=function(e){var t={request:d,response:e,host:l,triesLeft:r.length};return u.push(t),t},p={onSuccess:function(e){return function(e){try{return JSON.parse(e.content)}catch(t){throw function(e,t){return{name:\"DeserializationError\",message:e,response:t}}(t.message,e)}}(e)},onRetry:function(n){var o=m(n);return n.isTimedOut&&h++,Promise.all([e.logger.info(\"Retryable failure\",x(o)),e.hostsCache.set(l,g(l,n.isTimedOut?y:v))]).then((function(){return t(r,a)}))},onFail:function(e){throw m(e),function(e,t){var r=e.content,n=e.status,o=r;try{o=JSON.parse(r).message}catch(e){}return function(e,t,r){return{name:\"ApiError\",message:e,status:t,transporterStackTrace:r}}(o,n,t)}(e,A(u))}};return e.requester.send(d).then((function(e){return function(e,t){return function(e){var t=e.status;return e.isTimedOut||function(e){var t=e.isTimedOut,r=e.status;return!t&&0==~~r}(e)||2!=~~(t/100)&&4!=~~(t/100)}(e)?t.onRetry(e):2==~~(e.status/100)?t.onSuccess(e):t.onFail(e)}(e,p)}))};return q(e.hostsCache,t).then((function(e){return d(a(e.statelessHosts).reverse(),e.getTimeout)}))}function w(e){var t={value:\"Algolia for JavaScript (\".concat(e,\")\"),add:function(e){var r=\"; \".concat(e.segment).concat(void 0!==e.version?\" (\".concat(e.version,\")\"):\"\");return-1===t.value.indexOf(r)&&(t.value=\"\".concat(t.value).concat(r)),t}};return t}function S(e,t,r){var n=T(r),o=\"\".concat(e.protocol,\"://\").concat(e.url,\"/\").concat(\"/\"===t.charAt(0)?t.substr(1):t);return n.length&&(o+=\"?\".concat(n)),o}function T(e){return Object.keys(e).map((function(t){return f(\"%s=%s\",t,(r=e[t],\"[object Object]\"===Object.prototype.toString.call(r)||\"[object Array]\"===Object.prototype.toString.call(r)?JSON.stringify(e[t]):e[t]));var r})).join(\"&\")}function A(e){return e.map((function(e){return x(e)}))}function x(e){var t=e.request.headers[\"x-algolia-api-key\"]?{\"x-algolia-api-key\":\"*****\"}:{};return r(r({},e),{},{request:r(r({},e.request),{},{headers:r(r({},e.request.headers),t)})})}var N=function(e){var t=e.appId,n=function(e,t,r){var n={\"x-algolia-api-key\":r,\"x-algolia-application-id\":t};return{headers:function(){return e===h.WithinHeaders?n:{}},queryParameters:function(){return e===h.WithinQueryParameters?n:{}}}}(void 0!==e.authMode?e.authMode:h.WithinHeaders,t,e.apiKey),a=function(e){var t=e.hostsCache,r=e.logger,n=e.requester,a=e.requestsCache,u=e.responsesCache,i=e.timeouts,s=e.userAgent,c=e.hosts,l=e.queryParameters,f={hostsCache:t,logger:r,requester:n,requestsCache:a,responsesCache:u,timeouts:i,userAgent:s,headers:e.headers,queryParameters:l,hosts:c.map((function(e){return b(e)})),read:function(e,t){var r=d(t,f.timeouts.read),n=function(){return j(f,f.hosts.filter((function(e){return 0!=(e.accept&m.Read)})),e,r)};if(!0!==(void 0!==r.cacheable?r.cacheable:e.cacheable))return n();var a={request:e,mappedRequestOptions:r,transporter:{queryParameters:f.queryParameters,headers:f.headers}};return f.responsesCache.get(a,(function(){return f.requestsCache.get(a,(function(){return f.requestsCache.set(a,n()).then((function(e){return Promise.all([f.requestsCache.delete(a),e])}),(function(e){return Promise.all([f.requestsCache.delete(a),Promise.reject(e)])})).then((function(e){var t=o(e,2);t[0];return t[1]}))}))}),{miss:function(e){return f.responsesCache.set(a,e)}})},write:function(e,t){return j(f,f.hosts.filter((function(e){return 0!=(e.accept&m.Write)})),e,d(t,f.timeouts.write))}};return f}(r(r({hosts:[{url:\"\".concat(t,\"-dsn.algolia.net\"),accept:m.Read},{url:\"\".concat(t,\".algolia.net\"),accept:m.Write}].concat(c([{url:\"\".concat(t,\"-1.algolianet.com\")},{url:\"\".concat(t,\"-2.algolianet.com\")},{url:\"\".concat(t,\"-3.algolianet.com\")}]))},e),{},{headers:r(r(r({},n.headers()),{\"content-type\":\"application/x-www-form-urlencoded\"}),e.headers),queryParameters:r(r({},n.queryParameters()),e.queryParameters)}));return l({transporter:a,appId:t,addAlgoliaAgent:function(e,t){a.userAgent.add({segment:e,version:t})},clearCache:function(){return Promise.all([a.requestsCache.clear(),a.responsesCache.clear()]).then((function(){}))}},e.methods)},C=function(e){return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={transporter:e.transporter,appId:e.appId,indexName:t};return l(n,r.methods)}},k=function(e){return function(t,n){var o=t.map((function(e){return r(r({},e),{},{params:T(e.params||{})})}));return e.transporter.read({method:P,path:\"1/indexes/*/queries\",data:{requests:o},cacheable:!0},n)}},J=function(e){return function(t,o){return Promise.all(t.map((function(t){var a=t.params,u=a.facetName,i=a.facetQuery,s=n(a,[\"facetName\",\"facetQuery\"]);return C(e)(t.indexName,{methods:{searchForFacetValues:F}}).searchForFacetValues(u,i,r(r({},o),s))})))}},E=function(e){return function(t,r,n){return e.transporter.read({method:P,path:f(\"1/answers/%s/prediction\",e.indexName),data:{query:t,queryLanguages:r},cacheable:!0},n)}},I=function(e){return function(t,r){return e.transporter.read({method:P,path:f(\"1/indexes/%s/query\",e.indexName),data:{query:t},cacheable:!0},r)}},F=function(e){return function(t,r,n){return e.transporter.read({method:P,path:f(\"1/indexes/%s/facets/%s/query\",e.indexName,t),data:{facetQuery:r},cacheable:!0},n)}},R=1,D=2,W=3;function H(e,t,n){var o,a={appId:e,apiKey:t,timeouts:{connect:1,read:2,write:30},requester:{send:function(e){return new Promise((function(t){var r=new XMLHttpRequest;r.open(e.method,e.url,!0),Object.keys(e.headers).forEach((function(t){return r.setRequestHeader(t,e.headers[t])}));var n,o=function(e,n){return setTimeout((function(){r.abort(),t({status:0,content:n,isTimedOut:!0})}),1e3*e)},a=o(e.connectTimeout,\"Connection timeout\");r.onreadystatechange=function(){r.readyState>r.OPENED&&void 0===n&&(clearTimeout(a),n=o(e.responseTimeout,\"Socket timeout\"))},r.onerror=function(){0===r.status&&(clearTimeout(a),clearTimeout(n),t({content:r.responseText||\"Network request failed\",status:r.status,isTimedOut:!1}))},r.onload=function(){clearTimeout(a),clearTimeout(n),t({content:r.responseText,status:r.status,isTimedOut:!1})},r.send(e.data)}))}},logger:(o=W,{debug:function(e,t){return R>=o&&console.debug(e,t),Promise.resolve()},info:function(e,t){return D>=o&&console.info(e,t),Promise.resolve()},error:function(e,t){return console.error(e,t),Promise.resolve()}}),responsesCache:s(),requestsCache:s({serializable:!1}),hostsCache:i({caches:[u({key:\"\".concat(\"4.9.1\",\"-\").concat(e)}),s()]}),userAgent:w(\"4.9.1\").add({segment:\"Browser\",version:\"lite\"}),authMode:h.WithinQueryParameters};return N(r(r(r({},a),n),{},{methods:{search:k,searchForFacetValues:J,multipleQueries:k,multipleSearchForFacetValues:J,initIndex:function(e){return function(t){return C(e)(t,{methods:{search:I,searchForFacetValues:F,findAnswers:E}})}}}}))}return H.version=\"4.9.1\",H}));\n","'use strict';\n\nfunction clone(value) {\n  if (typeof value === 'object' && value !== null) {\n    return _merge(Array.isArray(value) ? [] : {}, value);\n  }\n  return value;\n}\n\nfunction isObjectOrArrayOrFunction(value) {\n  return (\n    typeof value === 'function' ||\n    Array.isArray(value) ||\n    Object.prototype.toString.call(value) === '[object Object]'\n  );\n}\n\nfunction _merge(target, source) {\n  if (target === source) {\n    return target;\n  }\n\n  for (var key in source) {\n    if (!Object.prototype.hasOwnProperty.call(source, key)) {\n      continue;\n    }\n\n    var sourceVal = source[key];\n    var targetVal = target[key];\n\n    if (typeof targetVal !== 'undefined' && typeof sourceVal === 'undefined') {\n      continue;\n    }\n\n    if (isObjectOrArrayOrFunction(targetVal) && isObjectOrArrayOrFunction(sourceVal)) {\n      target[key] = _merge(targetVal, sourceVal);\n    } else {\n      target[key] = clone(sourceVal);\n    }\n  }\n  return target;\n}\n\n/**\n * This method is like Object.assign, but recursively merges own and inherited\n * enumerable keyed properties of source objects into the destination object.\n *\n * NOTE: this behaves like lodash/merge, but:\n * - does mutate functions if they are a source\n * - treats non-plain objects as plain\n * - does not work for circular objects\n * - treats sparse arrays as sparse\n * - does not convert Array-like objects (Arguments, NodeLists, etc.) to arrays\n *\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n */\n\nfunction merge(target) {\n  if (!isObjectOrArrayOrFunction(target)) {\n    target = {};\n  }\n\n  for (var i = 1, l = arguments.length; i < l; i++) {\n    var source = arguments[i];\n\n    if (isObjectOrArrayOrFunction(source)) {\n      _merge(target, source);\n    }\n  }\n  return target;\n}\n\nmodule.exports = merge;\n","'use strict';\n\n// @MAJOR can be replaced by native Array#find when we change support\nmodule.exports = function find(array, comparator) {\n  if (!Array.isArray(array)) {\n    return undefined;\n  }\n\n  for (var i = 0; i < array.length; i++) {\n    if (comparator(array[i])) {\n      return array[i];\n    }\n  }\n};\n","module.exports = function (it, Constructor, name) {\n  if (!(it instanceof Constructor)) {\n    throw TypeError('Incorrect ' + (name ? name + ' ' : '') + 'invocation');\n  } return it;\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","module.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var called = 0;\n  var iteratorWithReturn = {\n    next: function () {\n      return { done: !!called++ };\n    },\n    'return': function () {\n      SAFE_CLOSING = true;\n    }\n  };\n  iteratorWithReturn[ITERATOR] = function () {\n    return this;\n  };\n  // eslint-disable-next-line es/no-array-from, no-throw-literal -- required for testing\n  Array.from(iteratorWithReturn, function () { throw 2; });\n} catch (error) { /* empty */ }\n\nmodule.exports = function (exec, SKIP_CLOSING) {\n  if (!SKIP_CLOSING && !SAFE_CLOSING) return false;\n  var ITERATION_SUPPORT = false;\n  try {\n    var object = {};\n    object[ITERATOR] = function () {\n      return {\n        next: function () {\n          return { done: ITERATION_SUPPORT = true };\n        }\n      };\n    };\n    exec(object);\n  } catch (error) { /* empty */ }\n  return ITERATION_SUPPORT;\n};\n","var userAgent = require('../internals/engine-user-agent');\n\nmodule.exports = /(?:iphone|ipod|ipad).*applewebkit/i.test(userAgent);\n","'use strict';\n\n/**\n * Functions to manipulate refinement lists\n *\n * The RefinementList is not formally defined through a prototype but is based\n * on a specific structure.\n *\n * @module SearchParameters.refinementList\n *\n * @typedef {string[]} SearchParameters.refinementList.Refinements\n * @typedef {Object.<string, SearchParameters.refinementList.Refinements>} SearchParameters.refinementList.RefinementList\n */\n\nvar defaultsPure = require('../functions/defaultsPure');\nvar omit = require('../functions/omit');\nvar objectHasKeys = require('../functions/objectHasKeys');\n\nvar lib = {\n  /**\n   * Adds a refinement to a RefinementList\n   * @param {RefinementList} refinementList the initial list\n   * @param {string} attribute the attribute to refine\n   * @param {string} value the value of the refinement, if the value is not a string it will be converted\n   * @return {RefinementList} a new and updated refinement list\n   */\n  addRefinement: function addRefinement(refinementList, attribute, value) {\n    if (lib.isRefined(refinementList, attribute, value)) {\n      return refinementList;\n    }\n\n    var valueAsString = '' + value;\n\n    var facetRefinement = !refinementList[attribute] ?\n      [valueAsString] :\n      refinementList[attribute].concat(valueAsString);\n\n    var mod = {};\n\n    mod[attribute] = facetRefinement;\n\n    return defaultsPure({}, mod, refinementList);\n  },\n  /**\n   * Removes refinement(s) for an attribute:\n   *  - if the value is specified removes the refinement for the value on the attribute\n   *  - if no value is specified removes all the refinements for this attribute\n   * @param {RefinementList} refinementList the initial list\n   * @param {string} attribute the attribute to refine\n   * @param {string} [value] the value of the refinement\n   * @return {RefinementList} a new and updated refinement lst\n   */\n  removeRefinement: function removeRefinement(refinementList, attribute, value) {\n    if (value === undefined) {\n      // we use the \"filter\" form of clearRefinement, since it leaves empty values as-is\n      // the form with a string will remove the attribute completely\n      return lib.clearRefinement(refinementList, function(v, f) {\n        return attribute === f;\n      });\n    }\n\n    var valueAsString = '' + value;\n\n    return lib.clearRefinement(refinementList, function(v, f) {\n      return attribute === f && valueAsString === v;\n    });\n  },\n  /**\n   * Toggles the refinement value for an attribute.\n   * @param {RefinementList} refinementList the initial list\n   * @param {string} attribute the attribute to refine\n   * @param {string} value the value of the refinement\n   * @return {RefinementList} a new and updated list\n   */\n  toggleRefinement: function toggleRefinement(refinementList, attribute, value) {\n    if (value === undefined) throw new Error('toggleRefinement should be used with a value');\n\n    if (lib.isRefined(refinementList, attribute, value)) {\n      return lib.removeRefinement(refinementList, attribute, value);\n    }\n\n    return lib.addRefinement(refinementList, attribute, value);\n  },\n  /**\n   * Clear all or parts of a RefinementList. Depending on the arguments, three\n   * kinds of behavior can happen:\n   *  - if no attribute is provided: clears the whole list\n   *  - if an attribute is provided as a string: clears the list for the specific attribute\n   *  - if an attribute is provided as a function: discards the elements for which the function returns true\n   * @param {RefinementList} refinementList the initial list\n   * @param {string} [attribute] the attribute or function to discard\n   * @param {string} [refinementType] optional parameter to give more context to the attribute function\n   * @return {RefinementList} a new and updated refinement list\n   */\n  clearRefinement: function clearRefinement(refinementList, attribute, refinementType) {\n    if (attribute === undefined) {\n      if (!objectHasKeys(refinementList)) {\n        return refinementList;\n      }\n      return {};\n    } else if (typeof attribute === 'string') {\n      return omit(refinementList, [attribute]);\n    } else if (typeof attribute === 'function') {\n      var hasChanged = false;\n\n      var newRefinementList = Object.keys(refinementList).reduce(function(memo, key) {\n        var values = refinementList[key] || [];\n        var facetList = values.filter(function(value) {\n          return !attribute(value, key, refinementType);\n        });\n\n        if (facetList.length !== values.length) {\n          hasChanged = true;\n        }\n        memo[key] = facetList;\n\n        return memo;\n      }, {});\n\n      if (hasChanged) return newRefinementList;\n      return refinementList;\n    }\n  },\n  /**\n   * Test if the refinement value is used for the attribute. If no refinement value\n   * is provided, test if the refinementList contains any refinement for the\n   * given attribute.\n   * @param {RefinementList} refinementList the list of refinement\n   * @param {string} attribute name of the attribute\n   * @param {string} [refinementValue] value of the filter/refinement\n   * @return {boolean}\n   */\n  isRefined: function isRefined(refinementList, attribute, refinementValue) {\n    var containsRefinements = !!refinementList[attribute] &&\n      refinementList[attribute].length > 0;\n\n    if (refinementValue === undefined || !containsRefinements) {\n      return containsRefinements;\n    }\n\n    var refinementValueAsString = '' + refinementValue;\n\n    return refinementList[attribute].indexOf(refinementValueAsString) !== -1;\n  }\n};\n\nmodule.exports = lib;\n","// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","var fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (METHOD_NAME) {\n  // We can't use this feature detection in V8 since it causes\n  // deoptimization and serious performance degradation\n  // https://github.com/zloirock/core-js/issues/677\n  return V8_VERSION >= 51 || !fails(function () {\n    var array = [];\n    var constructor = array.constructor = {};\n    constructor[SPECIES] = function () {\n      return { foo: 1 };\n    };\n    return array[METHOD_NAME](Boolean).foo !== 1;\n  });\n};\n","var anObject = require('../internals/an-object');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar bind = require('../internals/function-bind-context');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar iteratorClose = require('../internals/iterator-close');\n\nvar Result = function (stopped, result) {\n  this.stopped = stopped;\n  this.result = result;\n};\n\nmodule.exports = function (iterable, unboundFunction, options) {\n  var that = options && options.that;\n  var AS_ENTRIES = !!(options && options.AS_ENTRIES);\n  var IS_ITERATOR = !!(options && options.IS_ITERATOR);\n  var INTERRUPTED = !!(options && options.INTERRUPTED);\n  var fn = bind(unboundFunction, that, 1 + AS_ENTRIES + INTERRUPTED);\n  var iterator, iterFn, index, length, result, next, step;\n\n  var stop = function (condition) {\n    if (iterator) iteratorClose(iterator);\n    return new Result(true, condition);\n  };\n\n  var callFn = function (value) {\n    if (AS_ENTRIES) {\n      anObject(value);\n      return INTERRUPTED ? fn(value[0], value[1], stop) : fn(value[0], value[1]);\n    } return INTERRUPTED ? fn(value, stop) : fn(value);\n  };\n\n  if (IS_ITERATOR) {\n    iterator = iterable;\n  } else {\n    iterFn = getIteratorMethod(iterable);\n    if (typeof iterFn != 'function') throw TypeError('Target is not iterable');\n    // optimisation for array iterators\n    if (isArrayIteratorMethod(iterFn)) {\n      for (index = 0, length = toLength(iterable.length); length > index; index++) {\n        result = callFn(iterable[index]);\n        if (result && result instanceof Result) return result;\n      } return new Result(false);\n    }\n    iterator = iterFn.call(iterable);\n  }\n\n  next = iterator.next;\n  while (!(step = next.call(iterator)).done) {\n    try {\n      result = callFn(step.value);\n    } catch (error) {\n      iteratorClose(iterator);\n      throw error;\n    }\n    if (typeof result == 'object' && result && result instanceof Result) return result;\n  } return new Result(false);\n};\n","var toInteger = require('../internals/to-integer');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar setGlobal = require('../internals/set-global');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\n// eslint-disable-next-line es/no-object-getownpropertynames -- safe\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","'use strict';\nvar redefine = require('../internals/redefine');\nvar anObject = require('../internals/an-object');\nvar fails = require('../internals/fails');\nvar flags = require('../internals/regexp-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar nativeToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = String(R.source);\n    var rf = R.flags;\n    var f = String(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? flags.call(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar definePropertyModule = require('../internals/object-define-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (CONSTRUCTOR_NAME) {\n  var Constructor = getBuiltIn(CONSTRUCTOR_NAME);\n  var defineProperty = definePropertyModule.f;\n\n  if (DESCRIPTORS && Constructor && !Constructor[SPECIES]) {\n    defineProperty(Constructor, SPECIES, {\n      configurable: true,\n      get: function () { return this; }\n    });\n  }\n};\n","/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nexport default function normalizeComponent (\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier, /* server only */\n  shadowMode /* vue-cli only */\n) {\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () {\n        injectStyles.call(\n          this,\n          (options.functional ? this.parent : this).$root.$options.shadowRoot\n        )\n      }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functional component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n","var anObject = require('../internals/an-object');\n\nmodule.exports = function (iterator) {\n  var returnMethod = iterator['return'];\n  if (returnMethod !== undefined) {\n    return anObject(returnMethod.call(iterator)).value;\n  }\n};\n","/*!\n * Vue.js v2.6.12\n * (c) 2014-2020 Evan You\n * Released under the MIT License.\n */\n/*  */\n\nvar emptyObject = Object.freeze({});\n\n// These helpers produce better VM code in JS engines due to their\n// explicitness and function inlining.\nfunction isUndef (v) {\n  return v === undefined || v === null\n}\n\nfunction isDef (v) {\n  return v !== undefined && v !== null\n}\n\nfunction isTrue (v) {\n  return v === true\n}\n\nfunction isFalse (v) {\n  return v === false\n}\n\n/**\n * Check if value is primitive.\n */\nfunction isPrimitive (value) {\n  return (\n    typeof value === 'string' ||\n    typeof value === 'number' ||\n    // $flow-disable-line\n    typeof value === 'symbol' ||\n    typeof value === 'boolean'\n  )\n}\n\n/**\n * Quick object check - this is primarily used to tell\n * Objects from primitive values when we know the value\n * is a JSON-compliant type.\n */\nfunction isObject (obj) {\n  return obj !== null && typeof obj === 'object'\n}\n\n/**\n * Get the raw type string of a value, e.g., [object Object].\n */\nvar _toString = Object.prototype.toString;\n\nfunction toRawType (value) {\n  return _toString.call(value).slice(8, -1)\n}\n\n/**\n * Strict object type check. Only returns true\n * for plain JavaScript objects.\n */\nfunction isPlainObject (obj) {\n  return _toString.call(obj) === '[object Object]'\n}\n\nfunction isRegExp (v) {\n  return _toString.call(v) === '[object RegExp]'\n}\n\n/**\n * Check if val is a valid array index.\n */\nfunction isValidArrayIndex (val) {\n  var n = parseFloat(String(val));\n  return n >= 0 && Math.floor(n) === n && isFinite(val)\n}\n\nfunction isPromise (val) {\n  return (\n    isDef(val) &&\n    typeof val.then === 'function' &&\n    typeof val.catch === 'function'\n  )\n}\n\n/**\n * Convert a value to a string that is actually rendered.\n */\nfunction toString (val) {\n  return val == null\n    ? ''\n    : Array.isArray(val) || (isPlainObject(val) && val.toString === _toString)\n      ? JSON.stringify(val, null, 2)\n      : String(val)\n}\n\n/**\n * Convert an input value to a number for persistence.\n * If the conversion fails, return original string.\n */\nfunction toNumber (val) {\n  var n = parseFloat(val);\n  return isNaN(n) ? val : n\n}\n\n/**\n * Make a map and return a function for checking if a key\n * is in that map.\n */\nfunction makeMap (\n  str,\n  expectsLowerCase\n) {\n  var map = Object.create(null);\n  var list = str.split(',');\n  for (var i = 0; i < list.length; i++) {\n    map[list[i]] = true;\n  }\n  return expectsLowerCase\n    ? function (val) { return map[val.toLowerCase()]; }\n    : function (val) { return map[val]; }\n}\n\n/**\n * Check if a tag is a built-in tag.\n */\nvar isBuiltInTag = makeMap('slot,component', true);\n\n/**\n * Check if an attribute is a reserved attribute.\n */\nvar isReservedAttribute = makeMap('key,ref,slot,slot-scope,is');\n\n/**\n * Remove an item from an array.\n */\nfunction remove (arr, item) {\n  if (arr.length) {\n    var index = arr.indexOf(item);\n    if (index > -1) {\n      return arr.splice(index, 1)\n    }\n  }\n}\n\n/**\n * Check whether an object has the property.\n */\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction hasOwn (obj, key) {\n  return hasOwnProperty.call(obj, key)\n}\n\n/**\n * Create a cached version of a pure function.\n */\nfunction cached (fn) {\n  var cache = Object.create(null);\n  return (function cachedFn (str) {\n    var hit = cache[str];\n    return hit || (cache[str] = fn(str))\n  })\n}\n\n/**\n * Camelize a hyphen-delimited string.\n */\nvar camelizeRE = /-(\\w)/g;\nvar camelize = cached(function (str) {\n  return str.replace(camelizeRE, function (_, c) { return c ? c.toUpperCase() : ''; })\n});\n\n/**\n * Capitalize a string.\n */\nvar capitalize = cached(function (str) {\n  return str.charAt(0).toUpperCase() + str.slice(1)\n});\n\n/**\n * Hyphenate a camelCase string.\n */\nvar hyphenateRE = /\\B([A-Z])/g;\nvar hyphenate = cached(function (str) {\n  return str.replace(hyphenateRE, '-$1').toLowerCase()\n});\n\n/**\n * Simple bind polyfill for environments that do not support it,\n * e.g., PhantomJS 1.x. Technically, we don't need this anymore\n * since native bind is now performant enough in most browsers.\n * But removing it would mean breaking code that was able to run in\n * PhantomJS 1.x, so this must be kept for backward compatibility.\n */\n\n/* istanbul ignore next */\nfunction polyfillBind (fn, ctx) {\n  function boundFn (a) {\n    var l = arguments.length;\n    return l\n      ? l > 1\n        ? fn.apply(ctx, arguments)\n        : fn.call(ctx, a)\n      : fn.call(ctx)\n  }\n\n  boundFn._length = fn.length;\n  return boundFn\n}\n\nfunction nativeBind (fn, ctx) {\n  return fn.bind(ctx)\n}\n\nvar bind = Function.prototype.bind\n  ? nativeBind\n  : polyfillBind;\n\n/**\n * Convert an Array-like object to a real Array.\n */\nfunction toArray (list, start) {\n  start = start || 0;\n  var i = list.length - start;\n  var ret = new Array(i);\n  while (i--) {\n    ret[i] = list[i + start];\n  }\n  return ret\n}\n\n/**\n * Mix properties into target object.\n */\nfunction extend (to, _from) {\n  for (var key in _from) {\n    to[key] = _from[key];\n  }\n  return to\n}\n\n/**\n * Merge an Array of Objects into a single Object.\n */\nfunction toObject (arr) {\n  var res = {};\n  for (var i = 0; i < arr.length; i++) {\n    if (arr[i]) {\n      extend(res, arr[i]);\n    }\n  }\n  return res\n}\n\n/* eslint-disable no-unused-vars */\n\n/**\n * Perform no operation.\n * Stubbing args to make Flow happy without leaving useless transpiled code\n * with ...rest (https://flow.org/blog/2017/05/07/Strict-Function-Call-Arity/).\n */\nfunction noop (a, b, c) {}\n\n/**\n * Always return false.\n */\nvar no = function (a, b, c) { return false; };\n\n/* eslint-enable no-unused-vars */\n\n/**\n * Return the same value.\n */\nvar identity = function (_) { return _; };\n\n/**\n * Check if two values are loosely equal - that is,\n * if they are plain objects, do they have the same shape?\n */\nfunction looseEqual (a, b) {\n  if (a === b) { return true }\n  var isObjectA = isObject(a);\n  var isObjectB = isObject(b);\n  if (isObjectA && isObjectB) {\n    try {\n      var isArrayA = Array.isArray(a);\n      var isArrayB = Array.isArray(b);\n      if (isArrayA && isArrayB) {\n        return a.length === b.length && a.every(function (e, i) {\n          return looseEqual(e, b[i])\n        })\n      } else if (a instanceof Date && b instanceof Date) {\n        return a.getTime() === b.getTime()\n      } else if (!isArrayA && !isArrayB) {\n        var keysA = Object.keys(a);\n        var keysB = Object.keys(b);\n        return keysA.length === keysB.length && keysA.every(function (key) {\n          return looseEqual(a[key], b[key])\n        })\n      } else {\n        /* istanbul ignore next */\n        return false\n      }\n    } catch (e) {\n      /* istanbul ignore next */\n      return false\n    }\n  } else if (!isObjectA && !isObjectB) {\n    return String(a) === String(b)\n  } else {\n    return false\n  }\n}\n\n/**\n * Return the first index at which a loosely equal value can be\n * found in the array (if value is a plain object, the array must\n * contain an object of the same shape), or -1 if it is not present.\n */\nfunction looseIndexOf (arr, val) {\n  for (var i = 0; i < arr.length; i++) {\n    if (looseEqual(arr[i], val)) { return i }\n  }\n  return -1\n}\n\n/**\n * Ensure a function is called only once.\n */\nfunction once (fn) {\n  var called = false;\n  return function () {\n    if (!called) {\n      called = true;\n      fn.apply(this, arguments);\n    }\n  }\n}\n\nvar SSR_ATTR = 'data-server-rendered';\n\nvar ASSET_TYPES = [\n  'component',\n  'directive',\n  'filter'\n];\n\nvar LIFECYCLE_HOOKS = [\n  'beforeCreate',\n  'created',\n  'beforeMount',\n  'mounted',\n  'beforeUpdate',\n  'updated',\n  'beforeDestroy',\n  'destroyed',\n  'activated',\n  'deactivated',\n  'errorCaptured',\n  'serverPrefetch'\n];\n\n/*  */\n\n\n\nvar config = ({\n  /**\n   * Option merge strategies (used in core/util/options)\n   */\n  // $flow-disable-line\n  optionMergeStrategies: Object.create(null),\n\n  /**\n   * Whether to suppress warnings.\n   */\n  silent: false,\n\n  /**\n   * Show production mode tip message on boot?\n   */\n  productionTip: process.env.NODE_ENV !== 'production',\n\n  /**\n   * Whether to enable devtools\n   */\n  devtools: process.env.NODE_ENV !== 'production',\n\n  /**\n   * Whether to record perf\n   */\n  performance: false,\n\n  /**\n   * Error handler for watcher errors\n   */\n  errorHandler: null,\n\n  /**\n   * Warn handler for watcher warns\n   */\n  warnHandler: null,\n\n  /**\n   * Ignore certain custom elements\n   */\n  ignoredElements: [],\n\n  /**\n   * Custom user key aliases for v-on\n   */\n  // $flow-disable-line\n  keyCodes: Object.create(null),\n\n  /**\n   * Check if a tag is reserved so that it cannot be registered as a\n   * component. This is platform-dependent and may be overwritten.\n   */\n  isReservedTag: no,\n\n  /**\n   * Check if an attribute is reserved so that it cannot be used as a component\n   * prop. This is platform-dependent and may be overwritten.\n   */\n  isReservedAttr: no,\n\n  /**\n   * Check if a tag is an unknown element.\n   * Platform-dependent.\n   */\n  isUnknownElement: no,\n\n  /**\n   * Get the namespace of an element\n   */\n  getTagNamespace: noop,\n\n  /**\n   * Parse the real tag name for the specific platform.\n   */\n  parsePlatformTagName: identity,\n\n  /**\n   * Check if an attribute must be bound using property, e.g. value\n   * Platform-dependent.\n   */\n  mustUseProp: no,\n\n  /**\n   * Perform updates asynchronously. Intended to be used by Vue Test Utils\n   * This will significantly reduce performance if set to false.\n   */\n  async: true,\n\n  /**\n   * Exposed for legacy reasons\n   */\n  _lifecycleHooks: LIFECYCLE_HOOKS\n});\n\n/*  */\n\n/**\n * unicode letters used for parsing html tags, component names and property paths.\n * using https://www.w3.org/TR/html53/semantics-scripting.html#potentialcustomelementname\n * skipping \\u10000-\\uEFFFF due to it freezing up PhantomJS\n */\nvar unicodeRegExp = /a-zA-Z\\u00B7\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u203F-\\u2040\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD/;\n\n/**\n * Check if a string starts with $ or _\n */\nfunction isReserved (str) {\n  var c = (str + '').charCodeAt(0);\n  return c === 0x24 || c === 0x5F\n}\n\n/**\n * Define a property.\n */\nfunction def (obj, key, val, enumerable) {\n  Object.defineProperty(obj, key, {\n    value: val,\n    enumerable: !!enumerable,\n    writable: true,\n    configurable: true\n  });\n}\n\n/**\n * Parse simple path.\n */\nvar bailRE = new RegExp((\"[^\" + (unicodeRegExp.source) + \".$_\\\\d]\"));\nfunction parsePath (path) {\n  if (bailRE.test(path)) {\n    return\n  }\n  var segments = path.split('.');\n  return function (obj) {\n    for (var i = 0; i < segments.length; i++) {\n      if (!obj) { return }\n      obj = obj[segments[i]];\n    }\n    return obj\n  }\n}\n\n/*  */\n\n// can we use __proto__?\nvar hasProto = '__proto__' in {};\n\n// Browser environment sniffing\nvar inBrowser = typeof window !== 'undefined';\nvar inWeex = typeof WXEnvironment !== 'undefined' && !!WXEnvironment.platform;\nvar weexPlatform = inWeex && WXEnvironment.platform.toLowerCase();\nvar UA = inBrowser && window.navigator.userAgent.toLowerCase();\nvar isIE = UA && /msie|trident/.test(UA);\nvar isIE9 = UA && UA.indexOf('msie 9.0') > 0;\nvar isEdge = UA && UA.indexOf('edge/') > 0;\nvar isAndroid = (UA && UA.indexOf('android') > 0) || (weexPlatform === 'android');\nvar isIOS = (UA && /iphone|ipad|ipod|ios/.test(UA)) || (weexPlatform === 'ios');\nvar isChrome = UA && /chrome\\/\\d+/.test(UA) && !isEdge;\nvar isPhantomJS = UA && /phantomjs/.test(UA);\nvar isFF = UA && UA.match(/firefox\\/(\\d+)/);\n\n// Firefox has a \"watch\" function on Object.prototype...\nvar nativeWatch = ({}).watch;\n\nvar supportsPassive = false;\nif (inBrowser) {\n  try {\n    var opts = {};\n    Object.defineProperty(opts, 'passive', ({\n      get: function get () {\n        /* istanbul ignore next */\n        supportsPassive = true;\n      }\n    })); // https://github.com/facebook/flow/issues/285\n    window.addEventListener('test-passive', null, opts);\n  } catch (e) {}\n}\n\n// this needs to be lazy-evaled because vue may be required before\n// vue-server-renderer can set VUE_ENV\nvar _isServer;\nvar isServerRendering = function () {\n  if (_isServer === undefined) {\n    /* istanbul ignore if */\n    if (!inBrowser && !inWeex && typeof global !== 'undefined') {\n      // detect presence of vue-server-renderer and avoid\n      // Webpack shimming the process\n      _isServer = global['process'] && global['process'].env.VUE_ENV === 'server';\n    } else {\n      _isServer = false;\n    }\n  }\n  return _isServer\n};\n\n// detect devtools\nvar devtools = inBrowser && window.__VUE_DEVTOOLS_GLOBAL_HOOK__;\n\n/* istanbul ignore next */\nfunction isNative (Ctor) {\n  return typeof Ctor === 'function' && /native code/.test(Ctor.toString())\n}\n\nvar hasSymbol =\n  typeof Symbol !== 'undefined' && isNative(Symbol) &&\n  typeof Reflect !== 'undefined' && isNative(Reflect.ownKeys);\n\nvar _Set;\n/* istanbul ignore if */ // $flow-disable-line\nif (typeof Set !== 'undefined' && isNative(Set)) {\n  // use native Set when available.\n  _Set = Set;\n} else {\n  // a non-standard Set polyfill that only works with primitive keys.\n  _Set = /*@__PURE__*/(function () {\n    function Set () {\n      this.set = Object.create(null);\n    }\n    Set.prototype.has = function has (key) {\n      return this.set[key] === true\n    };\n    Set.prototype.add = function add (key) {\n      this.set[key] = true;\n    };\n    Set.prototype.clear = function clear () {\n      this.set = Object.create(null);\n    };\n\n    return Set;\n  }());\n}\n\n/*  */\n\nvar warn = noop;\nvar tip = noop;\nvar generateComponentTrace = (noop); // work around flow check\nvar formatComponentName = (noop);\n\nif (process.env.NODE_ENV !== 'production') {\n  var hasConsole = typeof console !== 'undefined';\n  var classifyRE = /(?:^|[-_])(\\w)/g;\n  var classify = function (str) { return str\n    .replace(classifyRE, function (c) { return c.toUpperCase(); })\n    .replace(/[-_]/g, ''); };\n\n  warn = function (msg, vm) {\n    var trace = vm ? generateComponentTrace(vm) : '';\n\n    if (config.warnHandler) {\n      config.warnHandler.call(null, msg, vm, trace);\n    } else if (hasConsole && (!config.silent)) {\n      console.error((\"[Vue warn]: \" + msg + trace));\n    }\n  };\n\n  tip = function (msg, vm) {\n    if (hasConsole && (!config.silent)) {\n      console.warn(\"[Vue tip]: \" + msg + (\n        vm ? generateComponentTrace(vm) : ''\n      ));\n    }\n  };\n\n  formatComponentName = function (vm, includeFile) {\n    if (vm.$root === vm) {\n      return '<Root>'\n    }\n    var options = typeof vm === 'function' && vm.cid != null\n      ? vm.options\n      : vm._isVue\n        ? vm.$options || vm.constructor.options\n        : vm;\n    var name = options.name || options._componentTag;\n    var file = options.__file;\n    if (!name && file) {\n      var match = file.match(/([^/\\\\]+)\\.vue$/);\n      name = match && match[1];\n    }\n\n    return (\n      (name ? (\"<\" + (classify(name)) + \">\") : \"<Anonymous>\") +\n      (file && includeFile !== false ? (\" at \" + file) : '')\n    )\n  };\n\n  var repeat = function (str, n) {\n    var res = '';\n    while (n) {\n      if (n % 2 === 1) { res += str; }\n      if (n > 1) { str += str; }\n      n >>= 1;\n    }\n    return res\n  };\n\n  generateComponentTrace = function (vm) {\n    if (vm._isVue && vm.$parent) {\n      var tree = [];\n      var currentRecursiveSequence = 0;\n      while (vm) {\n        if (tree.length > 0) {\n          var last = tree[tree.length - 1];\n          if (last.constructor === vm.constructor) {\n            currentRecursiveSequence++;\n            vm = vm.$parent;\n            continue\n          } else if (currentRecursiveSequence > 0) {\n            tree[tree.length - 1] = [last, currentRecursiveSequence];\n            currentRecursiveSequence = 0;\n          }\n        }\n        tree.push(vm);\n        vm = vm.$parent;\n      }\n      return '\\n\\nfound in\\n\\n' + tree\n        .map(function (vm, i) { return (\"\" + (i === 0 ? '---> ' : repeat(' ', 5 + i * 2)) + (Array.isArray(vm)\n            ? ((formatComponentName(vm[0])) + \"... (\" + (vm[1]) + \" recursive calls)\")\n            : formatComponentName(vm))); })\n        .join('\\n')\n    } else {\n      return (\"\\n\\n(found in \" + (formatComponentName(vm)) + \")\")\n    }\n  };\n}\n\n/*  */\n\nvar uid = 0;\n\n/**\n * A dep is an observable that can have multiple\n * directives subscribing to it.\n */\nvar Dep = function Dep () {\n  this.id = uid++;\n  this.subs = [];\n};\n\nDep.prototype.addSub = function addSub (sub) {\n  this.subs.push(sub);\n};\n\nDep.prototype.removeSub = function removeSub (sub) {\n  remove(this.subs, sub);\n};\n\nDep.prototype.depend = function depend () {\n  if (Dep.target) {\n    Dep.target.addDep(this);\n  }\n};\n\nDep.prototype.notify = function notify () {\n  // stabilize the subscriber list first\n  var subs = this.subs.slice();\n  if (process.env.NODE_ENV !== 'production' && !config.async) {\n    // subs aren't sorted in scheduler if not running async\n    // we need to sort them now to make sure they fire in correct\n    // order\n    subs.sort(function (a, b) { return a.id - b.id; });\n  }\n  for (var i = 0, l = subs.length; i < l; i++) {\n    subs[i].update();\n  }\n};\n\n// The current target watcher being evaluated.\n// This is globally unique because only one watcher\n// can be evaluated at a time.\nDep.target = null;\nvar targetStack = [];\n\nfunction pushTarget (target) {\n  targetStack.push(target);\n  Dep.target = target;\n}\n\nfunction popTarget () {\n  targetStack.pop();\n  Dep.target = targetStack[targetStack.length - 1];\n}\n\n/*  */\n\nvar VNode = function VNode (\n  tag,\n  data,\n  children,\n  text,\n  elm,\n  context,\n  componentOptions,\n  asyncFactory\n) {\n  this.tag = tag;\n  this.data = data;\n  this.children = children;\n  this.text = text;\n  this.elm = elm;\n  this.ns = undefined;\n  this.context = context;\n  this.fnContext = undefined;\n  this.fnOptions = undefined;\n  this.fnScopeId = undefined;\n  this.key = data && data.key;\n  this.componentOptions = componentOptions;\n  this.componentInstance = undefined;\n  this.parent = undefined;\n  this.raw = false;\n  this.isStatic = false;\n  this.isRootInsert = true;\n  this.isComment = false;\n  this.isCloned = false;\n  this.isOnce = false;\n  this.asyncFactory = asyncFactory;\n  this.asyncMeta = undefined;\n  this.isAsyncPlaceholder = false;\n};\n\nvar prototypeAccessors = { child: { configurable: true } };\n\n// DEPRECATED: alias for componentInstance for backwards compat.\n/* istanbul ignore next */\nprototypeAccessors.child.get = function () {\n  return this.componentInstance\n};\n\nObject.defineProperties( VNode.prototype, prototypeAccessors );\n\nvar createEmptyVNode = function (text) {\n  if ( text === void 0 ) text = '';\n\n  var node = new VNode();\n  node.text = text;\n  node.isComment = true;\n  return node\n};\n\nfunction createTextVNode (val) {\n  return new VNode(undefined, undefined, undefined, String(val))\n}\n\n// optimized shallow clone\n// used for static nodes and slot nodes because they may be reused across\n// multiple renders, cloning them avoids errors when DOM manipulations rely\n// on their elm reference.\nfunction cloneVNode (vnode) {\n  var cloned = new VNode(\n    vnode.tag,\n    vnode.data,\n    // #7975\n    // clone children array to avoid mutating original in case of cloning\n    // a child.\n    vnode.children && vnode.children.slice(),\n    vnode.text,\n    vnode.elm,\n    vnode.context,\n    vnode.componentOptions,\n    vnode.asyncFactory\n  );\n  cloned.ns = vnode.ns;\n  cloned.isStatic = vnode.isStatic;\n  cloned.key = vnode.key;\n  cloned.isComment = vnode.isComment;\n  cloned.fnContext = vnode.fnContext;\n  cloned.fnOptions = vnode.fnOptions;\n  cloned.fnScopeId = vnode.fnScopeId;\n  cloned.asyncMeta = vnode.asyncMeta;\n  cloned.isCloned = true;\n  return cloned\n}\n\n/*\n * not type checking this file because flow doesn't play well with\n * dynamically accessing methods on Array prototype\n */\n\nvar arrayProto = Array.prototype;\nvar arrayMethods = Object.create(arrayProto);\n\nvar methodsToPatch = [\n  'push',\n  'pop',\n  'shift',\n  'unshift',\n  'splice',\n  'sort',\n  'reverse'\n];\n\n/**\n * Intercept mutating methods and emit events\n */\nmethodsToPatch.forEach(function (method) {\n  // cache original method\n  var original = arrayProto[method];\n  def(arrayMethods, method, function mutator () {\n    var args = [], len = arguments.length;\n    while ( len-- ) args[ len ] = arguments[ len ];\n\n    var result = original.apply(this, args);\n    var ob = this.__ob__;\n    var inserted;\n    switch (method) {\n      case 'push':\n      case 'unshift':\n        inserted = args;\n        break\n      case 'splice':\n        inserted = args.slice(2);\n        break\n    }\n    if (inserted) { ob.observeArray(inserted); }\n    // notify change\n    ob.dep.notify();\n    return result\n  });\n});\n\n/*  */\n\nvar arrayKeys = Object.getOwnPropertyNames(arrayMethods);\n\n/**\n * In some cases we may want to disable observation inside a component's\n * update computation.\n */\nvar shouldObserve = true;\n\nfunction toggleObserving (value) {\n  shouldObserve = value;\n}\n\n/**\n * Observer class that is attached to each observed\n * object. Once attached, the observer converts the target\n * object's property keys into getter/setters that\n * collect dependencies and dispatch updates.\n */\nvar Observer = function Observer (value) {\n  this.value = value;\n  this.dep = new Dep();\n  this.vmCount = 0;\n  def(value, '__ob__', this);\n  if (Array.isArray(value)) {\n    if (hasProto) {\n      protoAugment(value, arrayMethods);\n    } else {\n      copyAugment(value, arrayMethods, arrayKeys);\n    }\n    this.observeArray(value);\n  } else {\n    this.walk(value);\n  }\n};\n\n/**\n * Walk through all properties and convert them into\n * getter/setters. This method should only be called when\n * value type is Object.\n */\nObserver.prototype.walk = function walk (obj) {\n  var keys = Object.keys(obj);\n  for (var i = 0; i < keys.length; i++) {\n    defineReactive$$1(obj, keys[i]);\n  }\n};\n\n/**\n * Observe a list of Array items.\n */\nObserver.prototype.observeArray = function observeArray (items) {\n  for (var i = 0, l = items.length; i < l; i++) {\n    observe(items[i]);\n  }\n};\n\n// helpers\n\n/**\n * Augment a target Object or Array by intercepting\n * the prototype chain using __proto__\n */\nfunction protoAugment (target, src) {\n  /* eslint-disable no-proto */\n  target.__proto__ = src;\n  /* eslint-enable no-proto */\n}\n\n/**\n * Augment a target Object or Array by defining\n * hidden properties.\n */\n/* istanbul ignore next */\nfunction copyAugment (target, src, keys) {\n  for (var i = 0, l = keys.length; i < l; i++) {\n    var key = keys[i];\n    def(target, key, src[key]);\n  }\n}\n\n/**\n * Attempt to create an observer instance for a value,\n * returns the new observer if successfully observed,\n * or the existing observer if the value already has one.\n */\nfunction observe (value, asRootData) {\n  if (!isObject(value) || value instanceof VNode) {\n    return\n  }\n  var ob;\n  if (hasOwn(value, '__ob__') && value.__ob__ instanceof Observer) {\n    ob = value.__ob__;\n  } else if (\n    shouldObserve &&\n    !isServerRendering() &&\n    (Array.isArray(value) || isPlainObject(value)) &&\n    Object.isExtensible(value) &&\n    !value._isVue\n  ) {\n    ob = new Observer(value);\n  }\n  if (asRootData && ob) {\n    ob.vmCount++;\n  }\n  return ob\n}\n\n/**\n * Define a reactive property on an Object.\n */\nfunction defineReactive$$1 (\n  obj,\n  key,\n  val,\n  customSetter,\n  shallow\n) {\n  var dep = new Dep();\n\n  var property = Object.getOwnPropertyDescriptor(obj, key);\n  if (property && property.configurable === false) {\n    return\n  }\n\n  // cater for pre-defined getter/setters\n  var getter = property && property.get;\n  var setter = property && property.set;\n  if ((!getter || setter) && arguments.length === 2) {\n    val = obj[key];\n  }\n\n  var childOb = !shallow && observe(val);\n  Object.defineProperty(obj, key, {\n    enumerable: true,\n    configurable: true,\n    get: function reactiveGetter () {\n      var value = getter ? getter.call(obj) : val;\n      if (Dep.target) {\n        dep.depend();\n        if (childOb) {\n          childOb.dep.depend();\n          if (Array.isArray(value)) {\n            dependArray(value);\n          }\n        }\n      }\n      return value\n    },\n    set: function reactiveSetter (newVal) {\n      var value = getter ? getter.call(obj) : val;\n      /* eslint-disable no-self-compare */\n      if (newVal === value || (newVal !== newVal && value !== value)) {\n        return\n      }\n      /* eslint-enable no-self-compare */\n      if (process.env.NODE_ENV !== 'production' && customSetter) {\n        customSetter();\n      }\n      // #7981: for accessor properties without setter\n      if (getter && !setter) { return }\n      if (setter) {\n        setter.call(obj, newVal);\n      } else {\n        val = newVal;\n      }\n      childOb = !shallow && observe(newVal);\n      dep.notify();\n    }\n  });\n}\n\n/**\n * Set a property on an object. Adds the new property and\n * triggers change notification if the property doesn't\n * already exist.\n */\nfunction set (target, key, val) {\n  if (process.env.NODE_ENV !== 'production' &&\n    (isUndef(target) || isPrimitive(target))\n  ) {\n    warn((\"Cannot set reactive property on undefined, null, or primitive value: \" + ((target))));\n  }\n  if (Array.isArray(target) && isValidArrayIndex(key)) {\n    target.length = Math.max(target.length, key);\n    target.splice(key, 1, val);\n    return val\n  }\n  if (key in target && !(key in Object.prototype)) {\n    target[key] = val;\n    return val\n  }\n  var ob = (target).__ob__;\n  if (target._isVue || (ob && ob.vmCount)) {\n    process.env.NODE_ENV !== 'production' && warn(\n      'Avoid adding reactive properties to a Vue instance or its root $data ' +\n      'at runtime - declare it upfront in the data option.'\n    );\n    return val\n  }\n  if (!ob) {\n    target[key] = val;\n    return val\n  }\n  defineReactive$$1(ob.value, key, val);\n  ob.dep.notify();\n  return val\n}\n\n/**\n * Delete a property and trigger change if necessary.\n */\nfunction del (target, key) {\n  if (process.env.NODE_ENV !== 'production' &&\n    (isUndef(target) || isPrimitive(target))\n  ) {\n    warn((\"Cannot delete reactive property on undefined, null, or primitive value: \" + ((target))));\n  }\n  if (Array.isArray(target) && isValidArrayIndex(key)) {\n    target.splice(key, 1);\n    return\n  }\n  var ob = (target).__ob__;\n  if (target._isVue || (ob && ob.vmCount)) {\n    process.env.NODE_ENV !== 'production' && warn(\n      'Avoid deleting properties on a Vue instance or its root $data ' +\n      '- just set it to null.'\n    );\n    return\n  }\n  if (!hasOwn(target, key)) {\n    return\n  }\n  delete target[key];\n  if (!ob) {\n    return\n  }\n  ob.dep.notify();\n}\n\n/**\n * Collect dependencies on array elements when the array is touched, since\n * we cannot intercept array element access like property getters.\n */\nfunction dependArray (value) {\n  for (var e = (void 0), i = 0, l = value.length; i < l; i++) {\n    e = value[i];\n    e && e.__ob__ && e.__ob__.dep.depend();\n    if (Array.isArray(e)) {\n      dependArray(e);\n    }\n  }\n}\n\n/*  */\n\n/**\n * Option overwriting strategies are functions that handle\n * how to merge a parent option value and a child option\n * value into the final value.\n */\nvar strats = config.optionMergeStrategies;\n\n/**\n * Options with restrictions\n */\nif (process.env.NODE_ENV !== 'production') {\n  strats.el = strats.propsData = function (parent, child, vm, key) {\n    if (!vm) {\n      warn(\n        \"option \\\"\" + key + \"\\\" can only be used during instance \" +\n        'creation with the `new` keyword.'\n      );\n    }\n    return defaultStrat(parent, child)\n  };\n}\n\n/**\n * Helper that recursively merges two data objects together.\n */\nfunction mergeData (to, from) {\n  if (!from) { return to }\n  var key, toVal, fromVal;\n\n  var keys = hasSymbol\n    ? Reflect.ownKeys(from)\n    : Object.keys(from);\n\n  for (var i = 0; i < keys.length; i++) {\n    key = keys[i];\n    // in case the object is already observed...\n    if (key === '__ob__') { continue }\n    toVal = to[key];\n    fromVal = from[key];\n    if (!hasOwn(to, key)) {\n      set(to, key, fromVal);\n    } else if (\n      toVal !== fromVal &&\n      isPlainObject(toVal) &&\n      isPlainObject(fromVal)\n    ) {\n      mergeData(toVal, fromVal);\n    }\n  }\n  return to\n}\n\n/**\n * Data\n */\nfunction mergeDataOrFn (\n  parentVal,\n  childVal,\n  vm\n) {\n  if (!vm) {\n    // in a Vue.extend merge, both should be functions\n    if (!childVal) {\n      return parentVal\n    }\n    if (!parentVal) {\n      return childVal\n    }\n    // when parentVal & childVal are both present,\n    // we need to return a function that returns the\n    // merged result of both functions... no need to\n    // check if parentVal is a function here because\n    // it has to be a function to pass previous merges.\n    return function mergedDataFn () {\n      return mergeData(\n        typeof childVal === 'function' ? childVal.call(this, this) : childVal,\n        typeof parentVal === 'function' ? parentVal.call(this, this) : parentVal\n      )\n    }\n  } else {\n    return function mergedInstanceDataFn () {\n      // instance merge\n      var instanceData = typeof childVal === 'function'\n        ? childVal.call(vm, vm)\n        : childVal;\n      var defaultData = typeof parentVal === 'function'\n        ? parentVal.call(vm, vm)\n        : parentVal;\n      if (instanceData) {\n        return mergeData(instanceData, defaultData)\n      } else {\n        return defaultData\n      }\n    }\n  }\n}\n\nstrats.data = function (\n  parentVal,\n  childVal,\n  vm\n) {\n  if (!vm) {\n    if (childVal && typeof childVal !== 'function') {\n      process.env.NODE_ENV !== 'production' && warn(\n        'The \"data\" option should be a function ' +\n        'that returns a per-instance value in component ' +\n        'definitions.',\n        vm\n      );\n\n      return parentVal\n    }\n    return mergeDataOrFn(parentVal, childVal)\n  }\n\n  return mergeDataOrFn(parentVal, childVal, vm)\n};\n\n/**\n * Hooks and props are merged as arrays.\n */\nfunction mergeHook (\n  parentVal,\n  childVal\n) {\n  var res = childVal\n    ? parentVal\n      ? parentVal.concat(childVal)\n      : Array.isArray(childVal)\n        ? childVal\n        : [childVal]\n    : parentVal;\n  return res\n    ? dedupeHooks(res)\n    : res\n}\n\nfunction dedupeHooks (hooks) {\n  var res = [];\n  for (var i = 0; i < hooks.length; i++) {\n    if (res.indexOf(hooks[i]) === -1) {\n      res.push(hooks[i]);\n    }\n  }\n  return res\n}\n\nLIFECYCLE_HOOKS.forEach(function (hook) {\n  strats[hook] = mergeHook;\n});\n\n/**\n * Assets\n *\n * When a vm is present (instance creation), we need to do\n * a three-way merge between constructor options, instance\n * options and parent options.\n */\nfunction mergeAssets (\n  parentVal,\n  childVal,\n  vm,\n  key\n) {\n  var res = Object.create(parentVal || null);\n  if (childVal) {\n    process.env.NODE_ENV !== 'production' && assertObjectType(key, childVal, vm);\n    return extend(res, childVal)\n  } else {\n    return res\n  }\n}\n\nASSET_TYPES.forEach(function (type) {\n  strats[type + 's'] = mergeAssets;\n});\n\n/**\n * Watchers.\n *\n * Watchers hashes should not overwrite one\n * another, so we merge them as arrays.\n */\nstrats.watch = function (\n  parentVal,\n  childVal,\n  vm,\n  key\n) {\n  // work around Firefox's Object.prototype.watch...\n  if (parentVal === nativeWatch) { parentVal = undefined; }\n  if (childVal === nativeWatch) { childVal = undefined; }\n  /* istanbul ignore if */\n  if (!childVal) { return Object.create(parentVal || null) }\n  if (process.env.NODE_ENV !== 'production') {\n    assertObjectType(key, childVal, vm);\n  }\n  if (!parentVal) { return childVal }\n  var ret = {};\n  extend(ret, parentVal);\n  for (var key$1 in childVal) {\n    var parent = ret[key$1];\n    var child = childVal[key$1];\n    if (parent && !Array.isArray(parent)) {\n      parent = [parent];\n    }\n    ret[key$1] = parent\n      ? parent.concat(child)\n      : Array.isArray(child) ? child : [child];\n  }\n  return ret\n};\n\n/**\n * Other object hashes.\n */\nstrats.props =\nstrats.methods =\nstrats.inject =\nstrats.computed = function (\n  parentVal,\n  childVal,\n  vm,\n  key\n) {\n  if (childVal && process.env.NODE_ENV !== 'production') {\n    assertObjectType(key, childVal, vm);\n  }\n  if (!parentVal) { return childVal }\n  var ret = Object.create(null);\n  extend(ret, parentVal);\n  if (childVal) { extend(ret, childVal); }\n  return ret\n};\nstrats.provide = mergeDataOrFn;\n\n/**\n * Default strategy.\n */\nvar defaultStrat = function (parentVal, childVal) {\n  return childVal === undefined\n    ? parentVal\n    : childVal\n};\n\n/**\n * Validate component names\n */\nfunction checkComponents (options) {\n  for (var key in options.components) {\n    validateComponentName(key);\n  }\n}\n\nfunction validateComponentName (name) {\n  if (!new RegExp((\"^[a-zA-Z][\\\\-\\\\.0-9_\" + (unicodeRegExp.source) + \"]*$\")).test(name)) {\n    warn(\n      'Invalid component name: \"' + name + '\". Component names ' +\n      'should conform to valid custom element name in html5 specification.'\n    );\n  }\n  if (isBuiltInTag(name) || config.isReservedTag(name)) {\n    warn(\n      'Do not use built-in or reserved HTML elements as component ' +\n      'id: ' + name\n    );\n  }\n}\n\n/**\n * Ensure all props option syntax are normalized into the\n * Object-based format.\n */\nfunction normalizeProps (options, vm) {\n  var props = options.props;\n  if (!props) { return }\n  var res = {};\n  var i, val, name;\n  if (Array.isArray(props)) {\n    i = props.length;\n    while (i--) {\n      val = props[i];\n      if (typeof val === 'string') {\n        name = camelize(val);\n        res[name] = { type: null };\n      } else if (process.env.NODE_ENV !== 'production') {\n        warn('props must be strings when using array syntax.');\n      }\n    }\n  } else if (isPlainObject(props)) {\n    for (var key in props) {\n      val = props[key];\n      name = camelize(key);\n      res[name] = isPlainObject(val)\n        ? val\n        : { type: val };\n    }\n  } else if (process.env.NODE_ENV !== 'production') {\n    warn(\n      \"Invalid value for option \\\"props\\\": expected an Array or an Object, \" +\n      \"but got \" + (toRawType(props)) + \".\",\n      vm\n    );\n  }\n  options.props = res;\n}\n\n/**\n * Normalize all injections into Object-based format\n */\nfunction normalizeInject (options, vm) {\n  var inject = options.inject;\n  if (!inject) { return }\n  var normalized = options.inject = {};\n  if (Array.isArray(inject)) {\n    for (var i = 0; i < inject.length; i++) {\n      normalized[inject[i]] = { from: inject[i] };\n    }\n  } else if (isPlainObject(inject)) {\n    for (var key in inject) {\n      var val = inject[key];\n      normalized[key] = isPlainObject(val)\n        ? extend({ from: key }, val)\n        : { from: val };\n    }\n  } else if (process.env.NODE_ENV !== 'production') {\n    warn(\n      \"Invalid value for option \\\"inject\\\": expected an Array or an Object, \" +\n      \"but got \" + (toRawType(inject)) + \".\",\n      vm\n    );\n  }\n}\n\n/**\n * Normalize raw function directives into object format.\n */\nfunction normalizeDirectives (options) {\n  var dirs = options.directives;\n  if (dirs) {\n    for (var key in dirs) {\n      var def$$1 = dirs[key];\n      if (typeof def$$1 === 'function') {\n        dirs[key] = { bind: def$$1, update: def$$1 };\n      }\n    }\n  }\n}\n\nfunction assertObjectType (name, value, vm) {\n  if (!isPlainObject(value)) {\n    warn(\n      \"Invalid value for option \\\"\" + name + \"\\\": expected an Object, \" +\n      \"but got \" + (toRawType(value)) + \".\",\n      vm\n    );\n  }\n}\n\n/**\n * Merge two option objects into a new one.\n * Core utility used in both instantiation and inheritance.\n */\nfunction mergeOptions (\n  parent,\n  child,\n  vm\n) {\n  if (process.env.NODE_ENV !== 'production') {\n    checkComponents(child);\n  }\n\n  if (typeof child === 'function') {\n    child = child.options;\n  }\n\n  normalizeProps(child, vm);\n  normalizeInject(child, vm);\n  normalizeDirectives(child);\n\n  // Apply extends and mixins on the child options,\n  // but only if it is a raw options object that isn't\n  // the result of another mergeOptions call.\n  // Only merged options has the _base property.\n  if (!child._base) {\n    if (child.extends) {\n      parent = mergeOptions(parent, child.extends, vm);\n    }\n    if (child.mixins) {\n      for (var i = 0, l = child.mixins.length; i < l; i++) {\n        parent = mergeOptions(parent, child.mixins[i], vm);\n      }\n    }\n  }\n\n  var options = {};\n  var key;\n  for (key in parent) {\n    mergeField(key);\n  }\n  for (key in child) {\n    if (!hasOwn(parent, key)) {\n      mergeField(key);\n    }\n  }\n  function mergeField (key) {\n    var strat = strats[key] || defaultStrat;\n    options[key] = strat(parent[key], child[key], vm, key);\n  }\n  return options\n}\n\n/**\n * Resolve an asset.\n * This function is used because child instances need access\n * to assets defined in its ancestor chain.\n */\nfunction resolveAsset (\n  options,\n  type,\n  id,\n  warnMissing\n) {\n  /* istanbul ignore if */\n  if (typeof id !== 'string') {\n    return\n  }\n  var assets = options[type];\n  // check local registration variations first\n  if (hasOwn(assets, id)) { return assets[id] }\n  var camelizedId = camelize(id);\n  if (hasOwn(assets, camelizedId)) { return assets[camelizedId] }\n  var PascalCaseId = capitalize(camelizedId);\n  if (hasOwn(assets, PascalCaseId)) { return assets[PascalCaseId] }\n  // fallback to prototype chain\n  var res = assets[id] || assets[camelizedId] || assets[PascalCaseId];\n  if (process.env.NODE_ENV !== 'production' && warnMissing && !res) {\n    warn(\n      'Failed to resolve ' + type.slice(0, -1) + ': ' + id,\n      options\n    );\n  }\n  return res\n}\n\n/*  */\n\n\n\nfunction validateProp (\n  key,\n  propOptions,\n  propsData,\n  vm\n) {\n  var prop = propOptions[key];\n  var absent = !hasOwn(propsData, key);\n  var value = propsData[key];\n  // boolean casting\n  var booleanIndex = getTypeIndex(Boolean, prop.type);\n  if (booleanIndex > -1) {\n    if (absent && !hasOwn(prop, 'default')) {\n      value = false;\n    } else if (value === '' || value === hyphenate(key)) {\n      // only cast empty string / same name to boolean if\n      // boolean has higher priority\n      var stringIndex = getTypeIndex(String, prop.type);\n      if (stringIndex < 0 || booleanIndex < stringIndex) {\n        value = true;\n      }\n    }\n  }\n  // check default value\n  if (value === undefined) {\n    value = getPropDefaultValue(vm, prop, key);\n    // since the default value is a fresh copy,\n    // make sure to observe it.\n    var prevShouldObserve = shouldObserve;\n    toggleObserving(true);\n    observe(value);\n    toggleObserving(prevShouldObserve);\n  }\n  if (\n    process.env.NODE_ENV !== 'production' &&\n    // skip validation for weex recycle-list child component props\n    !(false)\n  ) {\n    assertProp(prop, key, value, vm, absent);\n  }\n  return value\n}\n\n/**\n * Get the default value of a prop.\n */\nfunction getPropDefaultValue (vm, prop, key) {\n  // no default, return undefined\n  if (!hasOwn(prop, 'default')) {\n    return undefined\n  }\n  var def = prop.default;\n  // warn against non-factory defaults for Object & Array\n  if (process.env.NODE_ENV !== 'production' && isObject(def)) {\n    warn(\n      'Invalid default value for prop \"' + key + '\": ' +\n      'Props with type Object/Array must use a factory function ' +\n      'to return the default value.',\n      vm\n    );\n  }\n  // the raw prop value was also undefined from previous render,\n  // return previous default value to avoid unnecessary watcher trigger\n  if (vm && vm.$options.propsData &&\n    vm.$options.propsData[key] === undefined &&\n    vm._props[key] !== undefined\n  ) {\n    return vm._props[key]\n  }\n  // call factory function for non-Function types\n  // a value is Function if its prototype is function even across different execution context\n  return typeof def === 'function' && getType(prop.type) !== 'Function'\n    ? def.call(vm)\n    : def\n}\n\n/**\n * Assert whether a prop is valid.\n */\nfunction assertProp (\n  prop,\n  name,\n  value,\n  vm,\n  absent\n) {\n  if (prop.required && absent) {\n    warn(\n      'Missing required prop: \"' + name + '\"',\n      vm\n    );\n    return\n  }\n  if (value == null && !prop.required) {\n    return\n  }\n  var type = prop.type;\n  var valid = !type || type === true;\n  var expectedTypes = [];\n  if (type) {\n    if (!Array.isArray(type)) {\n      type = [type];\n    }\n    for (var i = 0; i < type.length && !valid; i++) {\n      var assertedType = assertType(value, type[i]);\n      expectedTypes.push(assertedType.expectedType || '');\n      valid = assertedType.valid;\n    }\n  }\n\n  if (!valid) {\n    warn(\n      getInvalidTypeMessage(name, value, expectedTypes),\n      vm\n    );\n    return\n  }\n  var validator = prop.validator;\n  if (validator) {\n    if (!validator(value)) {\n      warn(\n        'Invalid prop: custom validator check failed for prop \"' + name + '\".',\n        vm\n      );\n    }\n  }\n}\n\nvar simpleCheckRE = /^(String|Number|Boolean|Function|Symbol)$/;\n\nfunction assertType (value, type) {\n  var valid;\n  var expectedType = getType(type);\n  if (simpleCheckRE.test(expectedType)) {\n    var t = typeof value;\n    valid = t === expectedType.toLowerCase();\n    // for primitive wrapper objects\n    if (!valid && t === 'object') {\n      valid = value instanceof type;\n    }\n  } else if (expectedType === 'Object') {\n    valid = isPlainObject(value);\n  } else if (expectedType === 'Array') {\n    valid = Array.isArray(value);\n  } else {\n    valid = value instanceof type;\n  }\n  return {\n    valid: valid,\n    expectedType: expectedType\n  }\n}\n\n/**\n * Use function string name to check built-in types,\n * because a simple equality check will fail when running\n * across different vms / iframes.\n */\nfunction getType (fn) {\n  var match = fn && fn.toString().match(/^\\s*function (\\w+)/);\n  return match ? match[1] : ''\n}\n\nfunction isSameType (a, b) {\n  return getType(a) === getType(b)\n}\n\nfunction getTypeIndex (type, expectedTypes) {\n  if (!Array.isArray(expectedTypes)) {\n    return isSameType(expectedTypes, type) ? 0 : -1\n  }\n  for (var i = 0, len = expectedTypes.length; i < len; i++) {\n    if (isSameType(expectedTypes[i], type)) {\n      return i\n    }\n  }\n  return -1\n}\n\nfunction getInvalidTypeMessage (name, value, expectedTypes) {\n  var message = \"Invalid prop: type check failed for prop \\\"\" + name + \"\\\".\" +\n    \" Expected \" + (expectedTypes.map(capitalize).join(', '));\n  var expectedType = expectedTypes[0];\n  var receivedType = toRawType(value);\n  var expectedValue = styleValue(value, expectedType);\n  var receivedValue = styleValue(value, receivedType);\n  // check if we need to specify expected value\n  if (expectedTypes.length === 1 &&\n      isExplicable(expectedType) &&\n      !isBoolean(expectedType, receivedType)) {\n    message += \" with value \" + expectedValue;\n  }\n  message += \", got \" + receivedType + \" \";\n  // check if we need to specify received value\n  if (isExplicable(receivedType)) {\n    message += \"with value \" + receivedValue + \".\";\n  }\n  return message\n}\n\nfunction styleValue (value, type) {\n  if (type === 'String') {\n    return (\"\\\"\" + value + \"\\\"\")\n  } else if (type === 'Number') {\n    return (\"\" + (Number(value)))\n  } else {\n    return (\"\" + value)\n  }\n}\n\nfunction isExplicable (value) {\n  var explicitTypes = ['string', 'number', 'boolean'];\n  return explicitTypes.some(function (elem) { return value.toLowerCase() === elem; })\n}\n\nfunction isBoolean () {\n  var args = [], len = arguments.length;\n  while ( len-- ) args[ len ] = arguments[ len ];\n\n  return args.some(function (elem) { return elem.toLowerCase() === 'boolean'; })\n}\n\n/*  */\n\nfunction handleError (err, vm, info) {\n  // Deactivate deps tracking while processing error handler to avoid possible infinite rendering.\n  // See: https://github.com/vuejs/vuex/issues/1505\n  pushTarget();\n  try {\n    if (vm) {\n      var cur = vm;\n      while ((cur = cur.$parent)) {\n        var hooks = cur.$options.errorCaptured;\n        if (hooks) {\n          for (var i = 0; i < hooks.length; i++) {\n            try {\n              var capture = hooks[i].call(cur, err, vm, info) === false;\n              if (capture) { return }\n            } catch (e) {\n              globalHandleError(e, cur, 'errorCaptured hook');\n            }\n          }\n        }\n      }\n    }\n    globalHandleError(err, vm, info);\n  } finally {\n    popTarget();\n  }\n}\n\nfunction invokeWithErrorHandling (\n  handler,\n  context,\n  args,\n  vm,\n  info\n) {\n  var res;\n  try {\n    res = args ? handler.apply(context, args) : handler.call(context);\n    if (res && !res._isVue && isPromise(res) && !res._handled) {\n      res.catch(function (e) { return handleError(e, vm, info + \" (Promise/async)\"); });\n      // issue #9511\n      // avoid catch triggering multiple times when nested calls\n      res._handled = true;\n    }\n  } catch (e) {\n    handleError(e, vm, info);\n  }\n  return res\n}\n\nfunction globalHandleError (err, vm, info) {\n  if (config.errorHandler) {\n    try {\n      return config.errorHandler.call(null, err, vm, info)\n    } catch (e) {\n      // if the user intentionally throws the original error in the handler,\n      // do not log it twice\n      if (e !== err) {\n        logError(e, null, 'config.errorHandler');\n      }\n    }\n  }\n  logError(err, vm, info);\n}\n\nfunction logError (err, vm, info) {\n  if (process.env.NODE_ENV !== 'production') {\n    warn((\"Error in \" + info + \": \\\"\" + (err.toString()) + \"\\\"\"), vm);\n  }\n  /* istanbul ignore else */\n  if ((inBrowser || inWeex) && typeof console !== 'undefined') {\n    console.error(err);\n  } else {\n    throw err\n  }\n}\n\n/*  */\n\nvar isUsingMicroTask = false;\n\nvar callbacks = [];\nvar pending = false;\n\nfunction flushCallbacks () {\n  pending = false;\n  var copies = callbacks.slice(0);\n  callbacks.length = 0;\n  for (var i = 0; i < copies.length; i++) {\n    copies[i]();\n  }\n}\n\n// Here we have async deferring wrappers using microtasks.\n// In 2.5 we used (macro) tasks (in combination with microtasks).\n// However, it has subtle problems when state is changed right before repaint\n// (e.g. #6813, out-in transitions).\n// Also, using (macro) tasks in event handler would cause some weird behaviors\n// that cannot be circumvented (e.g. #7109, #7153, #7546, #7834, #8109).\n// So we now use microtasks everywhere, again.\n// A major drawback of this tradeoff is that there are some scenarios\n// where microtasks have too high a priority and fire in between supposedly\n// sequential events (e.g. #4521, #6690, which have workarounds)\n// or even between bubbling of the same event (#6566).\nvar timerFunc;\n\n// The nextTick behavior leverages the microtask queue, which can be accessed\n// via either native Promise.then or MutationObserver.\n// MutationObserver has wider support, however it is seriously bugged in\n// UIWebView in iOS >= 9.3.3 when triggered in touch event handlers. It\n// completely stops working after triggering a few times... so, if native\n// Promise is available, we will use it:\n/* istanbul ignore next, $flow-disable-line */\nif (typeof Promise !== 'undefined' && isNative(Promise)) {\n  var p = Promise.resolve();\n  timerFunc = function () {\n    p.then(flushCallbacks);\n    // In problematic UIWebViews, Promise.then doesn't completely break, but\n    // it can get stuck in a weird state where callbacks are pushed into the\n    // microtask queue but the queue isn't being flushed, until the browser\n    // needs to do some other work, e.g. handle a timer. Therefore we can\n    // \"force\" the microtask queue to be flushed by adding an empty timer.\n    if (isIOS) { setTimeout(noop); }\n  };\n  isUsingMicroTask = true;\n} else if (!isIE && typeof MutationObserver !== 'undefined' && (\n  isNative(MutationObserver) ||\n  // PhantomJS and iOS 7.x\n  MutationObserver.toString() === '[object MutationObserverConstructor]'\n)) {\n  // Use MutationObserver where native Promise is not available,\n  // e.g. PhantomJS, iOS7, Android 4.4\n  // (#6466 MutationObserver is unreliable in IE11)\n  var counter = 1;\n  var observer = new MutationObserver(flushCallbacks);\n  var textNode = document.createTextNode(String(counter));\n  observer.observe(textNode, {\n    characterData: true\n  });\n  timerFunc = function () {\n    counter = (counter + 1) % 2;\n    textNode.data = String(counter);\n  };\n  isUsingMicroTask = true;\n} else if (typeof setImmediate !== 'undefined' && isNative(setImmediate)) {\n  // Fallback to setImmediate.\n  // Technically it leverages the (macro) task queue,\n  // but it is still a better choice than setTimeout.\n  timerFunc = function () {\n    setImmediate(flushCallbacks);\n  };\n} else {\n  // Fallback to setTimeout.\n  timerFunc = function () {\n    setTimeout(flushCallbacks, 0);\n  };\n}\n\nfunction nextTick (cb, ctx) {\n  var _resolve;\n  callbacks.push(function () {\n    if (cb) {\n      try {\n        cb.call(ctx);\n      } catch (e) {\n        handleError(e, ctx, 'nextTick');\n      }\n    } else if (_resolve) {\n      _resolve(ctx);\n    }\n  });\n  if (!pending) {\n    pending = true;\n    timerFunc();\n  }\n  // $flow-disable-line\n  if (!cb && typeof Promise !== 'undefined') {\n    return new Promise(function (resolve) {\n      _resolve = resolve;\n    })\n  }\n}\n\n/*  */\n\n/* not type checking this file because flow doesn't play well with Proxy */\n\nvar initProxy;\n\nif (process.env.NODE_ENV !== 'production') {\n  var allowedGlobals = makeMap(\n    'Infinity,undefined,NaN,isFinite,isNaN,' +\n    'parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,' +\n    'Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,' +\n    'require' // for Webpack/Browserify\n  );\n\n  var warnNonPresent = function (target, key) {\n    warn(\n      \"Property or method \\\"\" + key + \"\\\" is not defined on the instance but \" +\n      'referenced during render. Make sure that this property is reactive, ' +\n      'either in the data option, or for class-based components, by ' +\n      'initializing the property. ' +\n      'See: https://vuejs.org/v2/guide/reactivity.html#Declaring-Reactive-Properties.',\n      target\n    );\n  };\n\n  var warnReservedPrefix = function (target, key) {\n    warn(\n      \"Property \\\"\" + key + \"\\\" must be accessed with \\\"$data.\" + key + \"\\\" because \" +\n      'properties starting with \"$\" or \"_\" are not proxied in the Vue instance to ' +\n      'prevent conflicts with Vue internals. ' +\n      'See: https://vuejs.org/v2/api/#data',\n      target\n    );\n  };\n\n  var hasProxy =\n    typeof Proxy !== 'undefined' && isNative(Proxy);\n\n  if (hasProxy) {\n    var isBuiltInModifier = makeMap('stop,prevent,self,ctrl,shift,alt,meta,exact');\n    config.keyCodes = new Proxy(config.keyCodes, {\n      set: function set (target, key, value) {\n        if (isBuiltInModifier(key)) {\n          warn((\"Avoid overwriting built-in modifier in config.keyCodes: .\" + key));\n          return false\n        } else {\n          target[key] = value;\n          return true\n        }\n      }\n    });\n  }\n\n  var hasHandler = {\n    has: function has (target, key) {\n      var has = key in target;\n      var isAllowed = allowedGlobals(key) ||\n        (typeof key === 'string' && key.charAt(0) === '_' && !(key in target.$data));\n      if (!has && !isAllowed) {\n        if (key in target.$data) { warnReservedPrefix(target, key); }\n        else { warnNonPresent(target, key); }\n      }\n      return has || !isAllowed\n    }\n  };\n\n  var getHandler = {\n    get: function get (target, key) {\n      if (typeof key === 'string' && !(key in target)) {\n        if (key in target.$data) { warnReservedPrefix(target, key); }\n        else { warnNonPresent(target, key); }\n      }\n      return target[key]\n    }\n  };\n\n  initProxy = function initProxy (vm) {\n    if (hasProxy) {\n      // determine which proxy handler to use\n      var options = vm.$options;\n      var handlers = options.render && options.render._withStripped\n        ? getHandler\n        : hasHandler;\n      vm._renderProxy = new Proxy(vm, handlers);\n    } else {\n      vm._renderProxy = vm;\n    }\n  };\n}\n\n/*  */\n\nvar seenObjects = new _Set();\n\n/**\n * Recursively traverse an object to evoke all converted\n * getters, so that every nested property inside the object\n * is collected as a \"deep\" dependency.\n */\nfunction traverse (val) {\n  _traverse(val, seenObjects);\n  seenObjects.clear();\n}\n\nfunction _traverse (val, seen) {\n  var i, keys;\n  var isA = Array.isArray(val);\n  if ((!isA && !isObject(val)) || Object.isFrozen(val) || val instanceof VNode) {\n    return\n  }\n  if (val.__ob__) {\n    var depId = val.__ob__.dep.id;\n    if (seen.has(depId)) {\n      return\n    }\n    seen.add(depId);\n  }\n  if (isA) {\n    i = val.length;\n    while (i--) { _traverse(val[i], seen); }\n  } else {\n    keys = Object.keys(val);\n    i = keys.length;\n    while (i--) { _traverse(val[keys[i]], seen); }\n  }\n}\n\nvar mark;\nvar measure;\n\nif (process.env.NODE_ENV !== 'production') {\n  var perf = inBrowser && window.performance;\n  /* istanbul ignore if */\n  if (\n    perf &&\n    perf.mark &&\n    perf.measure &&\n    perf.clearMarks &&\n    perf.clearMeasures\n  ) {\n    mark = function (tag) { return perf.mark(tag); };\n    measure = function (name, startTag, endTag) {\n      perf.measure(name, startTag, endTag);\n      perf.clearMarks(startTag);\n      perf.clearMarks(endTag);\n      // perf.clearMeasures(name)\n    };\n  }\n}\n\n/*  */\n\nvar normalizeEvent = cached(function (name) {\n  var passive = name.charAt(0) === '&';\n  name = passive ? name.slice(1) : name;\n  var once$$1 = name.charAt(0) === '~'; // Prefixed last, checked first\n  name = once$$1 ? name.slice(1) : name;\n  var capture = name.charAt(0) === '!';\n  name = capture ? name.slice(1) : name;\n  return {\n    name: name,\n    once: once$$1,\n    capture: capture,\n    passive: passive\n  }\n});\n\nfunction createFnInvoker (fns, vm) {\n  function invoker () {\n    var arguments$1 = arguments;\n\n    var fns = invoker.fns;\n    if (Array.isArray(fns)) {\n      var cloned = fns.slice();\n      for (var i = 0; i < cloned.length; i++) {\n        invokeWithErrorHandling(cloned[i], null, arguments$1, vm, \"v-on handler\");\n      }\n    } else {\n      // return handler return value for single handlers\n      return invokeWithErrorHandling(fns, null, arguments, vm, \"v-on handler\")\n    }\n  }\n  invoker.fns = fns;\n  return invoker\n}\n\nfunction updateListeners (\n  on,\n  oldOn,\n  add,\n  remove$$1,\n  createOnceHandler,\n  vm\n) {\n  var name, def$$1, cur, old, event;\n  for (name in on) {\n    def$$1 = cur = on[name];\n    old = oldOn[name];\n    event = normalizeEvent(name);\n    if (isUndef(cur)) {\n      process.env.NODE_ENV !== 'production' && warn(\n        \"Invalid handler for event \\\"\" + (event.name) + \"\\\": got \" + String(cur),\n        vm\n      );\n    } else if (isUndef(old)) {\n      if (isUndef(cur.fns)) {\n        cur = on[name] = createFnInvoker(cur, vm);\n      }\n      if (isTrue(event.once)) {\n        cur = on[name] = createOnceHandler(event.name, cur, event.capture);\n      }\n      add(event.name, cur, event.capture, event.passive, event.params);\n    } else if (cur !== old) {\n      old.fns = cur;\n      on[name] = old;\n    }\n  }\n  for (name in oldOn) {\n    if (isUndef(on[name])) {\n      event = normalizeEvent(name);\n      remove$$1(event.name, oldOn[name], event.capture);\n    }\n  }\n}\n\n/*  */\n\nfunction mergeVNodeHook (def, hookKey, hook) {\n  if (def instanceof VNode) {\n    def = def.data.hook || (def.data.hook = {});\n  }\n  var invoker;\n  var oldHook = def[hookKey];\n\n  function wrappedHook () {\n    hook.apply(this, arguments);\n    // important: remove merged hook to ensure it's called only once\n    // and prevent memory leak\n    remove(invoker.fns, wrappedHook);\n  }\n\n  if (isUndef(oldHook)) {\n    // no existing hook\n    invoker = createFnInvoker([wrappedHook]);\n  } else {\n    /* istanbul ignore if */\n    if (isDef(oldHook.fns) && isTrue(oldHook.merged)) {\n      // already a merged invoker\n      invoker = oldHook;\n      invoker.fns.push(wrappedHook);\n    } else {\n      // existing plain hook\n      invoker = createFnInvoker([oldHook, wrappedHook]);\n    }\n  }\n\n  invoker.merged = true;\n  def[hookKey] = invoker;\n}\n\n/*  */\n\nfunction extractPropsFromVNodeData (\n  data,\n  Ctor,\n  tag\n) {\n  // we are only extracting raw values here.\n  // validation and default values are handled in the child\n  // component itself.\n  var propOptions = Ctor.options.props;\n  if (isUndef(propOptions)) {\n    return\n  }\n  var res = {};\n  var attrs = data.attrs;\n  var props = data.props;\n  if (isDef(attrs) || isDef(props)) {\n    for (var key in propOptions) {\n      var altKey = hyphenate(key);\n      if (process.env.NODE_ENV !== 'production') {\n        var keyInLowerCase = key.toLowerCase();\n        if (\n          key !== keyInLowerCase &&\n          attrs && hasOwn(attrs, keyInLowerCase)\n        ) {\n          tip(\n            \"Prop \\\"\" + keyInLowerCase + \"\\\" is passed to component \" +\n            (formatComponentName(tag || Ctor)) + \", but the declared prop name is\" +\n            \" \\\"\" + key + \"\\\". \" +\n            \"Note that HTML attributes are case-insensitive and camelCased \" +\n            \"props need to use their kebab-case equivalents when using in-DOM \" +\n            \"templates. You should probably use \\\"\" + altKey + \"\\\" instead of \\\"\" + key + \"\\\".\"\n          );\n        }\n      }\n      checkProp(res, props, key, altKey, true) ||\n      checkProp(res, attrs, key, altKey, false);\n    }\n  }\n  return res\n}\n\nfunction checkProp (\n  res,\n  hash,\n  key,\n  altKey,\n  preserve\n) {\n  if (isDef(hash)) {\n    if (hasOwn(hash, key)) {\n      res[key] = hash[key];\n      if (!preserve) {\n        delete hash[key];\n      }\n      return true\n    } else if (hasOwn(hash, altKey)) {\n      res[key] = hash[altKey];\n      if (!preserve) {\n        delete hash[altKey];\n      }\n      return true\n    }\n  }\n  return false\n}\n\n/*  */\n\n// The template compiler attempts to minimize the need for normalization by\n// statically analyzing the template at compile time.\n//\n// For plain HTML markup, normalization can be completely skipped because the\n// generated render function is guaranteed to return Array<VNode>. There are\n// two cases where extra normalization is needed:\n\n// 1. When the children contains components - because a functional component\n// may return an Array instead of a single root. In this case, just a simple\n// normalization is needed - if any child is an Array, we flatten the whole\n// thing with Array.prototype.concat. It is guaranteed to be only 1-level deep\n// because functional components already normalize their own children.\nfunction simpleNormalizeChildren (children) {\n  for (var i = 0; i < children.length; i++) {\n    if (Array.isArray(children[i])) {\n      return Array.prototype.concat.apply([], children)\n    }\n  }\n  return children\n}\n\n// 2. When the children contains constructs that always generated nested Arrays,\n// e.g. <template>, <slot>, v-for, or when the children is provided by user\n// with hand-written render functions / JSX. In such cases a full normalization\n// is needed to cater to all possible types of children values.\nfunction normalizeChildren (children) {\n  return isPrimitive(children)\n    ? [createTextVNode(children)]\n    : Array.isArray(children)\n      ? normalizeArrayChildren(children)\n      : undefined\n}\n\nfunction isTextNode (node) {\n  return isDef(node) && isDef(node.text) && isFalse(node.isComment)\n}\n\nfunction normalizeArrayChildren (children, nestedIndex) {\n  var res = [];\n  var i, c, lastIndex, last;\n  for (i = 0; i < children.length; i++) {\n    c = children[i];\n    if (isUndef(c) || typeof c === 'boolean') { continue }\n    lastIndex = res.length - 1;\n    last = res[lastIndex];\n    //  nested\n    if (Array.isArray(c)) {\n      if (c.length > 0) {\n        c = normalizeArrayChildren(c, ((nestedIndex || '') + \"_\" + i));\n        // merge adjacent text nodes\n        if (isTextNode(c[0]) && isTextNode(last)) {\n          res[lastIndex] = createTextVNode(last.text + (c[0]).text);\n          c.shift();\n        }\n        res.push.apply(res, c);\n      }\n    } else if (isPrimitive(c)) {\n      if (isTextNode(last)) {\n        // merge adjacent text nodes\n        // this is necessary for SSR hydration because text nodes are\n        // essentially merged when rendered to HTML strings\n        res[lastIndex] = createTextVNode(last.text + c);\n      } else if (c !== '') {\n        // convert primitive to vnode\n        res.push(createTextVNode(c));\n      }\n    } else {\n      if (isTextNode(c) && isTextNode(last)) {\n        // merge adjacent text nodes\n        res[lastIndex] = createTextVNode(last.text + c.text);\n      } else {\n        // default key for nested array children (likely generated by v-for)\n        if (isTrue(children._isVList) &&\n          isDef(c.tag) &&\n          isUndef(c.key) &&\n          isDef(nestedIndex)) {\n          c.key = \"__vlist\" + nestedIndex + \"_\" + i + \"__\";\n        }\n        res.push(c);\n      }\n    }\n  }\n  return res\n}\n\n/*  */\n\nfunction initProvide (vm) {\n  var provide = vm.$options.provide;\n  if (provide) {\n    vm._provided = typeof provide === 'function'\n      ? provide.call(vm)\n      : provide;\n  }\n}\n\nfunction initInjections (vm) {\n  var result = resolveInject(vm.$options.inject, vm);\n  if (result) {\n    toggleObserving(false);\n    Object.keys(result).forEach(function (key) {\n      /* istanbul ignore else */\n      if (process.env.NODE_ENV !== 'production') {\n        defineReactive$$1(vm, key, result[key], function () {\n          warn(\n            \"Avoid mutating an injected value directly since the changes will be \" +\n            \"overwritten whenever the provided component re-renders. \" +\n            \"injection being mutated: \\\"\" + key + \"\\\"\",\n            vm\n          );\n        });\n      } else {\n        defineReactive$$1(vm, key, result[key]);\n      }\n    });\n    toggleObserving(true);\n  }\n}\n\nfunction resolveInject (inject, vm) {\n  if (inject) {\n    // inject is :any because flow is not smart enough to figure out cached\n    var result = Object.create(null);\n    var keys = hasSymbol\n      ? Reflect.ownKeys(inject)\n      : Object.keys(inject);\n\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n      // #6574 in case the inject object is observed...\n      if (key === '__ob__') { continue }\n      var provideKey = inject[key].from;\n      var source = vm;\n      while (source) {\n        if (source._provided && hasOwn(source._provided, provideKey)) {\n          result[key] = source._provided[provideKey];\n          break\n        }\n        source = source.$parent;\n      }\n      if (!source) {\n        if ('default' in inject[key]) {\n          var provideDefault = inject[key].default;\n          result[key] = typeof provideDefault === 'function'\n            ? provideDefault.call(vm)\n            : provideDefault;\n        } else if (process.env.NODE_ENV !== 'production') {\n          warn((\"Injection \\\"\" + key + \"\\\" not found\"), vm);\n        }\n      }\n    }\n    return result\n  }\n}\n\n/*  */\n\n\n\n/**\n * Runtime helper for resolving raw children VNodes into a slot object.\n */\nfunction resolveSlots (\n  children,\n  context\n) {\n  if (!children || !children.length) {\n    return {}\n  }\n  var slots = {};\n  for (var i = 0, l = children.length; i < l; i++) {\n    var child = children[i];\n    var data = child.data;\n    // remove slot attribute if the node is resolved as a Vue slot node\n    if (data && data.attrs && data.attrs.slot) {\n      delete data.attrs.slot;\n    }\n    // named slots should only be respected if the vnode was rendered in the\n    // same context.\n    if ((child.context === context || child.fnContext === context) &&\n      data && data.slot != null\n    ) {\n      var name = data.slot;\n      var slot = (slots[name] || (slots[name] = []));\n      if (child.tag === 'template') {\n        slot.push.apply(slot, child.children || []);\n      } else {\n        slot.push(child);\n      }\n    } else {\n      (slots.default || (slots.default = [])).push(child);\n    }\n  }\n  // ignore slots that contains only whitespace\n  for (var name$1 in slots) {\n    if (slots[name$1].every(isWhitespace)) {\n      delete slots[name$1];\n    }\n  }\n  return slots\n}\n\nfunction isWhitespace (node) {\n  return (node.isComment && !node.asyncFactory) || node.text === ' '\n}\n\n/*  */\n\nfunction normalizeScopedSlots (\n  slots,\n  normalSlots,\n  prevSlots\n) {\n  var res;\n  var hasNormalSlots = Object.keys(normalSlots).length > 0;\n  var isStable = slots ? !!slots.$stable : !hasNormalSlots;\n  var key = slots && slots.$key;\n  if (!slots) {\n    res = {};\n  } else if (slots._normalized) {\n    // fast path 1: child component re-render only, parent did not change\n    return slots._normalized\n  } else if (\n    isStable &&\n    prevSlots &&\n    prevSlots !== emptyObject &&\n    key === prevSlots.$key &&\n    !hasNormalSlots &&\n    !prevSlots.$hasNormal\n  ) {\n    // fast path 2: stable scoped slots w/ no normal slots to proxy,\n    // only need to normalize once\n    return prevSlots\n  } else {\n    res = {};\n    for (var key$1 in slots) {\n      if (slots[key$1] && key$1[0] !== '$') {\n        res[key$1] = normalizeScopedSlot(normalSlots, key$1, slots[key$1]);\n      }\n    }\n  }\n  // expose normal slots on scopedSlots\n  for (var key$2 in normalSlots) {\n    if (!(key$2 in res)) {\n      res[key$2] = proxyNormalSlot(normalSlots, key$2);\n    }\n  }\n  // avoriaz seems to mock a non-extensible $scopedSlots object\n  // and when that is passed down this would cause an error\n  if (slots && Object.isExtensible(slots)) {\n    (slots)._normalized = res;\n  }\n  def(res, '$stable', isStable);\n  def(res, '$key', key);\n  def(res, '$hasNormal', hasNormalSlots);\n  return res\n}\n\nfunction normalizeScopedSlot(normalSlots, key, fn) {\n  var normalized = function () {\n    var res = arguments.length ? fn.apply(null, arguments) : fn({});\n    res = res && typeof res === 'object' && !Array.isArray(res)\n      ? [res] // single vnode\n      : normalizeChildren(res);\n    return res && (\n      res.length === 0 ||\n      (res.length === 1 && res[0].isComment) // #9658\n    ) ? undefined\n      : res\n  };\n  // this is a slot using the new v-slot syntax without scope. although it is\n  // compiled as a scoped slot, render fn users would expect it to be present\n  // on this.$slots because the usage is semantically a normal slot.\n  if (fn.proxy) {\n    Object.defineProperty(normalSlots, key, {\n      get: normalized,\n      enumerable: true,\n      configurable: true\n    });\n  }\n  return normalized\n}\n\nfunction proxyNormalSlot(slots, key) {\n  return function () { return slots[key]; }\n}\n\n/*  */\n\n/**\n * Runtime helper for rendering v-for lists.\n */\nfunction renderList (\n  val,\n  render\n) {\n  var ret, i, l, keys, key;\n  if (Array.isArray(val) || typeof val === 'string') {\n    ret = new Array(val.length);\n    for (i = 0, l = val.length; i < l; i++) {\n      ret[i] = render(val[i], i);\n    }\n  } else if (typeof val === 'number') {\n    ret = new Array(val);\n    for (i = 0; i < val; i++) {\n      ret[i] = render(i + 1, i);\n    }\n  } else if (isObject(val)) {\n    if (hasSymbol && val[Symbol.iterator]) {\n      ret = [];\n      var iterator = val[Symbol.iterator]();\n      var result = iterator.next();\n      while (!result.done) {\n        ret.push(render(result.value, ret.length));\n        result = iterator.next();\n      }\n    } else {\n      keys = Object.keys(val);\n      ret = new Array(keys.length);\n      for (i = 0, l = keys.length; i < l; i++) {\n        key = keys[i];\n        ret[i] = render(val[key], key, i);\n      }\n    }\n  }\n  if (!isDef(ret)) {\n    ret = [];\n  }\n  (ret)._isVList = true;\n  return ret\n}\n\n/*  */\n\n/**\n * Runtime helper for rendering <slot>\n */\nfunction renderSlot (\n  name,\n  fallback,\n  props,\n  bindObject\n) {\n  var scopedSlotFn = this.$scopedSlots[name];\n  var nodes;\n  if (scopedSlotFn) { // scoped slot\n    props = props || {};\n    if (bindObject) {\n      if (process.env.NODE_ENV !== 'production' && !isObject(bindObject)) {\n        warn(\n          'slot v-bind without argument expects an Object',\n          this\n        );\n      }\n      props = extend(extend({}, bindObject), props);\n    }\n    nodes = scopedSlotFn(props) || fallback;\n  } else {\n    nodes = this.$slots[name] || fallback;\n  }\n\n  var target = props && props.slot;\n  if (target) {\n    return this.$createElement('template', { slot: target }, nodes)\n  } else {\n    return nodes\n  }\n}\n\n/*  */\n\n/**\n * Runtime helper for resolving filters\n */\nfunction resolveFilter (id) {\n  return resolveAsset(this.$options, 'filters', id, true) || identity\n}\n\n/*  */\n\nfunction isKeyNotMatch (expect, actual) {\n  if (Array.isArray(expect)) {\n    return expect.indexOf(actual) === -1\n  } else {\n    return expect !== actual\n  }\n}\n\n/**\n * Runtime helper for checking keyCodes from config.\n * exposed as Vue.prototype._k\n * passing in eventKeyName as last argument separately for backwards compat\n */\nfunction checkKeyCodes (\n  eventKeyCode,\n  key,\n  builtInKeyCode,\n  eventKeyName,\n  builtInKeyName\n) {\n  var mappedKeyCode = config.keyCodes[key] || builtInKeyCode;\n  if (builtInKeyName && eventKeyName && !config.keyCodes[key]) {\n    return isKeyNotMatch(builtInKeyName, eventKeyName)\n  } else if (mappedKeyCode) {\n    return isKeyNotMatch(mappedKeyCode, eventKeyCode)\n  } else if (eventKeyName) {\n    return hyphenate(eventKeyName) !== key\n  }\n}\n\n/*  */\n\n/**\n * Runtime helper for merging v-bind=\"object\" into a VNode's data.\n */\nfunction bindObjectProps (\n  data,\n  tag,\n  value,\n  asProp,\n  isSync\n) {\n  if (value) {\n    if (!isObject(value)) {\n      process.env.NODE_ENV !== 'production' && warn(\n        'v-bind without argument expects an Object or Array value',\n        this\n      );\n    } else {\n      if (Array.isArray(value)) {\n        value = toObject(value);\n      }\n      var hash;\n      var loop = function ( key ) {\n        if (\n          key === 'class' ||\n          key === 'style' ||\n          isReservedAttribute(key)\n        ) {\n          hash = data;\n        } else {\n          var type = data.attrs && data.attrs.type;\n          hash = asProp || config.mustUseProp(tag, type, key)\n            ? data.domProps || (data.domProps = {})\n            : data.attrs || (data.attrs = {});\n        }\n        var camelizedKey = camelize(key);\n        var hyphenatedKey = hyphenate(key);\n        if (!(camelizedKey in hash) && !(hyphenatedKey in hash)) {\n          hash[key] = value[key];\n\n          if (isSync) {\n            var on = data.on || (data.on = {});\n            on[(\"update:\" + key)] = function ($event) {\n              value[key] = $event;\n            };\n          }\n        }\n      };\n\n      for (var key in value) loop( key );\n    }\n  }\n  return data\n}\n\n/*  */\n\n/**\n * Runtime helper for rendering static trees.\n */\nfunction renderStatic (\n  index,\n  isInFor\n) {\n  var cached = this._staticTrees || (this._staticTrees = []);\n  var tree = cached[index];\n  // if has already-rendered static tree and not inside v-for,\n  // we can reuse the same tree.\n  if (tree && !isInFor) {\n    return tree\n  }\n  // otherwise, render a fresh tree.\n  tree = cached[index] = this.$options.staticRenderFns[index].call(\n    this._renderProxy,\n    null,\n    this // for render fns generated for functional component templates\n  );\n  markStatic(tree, (\"__static__\" + index), false);\n  return tree\n}\n\n/**\n * Runtime helper for v-once.\n * Effectively it means marking the node as static with a unique key.\n */\nfunction markOnce (\n  tree,\n  index,\n  key\n) {\n  markStatic(tree, (\"__once__\" + index + (key ? (\"_\" + key) : \"\")), true);\n  return tree\n}\n\nfunction markStatic (\n  tree,\n  key,\n  isOnce\n) {\n  if (Array.isArray(tree)) {\n    for (var i = 0; i < tree.length; i++) {\n      if (tree[i] && typeof tree[i] !== 'string') {\n        markStaticNode(tree[i], (key + \"_\" + i), isOnce);\n      }\n    }\n  } else {\n    markStaticNode(tree, key, isOnce);\n  }\n}\n\nfunction markStaticNode (node, key, isOnce) {\n  node.isStatic = true;\n  node.key = key;\n  node.isOnce = isOnce;\n}\n\n/*  */\n\nfunction bindObjectListeners (data, value) {\n  if (value) {\n    if (!isPlainObject(value)) {\n      process.env.NODE_ENV !== 'production' && warn(\n        'v-on without argument expects an Object value',\n        this\n      );\n    } else {\n      var on = data.on = data.on ? extend({}, data.on) : {};\n      for (var key in value) {\n        var existing = on[key];\n        var ours = value[key];\n        on[key] = existing ? [].concat(existing, ours) : ours;\n      }\n    }\n  }\n  return data\n}\n\n/*  */\n\nfunction resolveScopedSlots (\n  fns, // see flow/vnode\n  res,\n  // the following are added in 2.6\n  hasDynamicKeys,\n  contentHashKey\n) {\n  res = res || { $stable: !hasDynamicKeys };\n  for (var i = 0; i < fns.length; i++) {\n    var slot = fns[i];\n    if (Array.isArray(slot)) {\n      resolveScopedSlots(slot, res, hasDynamicKeys);\n    } else if (slot) {\n      // marker for reverse proxying v-slot without scope on this.$slots\n      if (slot.proxy) {\n        slot.fn.proxy = true;\n      }\n      res[slot.key] = slot.fn;\n    }\n  }\n  if (contentHashKey) {\n    (res).$key = contentHashKey;\n  }\n  return res\n}\n\n/*  */\n\nfunction bindDynamicKeys (baseObj, values) {\n  for (var i = 0; i < values.length; i += 2) {\n    var key = values[i];\n    if (typeof key === 'string' && key) {\n      baseObj[values[i]] = values[i + 1];\n    } else if (process.env.NODE_ENV !== 'production' && key !== '' && key !== null) {\n      // null is a special value for explicitly removing a binding\n      warn(\n        (\"Invalid value for dynamic directive argument (expected string or null): \" + key),\n        this\n      );\n    }\n  }\n  return baseObj\n}\n\n// helper to dynamically append modifier runtime markers to event names.\n// ensure only append when value is already string, otherwise it will be cast\n// to string and cause the type check to miss.\nfunction prependModifier (value, symbol) {\n  return typeof value === 'string' ? symbol + value : value\n}\n\n/*  */\n\nfunction installRenderHelpers (target) {\n  target._o = markOnce;\n  target._n = toNumber;\n  target._s = toString;\n  target._l = renderList;\n  target._t = renderSlot;\n  target._q = looseEqual;\n  target._i = looseIndexOf;\n  target._m = renderStatic;\n  target._f = resolveFilter;\n  target._k = checkKeyCodes;\n  target._b = bindObjectProps;\n  target._v = createTextVNode;\n  target._e = createEmptyVNode;\n  target._u = resolveScopedSlots;\n  target._g = bindObjectListeners;\n  target._d = bindDynamicKeys;\n  target._p = prependModifier;\n}\n\n/*  */\n\nfunction FunctionalRenderContext (\n  data,\n  props,\n  children,\n  parent,\n  Ctor\n) {\n  var this$1 = this;\n\n  var options = Ctor.options;\n  // ensure the createElement function in functional components\n  // gets a unique context - this is necessary for correct named slot check\n  var contextVm;\n  if (hasOwn(parent, '_uid')) {\n    contextVm = Object.create(parent);\n    // $flow-disable-line\n    contextVm._original = parent;\n  } else {\n    // the context vm passed in is a functional context as well.\n    // in this case we want to make sure we are able to get a hold to the\n    // real context instance.\n    contextVm = parent;\n    // $flow-disable-line\n    parent = parent._original;\n  }\n  var isCompiled = isTrue(options._compiled);\n  var needNormalization = !isCompiled;\n\n  this.data = data;\n  this.props = props;\n  this.children = children;\n  this.parent = parent;\n  this.listeners = data.on || emptyObject;\n  this.injections = resolveInject(options.inject, parent);\n  this.slots = function () {\n    if (!this$1.$slots) {\n      normalizeScopedSlots(\n        data.scopedSlots,\n        this$1.$slots = resolveSlots(children, parent)\n      );\n    }\n    return this$1.$slots\n  };\n\n  Object.defineProperty(this, 'scopedSlots', ({\n    enumerable: true,\n    get: function get () {\n      return normalizeScopedSlots(data.scopedSlots, this.slots())\n    }\n  }));\n\n  // support for compiled functional template\n  if (isCompiled) {\n    // exposing $options for renderStatic()\n    this.$options = options;\n    // pre-resolve slots for renderSlot()\n    this.$slots = this.slots();\n    this.$scopedSlots = normalizeScopedSlots(data.scopedSlots, this.$slots);\n  }\n\n  if (options._scopeId) {\n    this._c = function (a, b, c, d) {\n      var vnode = createElement(contextVm, a, b, c, d, needNormalization);\n      if (vnode && !Array.isArray(vnode)) {\n        vnode.fnScopeId = options._scopeId;\n        vnode.fnContext = parent;\n      }\n      return vnode\n    };\n  } else {\n    this._c = function (a, b, c, d) { return createElement(contextVm, a, b, c, d, needNormalization); };\n  }\n}\n\ninstallRenderHelpers(FunctionalRenderContext.prototype);\n\nfunction createFunctionalComponent (\n  Ctor,\n  propsData,\n  data,\n  contextVm,\n  children\n) {\n  var options = Ctor.options;\n  var props = {};\n  var propOptions = options.props;\n  if (isDef(propOptions)) {\n    for (var key in propOptions) {\n      props[key] = validateProp(key, propOptions, propsData || emptyObject);\n    }\n  } else {\n    if (isDef(data.attrs)) { mergeProps(props, data.attrs); }\n    if (isDef(data.props)) { mergeProps(props, data.props); }\n  }\n\n  var renderContext = new FunctionalRenderContext(\n    data,\n    props,\n    children,\n    contextVm,\n    Ctor\n  );\n\n  var vnode = options.render.call(null, renderContext._c, renderContext);\n\n  if (vnode instanceof VNode) {\n    return cloneAndMarkFunctionalResult(vnode, data, renderContext.parent, options, renderContext)\n  } else if (Array.isArray(vnode)) {\n    var vnodes = normalizeChildren(vnode) || [];\n    var res = new Array(vnodes.length);\n    for (var i = 0; i < vnodes.length; i++) {\n      res[i] = cloneAndMarkFunctionalResult(vnodes[i], data, renderContext.parent, options, renderContext);\n    }\n    return res\n  }\n}\n\nfunction cloneAndMarkFunctionalResult (vnode, data, contextVm, options, renderContext) {\n  // #7817 clone node before setting fnContext, otherwise if the node is reused\n  // (e.g. it was from a cached normal slot) the fnContext causes named slots\n  // that should not be matched to match.\n  var clone = cloneVNode(vnode);\n  clone.fnContext = contextVm;\n  clone.fnOptions = options;\n  if (process.env.NODE_ENV !== 'production') {\n    (clone.devtoolsMeta = clone.devtoolsMeta || {}).renderContext = renderContext;\n  }\n  if (data.slot) {\n    (clone.data || (clone.data = {})).slot = data.slot;\n  }\n  return clone\n}\n\nfunction mergeProps (to, from) {\n  for (var key in from) {\n    to[camelize(key)] = from[key];\n  }\n}\n\n/*  */\n\n/*  */\n\n/*  */\n\n/*  */\n\n// inline hooks to be invoked on component VNodes during patch\nvar componentVNodeHooks = {\n  init: function init (vnode, hydrating) {\n    if (\n      vnode.componentInstance &&\n      !vnode.componentInstance._isDestroyed &&\n      vnode.data.keepAlive\n    ) {\n      // kept-alive components, treat as a patch\n      var mountedNode = vnode; // work around flow\n      componentVNodeHooks.prepatch(mountedNode, mountedNode);\n    } else {\n      var child = vnode.componentInstance = createComponentInstanceForVnode(\n        vnode,\n        activeInstance\n      );\n      child.$mount(hydrating ? vnode.elm : undefined, hydrating);\n    }\n  },\n\n  prepatch: function prepatch (oldVnode, vnode) {\n    var options = vnode.componentOptions;\n    var child = vnode.componentInstance = oldVnode.componentInstance;\n    updateChildComponent(\n      child,\n      options.propsData, // updated props\n      options.listeners, // updated listeners\n      vnode, // new parent vnode\n      options.children // new children\n    );\n  },\n\n  insert: function insert (vnode) {\n    var context = vnode.context;\n    var componentInstance = vnode.componentInstance;\n    if (!componentInstance._isMounted) {\n      componentInstance._isMounted = true;\n      callHook(componentInstance, 'mounted');\n    }\n    if (vnode.data.keepAlive) {\n      if (context._isMounted) {\n        // vue-router#1212\n        // During updates, a kept-alive component's child components may\n        // change, so directly walking the tree here may call activated hooks\n        // on incorrect children. Instead we push them into a queue which will\n        // be processed after the whole patch process ended.\n        queueActivatedComponent(componentInstance);\n      } else {\n        activateChildComponent(componentInstance, true /* direct */);\n      }\n    }\n  },\n\n  destroy: function destroy (vnode) {\n    var componentInstance = vnode.componentInstance;\n    if (!componentInstance._isDestroyed) {\n      if (!vnode.data.keepAlive) {\n        componentInstance.$destroy();\n      } else {\n        deactivateChildComponent(componentInstance, true /* direct */);\n      }\n    }\n  }\n};\n\nvar hooksToMerge = Object.keys(componentVNodeHooks);\n\nfunction createComponent (\n  Ctor,\n  data,\n  context,\n  children,\n  tag\n) {\n  if (isUndef(Ctor)) {\n    return\n  }\n\n  var baseCtor = context.$options._base;\n\n  // plain options object: turn it into a constructor\n  if (isObject(Ctor)) {\n    Ctor = baseCtor.extend(Ctor);\n  }\n\n  // if at this stage it's not a constructor or an async component factory,\n  // reject.\n  if (typeof Ctor !== 'function') {\n    if (process.env.NODE_ENV !== 'production') {\n      warn((\"Invalid Component definition: \" + (String(Ctor))), context);\n    }\n    return\n  }\n\n  // async component\n  var asyncFactory;\n  if (isUndef(Ctor.cid)) {\n    asyncFactory = Ctor;\n    Ctor = resolveAsyncComponent(asyncFactory, baseCtor);\n    if (Ctor === undefined) {\n      // return a placeholder node for async component, which is rendered\n      // as a comment node but preserves all the raw information for the node.\n      // the information will be used for async server-rendering and hydration.\n      return createAsyncPlaceholder(\n        asyncFactory,\n        data,\n        context,\n        children,\n        tag\n      )\n    }\n  }\n\n  data = data || {};\n\n  // resolve constructor options in case global mixins are applied after\n  // component constructor creation\n  resolveConstructorOptions(Ctor);\n\n  // transform component v-model data into props & events\n  if (isDef(data.model)) {\n    transformModel(Ctor.options, data);\n  }\n\n  // extract props\n  var propsData = extractPropsFromVNodeData(data, Ctor, tag);\n\n  // functional component\n  if (isTrue(Ctor.options.functional)) {\n    return createFunctionalComponent(Ctor, propsData, data, context, children)\n  }\n\n  // extract listeners, since these needs to be treated as\n  // child component listeners instead of DOM listeners\n  var listeners = data.on;\n  // replace with listeners with .native modifier\n  // so it gets processed during parent component patch.\n  data.on = data.nativeOn;\n\n  if (isTrue(Ctor.options.abstract)) {\n    // abstract components do not keep anything\n    // other than props & listeners & slot\n\n    // work around flow\n    var slot = data.slot;\n    data = {};\n    if (slot) {\n      data.slot = slot;\n    }\n  }\n\n  // install component management hooks onto the placeholder node\n  installComponentHooks(data);\n\n  // return a placeholder vnode\n  var name = Ctor.options.name || tag;\n  var vnode = new VNode(\n    (\"vue-component-\" + (Ctor.cid) + (name ? (\"-\" + name) : '')),\n    data, undefined, undefined, undefined, context,\n    { Ctor: Ctor, propsData: propsData, listeners: listeners, tag: tag, children: children },\n    asyncFactory\n  );\n\n  return vnode\n}\n\nfunction createComponentInstanceForVnode (\n  vnode, // we know it's MountedComponentVNode but flow doesn't\n  parent // activeInstance in lifecycle state\n) {\n  var options = {\n    _isComponent: true,\n    _parentVnode: vnode,\n    parent: parent\n  };\n  // check inline-template render functions\n  var inlineTemplate = vnode.data.inlineTemplate;\n  if (isDef(inlineTemplate)) {\n    options.render = inlineTemplate.render;\n    options.staticRenderFns = inlineTemplate.staticRenderFns;\n  }\n  return new vnode.componentOptions.Ctor(options)\n}\n\nfunction installComponentHooks (data) {\n  var hooks = data.hook || (data.hook = {});\n  for (var i = 0; i < hooksToMerge.length; i++) {\n    var key = hooksToMerge[i];\n    var existing = hooks[key];\n    var toMerge = componentVNodeHooks[key];\n    if (existing !== toMerge && !(existing && existing._merged)) {\n      hooks[key] = existing ? mergeHook$1(toMerge, existing) : toMerge;\n    }\n  }\n}\n\nfunction mergeHook$1 (f1, f2) {\n  var merged = function (a, b) {\n    // flow complains about extra args which is why we use any\n    f1(a, b);\n    f2(a, b);\n  };\n  merged._merged = true;\n  return merged\n}\n\n// transform component v-model info (value and callback) into\n// prop and event handler respectively.\nfunction transformModel (options, data) {\n  var prop = (options.model && options.model.prop) || 'value';\n  var event = (options.model && options.model.event) || 'input'\n  ;(data.attrs || (data.attrs = {}))[prop] = data.model.value;\n  var on = data.on || (data.on = {});\n  var existing = on[event];\n  var callback = data.model.callback;\n  if (isDef(existing)) {\n    if (\n      Array.isArray(existing)\n        ? existing.indexOf(callback) === -1\n        : existing !== callback\n    ) {\n      on[event] = [callback].concat(existing);\n    }\n  } else {\n    on[event] = callback;\n  }\n}\n\n/*  */\n\nvar SIMPLE_NORMALIZE = 1;\nvar ALWAYS_NORMALIZE = 2;\n\n// wrapper function for providing a more flexible interface\n// without getting yelled at by flow\nfunction createElement (\n  context,\n  tag,\n  data,\n  children,\n  normalizationType,\n  alwaysNormalize\n) {\n  if (Array.isArray(data) || isPrimitive(data)) {\n    normalizationType = children;\n    children = data;\n    data = undefined;\n  }\n  if (isTrue(alwaysNormalize)) {\n    normalizationType = ALWAYS_NORMALIZE;\n  }\n  return _createElement(context, tag, data, children, normalizationType)\n}\n\nfunction _createElement (\n  context,\n  tag,\n  data,\n  children,\n  normalizationType\n) {\n  if (isDef(data) && isDef((data).__ob__)) {\n    process.env.NODE_ENV !== 'production' && warn(\n      \"Avoid using observed data object as vnode data: \" + (JSON.stringify(data)) + \"\\n\" +\n      'Always create fresh vnode data objects in each render!',\n      context\n    );\n    return createEmptyVNode()\n  }\n  // object syntax in v-bind\n  if (isDef(data) && isDef(data.is)) {\n    tag = data.is;\n  }\n  if (!tag) {\n    // in case of component :is set to falsy value\n    return createEmptyVNode()\n  }\n  // warn against non-primitive key\n  if (process.env.NODE_ENV !== 'production' &&\n    isDef(data) && isDef(data.key) && !isPrimitive(data.key)\n  ) {\n    {\n      warn(\n        'Avoid using non-primitive value as key, ' +\n        'use string/number value instead.',\n        context\n      );\n    }\n  }\n  // support single function children as default scoped slot\n  if (Array.isArray(children) &&\n    typeof children[0] === 'function'\n  ) {\n    data = data || {};\n    data.scopedSlots = { default: children[0] };\n    children.length = 0;\n  }\n  if (normalizationType === ALWAYS_NORMALIZE) {\n    children = normalizeChildren(children);\n  } else if (normalizationType === SIMPLE_NORMALIZE) {\n    children = simpleNormalizeChildren(children);\n  }\n  var vnode, ns;\n  if (typeof tag === 'string') {\n    var Ctor;\n    ns = (context.$vnode && context.$vnode.ns) || config.getTagNamespace(tag);\n    if (config.isReservedTag(tag)) {\n      // platform built-in elements\n      if (process.env.NODE_ENV !== 'production' && isDef(data) && isDef(data.nativeOn)) {\n        warn(\n          (\"The .native modifier for v-on is only valid on components but it was used on <\" + tag + \">.\"),\n          context\n        );\n      }\n      vnode = new VNode(\n        config.parsePlatformTagName(tag), data, children,\n        undefined, undefined, context\n      );\n    } else if ((!data || !data.pre) && isDef(Ctor = resolveAsset(context.$options, 'components', tag))) {\n      // component\n      vnode = createComponent(Ctor, data, context, children, tag);\n    } else {\n      // unknown or unlisted namespaced elements\n      // check at runtime because it may get assigned a namespace when its\n      // parent normalizes children\n      vnode = new VNode(\n        tag, data, children,\n        undefined, undefined, context\n      );\n    }\n  } else {\n    // direct component options / constructor\n    vnode = createComponent(tag, data, context, children);\n  }\n  if (Array.isArray(vnode)) {\n    return vnode\n  } else if (isDef(vnode)) {\n    if (isDef(ns)) { applyNS(vnode, ns); }\n    if (isDef(data)) { registerDeepBindings(data); }\n    return vnode\n  } else {\n    return createEmptyVNode()\n  }\n}\n\nfunction applyNS (vnode, ns, force) {\n  vnode.ns = ns;\n  if (vnode.tag === 'foreignObject') {\n    // use default namespace inside foreignObject\n    ns = undefined;\n    force = true;\n  }\n  if (isDef(vnode.children)) {\n    for (var i = 0, l = vnode.children.length; i < l; i++) {\n      var child = vnode.children[i];\n      if (isDef(child.tag) && (\n        isUndef(child.ns) || (isTrue(force) && child.tag !== 'svg'))) {\n        applyNS(child, ns, force);\n      }\n    }\n  }\n}\n\n// ref #5318\n// necessary to ensure parent re-render when deep bindings like :style and\n// :class are used on slot nodes\nfunction registerDeepBindings (data) {\n  if (isObject(data.style)) {\n    traverse(data.style);\n  }\n  if (isObject(data.class)) {\n    traverse(data.class);\n  }\n}\n\n/*  */\n\nfunction initRender (vm) {\n  vm._vnode = null; // the root of the child tree\n  vm._staticTrees = null; // v-once cached trees\n  var options = vm.$options;\n  var parentVnode = vm.$vnode = options._parentVnode; // the placeholder node in parent tree\n  var renderContext = parentVnode && parentVnode.context;\n  vm.$slots = resolveSlots(options._renderChildren, renderContext);\n  vm.$scopedSlots = emptyObject;\n  // bind the createElement fn to this instance\n  // so that we get proper render context inside it.\n  // args order: tag, data, children, normalizationType, alwaysNormalize\n  // internal version is used by render functions compiled from templates\n  vm._c = function (a, b, c, d) { return createElement(vm, a, b, c, d, false); };\n  // normalization is always applied for the public version, used in\n  // user-written render functions.\n  vm.$createElement = function (a, b, c, d) { return createElement(vm, a, b, c, d, true); };\n\n  // $attrs & $listeners are exposed for easier HOC creation.\n  // they need to be reactive so that HOCs using them are always updated\n  var parentData = parentVnode && parentVnode.data;\n\n  /* istanbul ignore else */\n  if (process.env.NODE_ENV !== 'production') {\n    defineReactive$$1(vm, '$attrs', parentData && parentData.attrs || emptyObject, function () {\n      !isUpdatingChildComponent && warn(\"$attrs is readonly.\", vm);\n    }, true);\n    defineReactive$$1(vm, '$listeners', options._parentListeners || emptyObject, function () {\n      !isUpdatingChildComponent && warn(\"$listeners is readonly.\", vm);\n    }, true);\n  } else {\n    defineReactive$$1(vm, '$attrs', parentData && parentData.attrs || emptyObject, null, true);\n    defineReactive$$1(vm, '$listeners', options._parentListeners || emptyObject, null, true);\n  }\n}\n\nvar currentRenderingInstance = null;\n\nfunction renderMixin (Vue) {\n  // install runtime convenience helpers\n  installRenderHelpers(Vue.prototype);\n\n  Vue.prototype.$nextTick = function (fn) {\n    return nextTick(fn, this)\n  };\n\n  Vue.prototype._render = function () {\n    var vm = this;\n    var ref = vm.$options;\n    var render = ref.render;\n    var _parentVnode = ref._parentVnode;\n\n    if (_parentVnode) {\n      vm.$scopedSlots = normalizeScopedSlots(\n        _parentVnode.data.scopedSlots,\n        vm.$slots,\n        vm.$scopedSlots\n      );\n    }\n\n    // set parent vnode. this allows render functions to have access\n    // to the data on the placeholder node.\n    vm.$vnode = _parentVnode;\n    // render self\n    var vnode;\n    try {\n      // There's no need to maintain a stack because all render fns are called\n      // separately from one another. Nested component's render fns are called\n      // when parent component is patched.\n      currentRenderingInstance = vm;\n      vnode = render.call(vm._renderProxy, vm.$createElement);\n    } catch (e) {\n      handleError(e, vm, \"render\");\n      // return error render result,\n      // or previous vnode to prevent render error causing blank component\n      /* istanbul ignore else */\n      if (process.env.NODE_ENV !== 'production' && vm.$options.renderError) {\n        try {\n          vnode = vm.$options.renderError.call(vm._renderProxy, vm.$createElement, e);\n        } catch (e) {\n          handleError(e, vm, \"renderError\");\n          vnode = vm._vnode;\n        }\n      } else {\n        vnode = vm._vnode;\n      }\n    } finally {\n      currentRenderingInstance = null;\n    }\n    // if the returned array contains only a single node, allow it\n    if (Array.isArray(vnode) && vnode.length === 1) {\n      vnode = vnode[0];\n    }\n    // return empty vnode in case the render function errored out\n    if (!(vnode instanceof VNode)) {\n      if (process.env.NODE_ENV !== 'production' && Array.isArray(vnode)) {\n        warn(\n          'Multiple root nodes returned from render function. Render function ' +\n          'should return a single root node.',\n          vm\n        );\n      }\n      vnode = createEmptyVNode();\n    }\n    // set parent\n    vnode.parent = _parentVnode;\n    return vnode\n  };\n}\n\n/*  */\n\nfunction ensureCtor (comp, base) {\n  if (\n    comp.__esModule ||\n    (hasSymbol && comp[Symbol.toStringTag] === 'Module')\n  ) {\n    comp = comp.default;\n  }\n  return isObject(comp)\n    ? base.extend(comp)\n    : comp\n}\n\nfunction createAsyncPlaceholder (\n  factory,\n  data,\n  context,\n  children,\n  tag\n) {\n  var node = createEmptyVNode();\n  node.asyncFactory = factory;\n  node.asyncMeta = { data: data, context: context, children: children, tag: tag };\n  return node\n}\n\nfunction resolveAsyncComponent (\n  factory,\n  baseCtor\n) {\n  if (isTrue(factory.error) && isDef(factory.errorComp)) {\n    return factory.errorComp\n  }\n\n  if (isDef(factory.resolved)) {\n    return factory.resolved\n  }\n\n  var owner = currentRenderingInstance;\n  if (owner && isDef(factory.owners) && factory.owners.indexOf(owner) === -1) {\n    // already pending\n    factory.owners.push(owner);\n  }\n\n  if (isTrue(factory.loading) && isDef(factory.loadingComp)) {\n    return factory.loadingComp\n  }\n\n  if (owner && !isDef(factory.owners)) {\n    var owners = factory.owners = [owner];\n    var sync = true;\n    var timerLoading = null;\n    var timerTimeout = null\n\n    ;(owner).$on('hook:destroyed', function () { return remove(owners, owner); });\n\n    var forceRender = function (renderCompleted) {\n      for (var i = 0, l = owners.length; i < l; i++) {\n        (owners[i]).$forceUpdate();\n      }\n\n      if (renderCompleted) {\n        owners.length = 0;\n        if (timerLoading !== null) {\n          clearTimeout(timerLoading);\n          timerLoading = null;\n        }\n        if (timerTimeout !== null) {\n          clearTimeout(timerTimeout);\n          timerTimeout = null;\n        }\n      }\n    };\n\n    var resolve = once(function (res) {\n      // cache resolved\n      factory.resolved = ensureCtor(res, baseCtor);\n      // invoke callbacks only if this is not a synchronous resolve\n      // (async resolves are shimmed as synchronous during SSR)\n      if (!sync) {\n        forceRender(true);\n      } else {\n        owners.length = 0;\n      }\n    });\n\n    var reject = once(function (reason) {\n      process.env.NODE_ENV !== 'production' && warn(\n        \"Failed to resolve async component: \" + (String(factory)) +\n        (reason ? (\"\\nReason: \" + reason) : '')\n      );\n      if (isDef(factory.errorComp)) {\n        factory.error = true;\n        forceRender(true);\n      }\n    });\n\n    var res = factory(resolve, reject);\n\n    if (isObject(res)) {\n      if (isPromise(res)) {\n        // () => Promise\n        if (isUndef(factory.resolved)) {\n          res.then(resolve, reject);\n        }\n      } else if (isPromise(res.component)) {\n        res.component.then(resolve, reject);\n\n        if (isDef(res.error)) {\n          factory.errorComp = ensureCtor(res.error, baseCtor);\n        }\n\n        if (isDef(res.loading)) {\n          factory.loadingComp = ensureCtor(res.loading, baseCtor);\n          if (res.delay === 0) {\n            factory.loading = true;\n          } else {\n            timerLoading = setTimeout(function () {\n              timerLoading = null;\n              if (isUndef(factory.resolved) && isUndef(factory.error)) {\n                factory.loading = true;\n                forceRender(false);\n              }\n            }, res.delay || 200);\n          }\n        }\n\n        if (isDef(res.timeout)) {\n          timerTimeout = setTimeout(function () {\n            timerTimeout = null;\n            if (isUndef(factory.resolved)) {\n              reject(\n                process.env.NODE_ENV !== 'production'\n                  ? (\"timeout (\" + (res.timeout) + \"ms)\")\n                  : null\n              );\n            }\n          }, res.timeout);\n        }\n      }\n    }\n\n    sync = false;\n    // return in case resolved synchronously\n    return factory.loading\n      ? factory.loadingComp\n      : factory.resolved\n  }\n}\n\n/*  */\n\nfunction isAsyncPlaceholder (node) {\n  return node.isComment && node.asyncFactory\n}\n\n/*  */\n\nfunction getFirstComponentChild (children) {\n  if (Array.isArray(children)) {\n    for (var i = 0; i < children.length; i++) {\n      var c = children[i];\n      if (isDef(c) && (isDef(c.componentOptions) || isAsyncPlaceholder(c))) {\n        return c\n      }\n    }\n  }\n}\n\n/*  */\n\n/*  */\n\nfunction initEvents (vm) {\n  vm._events = Object.create(null);\n  vm._hasHookEvent = false;\n  // init parent attached events\n  var listeners = vm.$options._parentListeners;\n  if (listeners) {\n    updateComponentListeners(vm, listeners);\n  }\n}\n\nvar target;\n\nfunction add (event, fn) {\n  target.$on(event, fn);\n}\n\nfunction remove$1 (event, fn) {\n  target.$off(event, fn);\n}\n\nfunction createOnceHandler (event, fn) {\n  var _target = target;\n  return function onceHandler () {\n    var res = fn.apply(null, arguments);\n    if (res !== null) {\n      _target.$off(event, onceHandler);\n    }\n  }\n}\n\nfunction updateComponentListeners (\n  vm,\n  listeners,\n  oldListeners\n) {\n  target = vm;\n  updateListeners(listeners, oldListeners || {}, add, remove$1, createOnceHandler, vm);\n  target = undefined;\n}\n\nfunction eventsMixin (Vue) {\n  var hookRE = /^hook:/;\n  Vue.prototype.$on = function (event, fn) {\n    var vm = this;\n    if (Array.isArray(event)) {\n      for (var i = 0, l = event.length; i < l; i++) {\n        vm.$on(event[i], fn);\n      }\n    } else {\n      (vm._events[event] || (vm._events[event] = [])).push(fn);\n      // optimize hook:event cost by using a boolean flag marked at registration\n      // instead of a hash lookup\n      if (hookRE.test(event)) {\n        vm._hasHookEvent = true;\n      }\n    }\n    return vm\n  };\n\n  Vue.prototype.$once = function (event, fn) {\n    var vm = this;\n    function on () {\n      vm.$off(event, on);\n      fn.apply(vm, arguments);\n    }\n    on.fn = fn;\n    vm.$on(event, on);\n    return vm\n  };\n\n  Vue.prototype.$off = function (event, fn) {\n    var vm = this;\n    // all\n    if (!arguments.length) {\n      vm._events = Object.create(null);\n      return vm\n    }\n    // array of events\n    if (Array.isArray(event)) {\n      for (var i$1 = 0, l = event.length; i$1 < l; i$1++) {\n        vm.$off(event[i$1], fn);\n      }\n      return vm\n    }\n    // specific event\n    var cbs = vm._events[event];\n    if (!cbs) {\n      return vm\n    }\n    if (!fn) {\n      vm._events[event] = null;\n      return vm\n    }\n    // specific handler\n    var cb;\n    var i = cbs.length;\n    while (i--) {\n      cb = cbs[i];\n      if (cb === fn || cb.fn === fn) {\n        cbs.splice(i, 1);\n        break\n      }\n    }\n    return vm\n  };\n\n  Vue.prototype.$emit = function (event) {\n    var vm = this;\n    if (process.env.NODE_ENV !== 'production') {\n      var lowerCaseEvent = event.toLowerCase();\n      if (lowerCaseEvent !== event && vm._events[lowerCaseEvent]) {\n        tip(\n          \"Event \\\"\" + lowerCaseEvent + \"\\\" is emitted in component \" +\n          (formatComponentName(vm)) + \" but the handler is registered for \\\"\" + event + \"\\\". \" +\n          \"Note that HTML attributes are case-insensitive and you cannot use \" +\n          \"v-on to listen to camelCase events when using in-DOM templates. \" +\n          \"You should probably use \\\"\" + (hyphenate(event)) + \"\\\" instead of \\\"\" + event + \"\\\".\"\n        );\n      }\n    }\n    var cbs = vm._events[event];\n    if (cbs) {\n      cbs = cbs.length > 1 ? toArray(cbs) : cbs;\n      var args = toArray(arguments, 1);\n      var info = \"event handler for \\\"\" + event + \"\\\"\";\n      for (var i = 0, l = cbs.length; i < l; i++) {\n        invokeWithErrorHandling(cbs[i], vm, args, vm, info);\n      }\n    }\n    return vm\n  };\n}\n\n/*  */\n\nvar activeInstance = null;\nvar isUpdatingChildComponent = false;\n\nfunction setActiveInstance(vm) {\n  var prevActiveInstance = activeInstance;\n  activeInstance = vm;\n  return function () {\n    activeInstance = prevActiveInstance;\n  }\n}\n\nfunction initLifecycle (vm) {\n  var options = vm.$options;\n\n  // locate first non-abstract parent\n  var parent = options.parent;\n  if (parent && !options.abstract) {\n    while (parent.$options.abstract && parent.$parent) {\n      parent = parent.$parent;\n    }\n    parent.$children.push(vm);\n  }\n\n  vm.$parent = parent;\n  vm.$root = parent ? parent.$root : vm;\n\n  vm.$children = [];\n  vm.$refs = {};\n\n  vm._watcher = null;\n  vm._inactive = null;\n  vm._directInactive = false;\n  vm._isMounted = false;\n  vm._isDestroyed = false;\n  vm._isBeingDestroyed = false;\n}\n\nfunction lifecycleMixin (Vue) {\n  Vue.prototype._update = function (vnode, hydrating) {\n    var vm = this;\n    var prevEl = vm.$el;\n    var prevVnode = vm._vnode;\n    var restoreActiveInstance = setActiveInstance(vm);\n    vm._vnode = vnode;\n    // Vue.prototype.__patch__ is injected in entry points\n    // based on the rendering backend used.\n    if (!prevVnode) {\n      // initial render\n      vm.$el = vm.__patch__(vm.$el, vnode, hydrating, false /* removeOnly */);\n    } else {\n      // updates\n      vm.$el = vm.__patch__(prevVnode, vnode);\n    }\n    restoreActiveInstance();\n    // update __vue__ reference\n    if (prevEl) {\n      prevEl.__vue__ = null;\n    }\n    if (vm.$el) {\n      vm.$el.__vue__ = vm;\n    }\n    // if parent is an HOC, update its $el as well\n    if (vm.$vnode && vm.$parent && vm.$vnode === vm.$parent._vnode) {\n      vm.$parent.$el = vm.$el;\n    }\n    // updated hook is called by the scheduler to ensure that children are\n    // updated in a parent's updated hook.\n  };\n\n  Vue.prototype.$forceUpdate = function () {\n    var vm = this;\n    if (vm._watcher) {\n      vm._watcher.update();\n    }\n  };\n\n  Vue.prototype.$destroy = function () {\n    var vm = this;\n    if (vm._isBeingDestroyed) {\n      return\n    }\n    callHook(vm, 'beforeDestroy');\n    vm._isBeingDestroyed = true;\n    // remove self from parent\n    var parent = vm.$parent;\n    if (parent && !parent._isBeingDestroyed && !vm.$options.abstract) {\n      remove(parent.$children, vm);\n    }\n    // teardown watchers\n    if (vm._watcher) {\n      vm._watcher.teardown();\n    }\n    var i = vm._watchers.length;\n    while (i--) {\n      vm._watchers[i].teardown();\n    }\n    // remove reference from data ob\n    // frozen object may not have observer.\n    if (vm._data.__ob__) {\n      vm._data.__ob__.vmCount--;\n    }\n    // call the last hook...\n    vm._isDestroyed = true;\n    // invoke destroy hooks on current rendered tree\n    vm.__patch__(vm._vnode, null);\n    // fire destroyed hook\n    callHook(vm, 'destroyed');\n    // turn off all instance listeners.\n    vm.$off();\n    // remove __vue__ reference\n    if (vm.$el) {\n      vm.$el.__vue__ = null;\n    }\n    // release circular reference (#6759)\n    if (vm.$vnode) {\n      vm.$vnode.parent = null;\n    }\n  };\n}\n\nfunction mountComponent (\n  vm,\n  el,\n  hydrating\n) {\n  vm.$el = el;\n  if (!vm.$options.render) {\n    vm.$options.render = createEmptyVNode;\n    if (process.env.NODE_ENV !== 'production') {\n      /* istanbul ignore if */\n      if ((vm.$options.template && vm.$options.template.charAt(0) !== '#') ||\n        vm.$options.el || el) {\n        warn(\n          'You are using the runtime-only build of Vue where the template ' +\n          'compiler is not available. Either pre-compile the templates into ' +\n          'render functions, or use the compiler-included build.',\n          vm\n        );\n      } else {\n        warn(\n          'Failed to mount component: template or render function not defined.',\n          vm\n        );\n      }\n    }\n  }\n  callHook(vm, 'beforeMount');\n\n  var updateComponent;\n  /* istanbul ignore if */\n  if (process.env.NODE_ENV !== 'production' && config.performance && mark) {\n    updateComponent = function () {\n      var name = vm._name;\n      var id = vm._uid;\n      var startTag = \"vue-perf-start:\" + id;\n      var endTag = \"vue-perf-end:\" + id;\n\n      mark(startTag);\n      var vnode = vm._render();\n      mark(endTag);\n      measure((\"vue \" + name + \" render\"), startTag, endTag);\n\n      mark(startTag);\n      vm._update(vnode, hydrating);\n      mark(endTag);\n      measure((\"vue \" + name + \" patch\"), startTag, endTag);\n    };\n  } else {\n    updateComponent = function () {\n      vm._update(vm._render(), hydrating);\n    };\n  }\n\n  // we set this to vm._watcher inside the watcher's constructor\n  // since the watcher's initial patch may call $forceUpdate (e.g. inside child\n  // component's mounted hook), which relies on vm._watcher being already defined\n  new Watcher(vm, updateComponent, noop, {\n    before: function before () {\n      if (vm._isMounted && !vm._isDestroyed) {\n        callHook(vm, 'beforeUpdate');\n      }\n    }\n  }, true /* isRenderWatcher */);\n  hydrating = false;\n\n  // manually mounted instance, call mounted on self\n  // mounted is called for render-created child components in its inserted hook\n  if (vm.$vnode == null) {\n    vm._isMounted = true;\n    callHook(vm, 'mounted');\n  }\n  return vm\n}\n\nfunction updateChildComponent (\n  vm,\n  propsData,\n  listeners,\n  parentVnode,\n  renderChildren\n) {\n  if (process.env.NODE_ENV !== 'production') {\n    isUpdatingChildComponent = true;\n  }\n\n  // determine whether component has slot children\n  // we need to do this before overwriting $options._renderChildren.\n\n  // check if there are dynamic scopedSlots (hand-written or compiled but with\n  // dynamic slot names). Static scoped slots compiled from template has the\n  // \"$stable\" marker.\n  var newScopedSlots = parentVnode.data.scopedSlots;\n  var oldScopedSlots = vm.$scopedSlots;\n  var hasDynamicScopedSlot = !!(\n    (newScopedSlots && !newScopedSlots.$stable) ||\n    (oldScopedSlots !== emptyObject && !oldScopedSlots.$stable) ||\n    (newScopedSlots && vm.$scopedSlots.$key !== newScopedSlots.$key)\n  );\n\n  // Any static slot children from the parent may have changed during parent's\n  // update. Dynamic scoped slots may also have changed. In such cases, a forced\n  // update is necessary to ensure correctness.\n  var needsForceUpdate = !!(\n    renderChildren ||               // has new static slots\n    vm.$options._renderChildren ||  // has old static slots\n    hasDynamicScopedSlot\n  );\n\n  vm.$options._parentVnode = parentVnode;\n  vm.$vnode = parentVnode; // update vm's placeholder node without re-render\n\n  if (vm._vnode) { // update child tree's parent\n    vm._vnode.parent = parentVnode;\n  }\n  vm.$options._renderChildren = renderChildren;\n\n  // update $attrs and $listeners hash\n  // these are also reactive so they may trigger child update if the child\n  // used them during render\n  vm.$attrs = parentVnode.data.attrs || emptyObject;\n  vm.$listeners = listeners || emptyObject;\n\n  // update props\n  if (propsData && vm.$options.props) {\n    toggleObserving(false);\n    var props = vm._props;\n    var propKeys = vm.$options._propKeys || [];\n    for (var i = 0; i < propKeys.length; i++) {\n      var key = propKeys[i];\n      var propOptions = vm.$options.props; // wtf flow?\n      props[key] = validateProp(key, propOptions, propsData, vm);\n    }\n    toggleObserving(true);\n    // keep a copy of raw propsData\n    vm.$options.propsData = propsData;\n  }\n\n  // update listeners\n  listeners = listeners || emptyObject;\n  var oldListeners = vm.$options._parentListeners;\n  vm.$options._parentListeners = listeners;\n  updateComponentListeners(vm, listeners, oldListeners);\n\n  // resolve slots + force update if has children\n  if (needsForceUpdate) {\n    vm.$slots = resolveSlots(renderChildren, parentVnode.context);\n    vm.$forceUpdate();\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    isUpdatingChildComponent = false;\n  }\n}\n\nfunction isInInactiveTree (vm) {\n  while (vm && (vm = vm.$parent)) {\n    if (vm._inactive) { return true }\n  }\n  return false\n}\n\nfunction activateChildComponent (vm, direct) {\n  if (direct) {\n    vm._directInactive = false;\n    if (isInInactiveTree(vm)) {\n      return\n    }\n  } else if (vm._directInactive) {\n    return\n  }\n  if (vm._inactive || vm._inactive === null) {\n    vm._inactive = false;\n    for (var i = 0; i < vm.$children.length; i++) {\n      activateChildComponent(vm.$children[i]);\n    }\n    callHook(vm, 'activated');\n  }\n}\n\nfunction deactivateChildComponent (vm, direct) {\n  if (direct) {\n    vm._directInactive = true;\n    if (isInInactiveTree(vm)) {\n      return\n    }\n  }\n  if (!vm._inactive) {\n    vm._inactive = true;\n    for (var i = 0; i < vm.$children.length; i++) {\n      deactivateChildComponent(vm.$children[i]);\n    }\n    callHook(vm, 'deactivated');\n  }\n}\n\nfunction callHook (vm, hook) {\n  // #7573 disable dep collection when invoking lifecycle hooks\n  pushTarget();\n  var handlers = vm.$options[hook];\n  var info = hook + \" hook\";\n  if (handlers) {\n    for (var i = 0, j = handlers.length; i < j; i++) {\n      invokeWithErrorHandling(handlers[i], vm, null, vm, info);\n    }\n  }\n  if (vm._hasHookEvent) {\n    vm.$emit('hook:' + hook);\n  }\n  popTarget();\n}\n\n/*  */\n\nvar MAX_UPDATE_COUNT = 100;\n\nvar queue = [];\nvar activatedChildren = [];\nvar has = {};\nvar circular = {};\nvar waiting = false;\nvar flushing = false;\nvar index = 0;\n\n/**\n * Reset the scheduler's state.\n */\nfunction resetSchedulerState () {\n  index = queue.length = activatedChildren.length = 0;\n  has = {};\n  if (process.env.NODE_ENV !== 'production') {\n    circular = {};\n  }\n  waiting = flushing = false;\n}\n\n// Async edge case #6566 requires saving the timestamp when event listeners are\n// attached. However, calling performance.now() has a perf overhead especially\n// if the page has thousands of event listeners. Instead, we take a timestamp\n// every time the scheduler flushes and use that for all event listeners\n// attached during that flush.\nvar currentFlushTimestamp = 0;\n\n// Async edge case fix requires storing an event listener's attach timestamp.\nvar getNow = Date.now;\n\n// Determine what event timestamp the browser is using. Annoyingly, the\n// timestamp can either be hi-res (relative to page load) or low-res\n// (relative to UNIX epoch), so in order to compare time we have to use the\n// same timestamp type when saving the flush timestamp.\n// All IE versions use low-res event timestamps, and have problematic clock\n// implementations (#9632)\nif (inBrowser && !isIE) {\n  var performance = window.performance;\n  if (\n    performance &&\n    typeof performance.now === 'function' &&\n    getNow() > document.createEvent('Event').timeStamp\n  ) {\n    // if the event timestamp, although evaluated AFTER the Date.now(), is\n    // smaller than it, it means the event is using a hi-res timestamp,\n    // and we need to use the hi-res version for event listener timestamps as\n    // well.\n    getNow = function () { return performance.now(); };\n  }\n}\n\n/**\n * Flush both queues and run the watchers.\n */\nfunction flushSchedulerQueue () {\n  currentFlushTimestamp = getNow();\n  flushing = true;\n  var watcher, id;\n\n  // Sort queue before flush.\n  // This ensures that:\n  // 1. Components are updated from parent to child. (because parent is always\n  //    created before the child)\n  // 2. A component's user watchers are run before its render watcher (because\n  //    user watchers are created before the render watcher)\n  // 3. If a component is destroyed during a parent component's watcher run,\n  //    its watchers can be skipped.\n  queue.sort(function (a, b) { return a.id - b.id; });\n\n  // do not cache length because more watchers might be pushed\n  // as we run existing watchers\n  for (index = 0; index < queue.length; index++) {\n    watcher = queue[index];\n    if (watcher.before) {\n      watcher.before();\n    }\n    id = watcher.id;\n    has[id] = null;\n    watcher.run();\n    // in dev build, check and stop circular updates.\n    if (process.env.NODE_ENV !== 'production' && has[id] != null) {\n      circular[id] = (circular[id] || 0) + 1;\n      if (circular[id] > MAX_UPDATE_COUNT) {\n        warn(\n          'You may have an infinite update loop ' + (\n            watcher.user\n              ? (\"in watcher with expression \\\"\" + (watcher.expression) + \"\\\"\")\n              : \"in a component render function.\"\n          ),\n          watcher.vm\n        );\n        break\n      }\n    }\n  }\n\n  // keep copies of post queues before resetting state\n  var activatedQueue = activatedChildren.slice();\n  var updatedQueue = queue.slice();\n\n  resetSchedulerState();\n\n  // call component updated and activated hooks\n  callActivatedHooks(activatedQueue);\n  callUpdatedHooks(updatedQueue);\n\n  // devtool hook\n  /* istanbul ignore if */\n  if (devtools && config.devtools) {\n    devtools.emit('flush');\n  }\n}\n\nfunction callUpdatedHooks (queue) {\n  var i = queue.length;\n  while (i--) {\n    var watcher = queue[i];\n    var vm = watcher.vm;\n    if (vm._watcher === watcher && vm._isMounted && !vm._isDestroyed) {\n      callHook(vm, 'updated');\n    }\n  }\n}\n\n/**\n * Queue a kept-alive component that was activated during patch.\n * The queue will be processed after the entire tree has been patched.\n */\nfunction queueActivatedComponent (vm) {\n  // setting _inactive to false here so that a render function can\n  // rely on checking whether it's in an inactive tree (e.g. router-view)\n  vm._inactive = false;\n  activatedChildren.push(vm);\n}\n\nfunction callActivatedHooks (queue) {\n  for (var i = 0; i < queue.length; i++) {\n    queue[i]._inactive = true;\n    activateChildComponent(queue[i], true /* true */);\n  }\n}\n\n/**\n * Push a watcher into the watcher queue.\n * Jobs with duplicate IDs will be skipped unless it's\n * pushed when the queue is being flushed.\n */\nfunction queueWatcher (watcher) {\n  var id = watcher.id;\n  if (has[id] == null) {\n    has[id] = true;\n    if (!flushing) {\n      queue.push(watcher);\n    } else {\n      // if already flushing, splice the watcher based on its id\n      // if already past its id, it will be run next immediately.\n      var i = queue.length - 1;\n      while (i > index && queue[i].id > watcher.id) {\n        i--;\n      }\n      queue.splice(i + 1, 0, watcher);\n    }\n    // queue the flush\n    if (!waiting) {\n      waiting = true;\n\n      if (process.env.NODE_ENV !== 'production' && !config.async) {\n        flushSchedulerQueue();\n        return\n      }\n      nextTick(flushSchedulerQueue);\n    }\n  }\n}\n\n/*  */\n\n\n\nvar uid$2 = 0;\n\n/**\n * A watcher parses an expression, collects dependencies,\n * and fires callback when the expression value changes.\n * This is used for both the $watch() api and directives.\n */\nvar Watcher = function Watcher (\n  vm,\n  expOrFn,\n  cb,\n  options,\n  isRenderWatcher\n) {\n  this.vm = vm;\n  if (isRenderWatcher) {\n    vm._watcher = this;\n  }\n  vm._watchers.push(this);\n  // options\n  if (options) {\n    this.deep = !!options.deep;\n    this.user = !!options.user;\n    this.lazy = !!options.lazy;\n    this.sync = !!options.sync;\n    this.before = options.before;\n  } else {\n    this.deep = this.user = this.lazy = this.sync = false;\n  }\n  this.cb = cb;\n  this.id = ++uid$2; // uid for batching\n  this.active = true;\n  this.dirty = this.lazy; // for lazy watchers\n  this.deps = [];\n  this.newDeps = [];\n  this.depIds = new _Set();\n  this.newDepIds = new _Set();\n  this.expression = process.env.NODE_ENV !== 'production'\n    ? expOrFn.toString()\n    : '';\n  // parse expression for getter\n  if (typeof expOrFn === 'function') {\n    this.getter = expOrFn;\n  } else {\n    this.getter = parsePath(expOrFn);\n    if (!this.getter) {\n      this.getter = noop;\n      process.env.NODE_ENV !== 'production' && warn(\n        \"Failed watching path: \\\"\" + expOrFn + \"\\\" \" +\n        'Watcher only accepts simple dot-delimited paths. ' +\n        'For full control, use a function instead.',\n        vm\n      );\n    }\n  }\n  this.value = this.lazy\n    ? undefined\n    : this.get();\n};\n\n/**\n * Evaluate the getter, and re-collect dependencies.\n */\nWatcher.prototype.get = function get () {\n  pushTarget(this);\n  var value;\n  var vm = this.vm;\n  try {\n    value = this.getter.call(vm, vm);\n  } catch (e) {\n    if (this.user) {\n      handleError(e, vm, (\"getter for watcher \\\"\" + (this.expression) + \"\\\"\"));\n    } else {\n      throw e\n    }\n  } finally {\n    // \"touch\" every property so they are all tracked as\n    // dependencies for deep watching\n    if (this.deep) {\n      traverse(value);\n    }\n    popTarget();\n    this.cleanupDeps();\n  }\n  return value\n};\n\n/**\n * Add a dependency to this directive.\n */\nWatcher.prototype.addDep = function addDep (dep) {\n  var id = dep.id;\n  if (!this.newDepIds.has(id)) {\n    this.newDepIds.add(id);\n    this.newDeps.push(dep);\n    if (!this.depIds.has(id)) {\n      dep.addSub(this);\n    }\n  }\n};\n\n/**\n * Clean up for dependency collection.\n */\nWatcher.prototype.cleanupDeps = function cleanupDeps () {\n  var i = this.deps.length;\n  while (i--) {\n    var dep = this.deps[i];\n    if (!this.newDepIds.has(dep.id)) {\n      dep.removeSub(this);\n    }\n  }\n  var tmp = this.depIds;\n  this.depIds = this.newDepIds;\n  this.newDepIds = tmp;\n  this.newDepIds.clear();\n  tmp = this.deps;\n  this.deps = this.newDeps;\n  this.newDeps = tmp;\n  this.newDeps.length = 0;\n};\n\n/**\n * Subscriber interface.\n * Will be called when a dependency changes.\n */\nWatcher.prototype.update = function update () {\n  /* istanbul ignore else */\n  if (this.lazy) {\n    this.dirty = true;\n  } else if (this.sync) {\n    this.run();\n  } else {\n    queueWatcher(this);\n  }\n};\n\n/**\n * Scheduler job interface.\n * Will be called by the scheduler.\n */\nWatcher.prototype.run = function run () {\n  if (this.active) {\n    var value = this.get();\n    if (\n      value !== this.value ||\n      // Deep watchers and watchers on Object/Arrays should fire even\n      // when the value is the same, because the value may\n      // have mutated.\n      isObject(value) ||\n      this.deep\n    ) {\n      // set new value\n      var oldValue = this.value;\n      this.value = value;\n      if (this.user) {\n        try {\n          this.cb.call(this.vm, value, oldValue);\n        } catch (e) {\n          handleError(e, this.vm, (\"callback for watcher \\\"\" + (this.expression) + \"\\\"\"));\n        }\n      } else {\n        this.cb.call(this.vm, value, oldValue);\n      }\n    }\n  }\n};\n\n/**\n * Evaluate the value of the watcher.\n * This only gets called for lazy watchers.\n */\nWatcher.prototype.evaluate = function evaluate () {\n  this.value = this.get();\n  this.dirty = false;\n};\n\n/**\n * Depend on all deps collected by this watcher.\n */\nWatcher.prototype.depend = function depend () {\n  var i = this.deps.length;\n  while (i--) {\n    this.deps[i].depend();\n  }\n};\n\n/**\n * Remove self from all dependencies' subscriber list.\n */\nWatcher.prototype.teardown = function teardown () {\n  if (this.active) {\n    // remove self from vm's watcher list\n    // this is a somewhat expensive operation so we skip it\n    // if the vm is being destroyed.\n    if (!this.vm._isBeingDestroyed) {\n      remove(this.vm._watchers, this);\n    }\n    var i = this.deps.length;\n    while (i--) {\n      this.deps[i].removeSub(this);\n    }\n    this.active = false;\n  }\n};\n\n/*  */\n\nvar sharedPropertyDefinition = {\n  enumerable: true,\n  configurable: true,\n  get: noop,\n  set: noop\n};\n\nfunction proxy (target, sourceKey, key) {\n  sharedPropertyDefinition.get = function proxyGetter () {\n    return this[sourceKey][key]\n  };\n  sharedPropertyDefinition.set = function proxySetter (val) {\n    this[sourceKey][key] = val;\n  };\n  Object.defineProperty(target, key, sharedPropertyDefinition);\n}\n\nfunction initState (vm) {\n  vm._watchers = [];\n  var opts = vm.$options;\n  if (opts.props) { initProps(vm, opts.props); }\n  if (opts.methods) { initMethods(vm, opts.methods); }\n  if (opts.data) {\n    initData(vm);\n  } else {\n    observe(vm._data = {}, true /* asRootData */);\n  }\n  if (opts.computed) { initComputed(vm, opts.computed); }\n  if (opts.watch && opts.watch !== nativeWatch) {\n    initWatch(vm, opts.watch);\n  }\n}\n\nfunction initProps (vm, propsOptions) {\n  var propsData = vm.$options.propsData || {};\n  var props = vm._props = {};\n  // cache prop keys so that future props updates can iterate using Array\n  // instead of dynamic object key enumeration.\n  var keys = vm.$options._propKeys = [];\n  var isRoot = !vm.$parent;\n  // root instance props should be converted\n  if (!isRoot) {\n    toggleObserving(false);\n  }\n  var loop = function ( key ) {\n    keys.push(key);\n    var value = validateProp(key, propsOptions, propsData, vm);\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== 'production') {\n      var hyphenatedKey = hyphenate(key);\n      if (isReservedAttribute(hyphenatedKey) ||\n          config.isReservedAttr(hyphenatedKey)) {\n        warn(\n          (\"\\\"\" + hyphenatedKey + \"\\\" is a reserved attribute and cannot be used as component prop.\"),\n          vm\n        );\n      }\n      defineReactive$$1(props, key, value, function () {\n        if (!isRoot && !isUpdatingChildComponent) {\n          warn(\n            \"Avoid mutating a prop directly since the value will be \" +\n            \"overwritten whenever the parent component re-renders. \" +\n            \"Instead, use a data or computed property based on the prop's \" +\n            \"value. Prop being mutated: \\\"\" + key + \"\\\"\",\n            vm\n          );\n        }\n      });\n    } else {\n      defineReactive$$1(props, key, value);\n    }\n    // static props are already proxied on the component's prototype\n    // during Vue.extend(). We only need to proxy props defined at\n    // instantiation here.\n    if (!(key in vm)) {\n      proxy(vm, \"_props\", key);\n    }\n  };\n\n  for (var key in propsOptions) loop( key );\n  toggleObserving(true);\n}\n\nfunction initData (vm) {\n  var data = vm.$options.data;\n  data = vm._data = typeof data === 'function'\n    ? getData(data, vm)\n    : data || {};\n  if (!isPlainObject(data)) {\n    data = {};\n    process.env.NODE_ENV !== 'production' && warn(\n      'data functions should return an object:\\n' +\n      'https://vuejs.org/v2/guide/components.html#data-Must-Be-a-Function',\n      vm\n    );\n  }\n  // proxy data on instance\n  var keys = Object.keys(data);\n  var props = vm.$options.props;\n  var methods = vm.$options.methods;\n  var i = keys.length;\n  while (i--) {\n    var key = keys[i];\n    if (process.env.NODE_ENV !== 'production') {\n      if (methods && hasOwn(methods, key)) {\n        warn(\n          (\"Method \\\"\" + key + \"\\\" has already been defined as a data property.\"),\n          vm\n        );\n      }\n    }\n    if (props && hasOwn(props, key)) {\n      process.env.NODE_ENV !== 'production' && warn(\n        \"The data property \\\"\" + key + \"\\\" is already declared as a prop. \" +\n        \"Use prop default value instead.\",\n        vm\n      );\n    } else if (!isReserved(key)) {\n      proxy(vm, \"_data\", key);\n    }\n  }\n  // observe data\n  observe(data, true /* asRootData */);\n}\n\nfunction getData (data, vm) {\n  // #7573 disable dep collection when invoking data getters\n  pushTarget();\n  try {\n    return data.call(vm, vm)\n  } catch (e) {\n    handleError(e, vm, \"data()\");\n    return {}\n  } finally {\n    popTarget();\n  }\n}\n\nvar computedWatcherOptions = { lazy: true };\n\nfunction initComputed (vm, computed) {\n  // $flow-disable-line\n  var watchers = vm._computedWatchers = Object.create(null);\n  // computed properties are just getters during SSR\n  var isSSR = isServerRendering();\n\n  for (var key in computed) {\n    var userDef = computed[key];\n    var getter = typeof userDef === 'function' ? userDef : userDef.get;\n    if (process.env.NODE_ENV !== 'production' && getter == null) {\n      warn(\n        (\"Getter is missing for computed property \\\"\" + key + \"\\\".\"),\n        vm\n      );\n    }\n\n    if (!isSSR) {\n      // create internal watcher for the computed property.\n      watchers[key] = new Watcher(\n        vm,\n        getter || noop,\n        noop,\n        computedWatcherOptions\n      );\n    }\n\n    // component-defined computed properties are already defined on the\n    // component prototype. We only need to define computed properties defined\n    // at instantiation here.\n    if (!(key in vm)) {\n      defineComputed(vm, key, userDef);\n    } else if (process.env.NODE_ENV !== 'production') {\n      if (key in vm.$data) {\n        warn((\"The computed property \\\"\" + key + \"\\\" is already defined in data.\"), vm);\n      } else if (vm.$options.props && key in vm.$options.props) {\n        warn((\"The computed property \\\"\" + key + \"\\\" is already defined as a prop.\"), vm);\n      }\n    }\n  }\n}\n\nfunction defineComputed (\n  target,\n  key,\n  userDef\n) {\n  var shouldCache = !isServerRendering();\n  if (typeof userDef === 'function') {\n    sharedPropertyDefinition.get = shouldCache\n      ? createComputedGetter(key)\n      : createGetterInvoker(userDef);\n    sharedPropertyDefinition.set = noop;\n  } else {\n    sharedPropertyDefinition.get = userDef.get\n      ? shouldCache && userDef.cache !== false\n        ? createComputedGetter(key)\n        : createGetterInvoker(userDef.get)\n      : noop;\n    sharedPropertyDefinition.set = userDef.set || noop;\n  }\n  if (process.env.NODE_ENV !== 'production' &&\n      sharedPropertyDefinition.set === noop) {\n    sharedPropertyDefinition.set = function () {\n      warn(\n        (\"Computed property \\\"\" + key + \"\\\" was assigned to but it has no setter.\"),\n        this\n      );\n    };\n  }\n  Object.defineProperty(target, key, sharedPropertyDefinition);\n}\n\nfunction createComputedGetter (key) {\n  return function computedGetter () {\n    var watcher = this._computedWatchers && this._computedWatchers[key];\n    if (watcher) {\n      if (watcher.dirty) {\n        watcher.evaluate();\n      }\n      if (Dep.target) {\n        watcher.depend();\n      }\n      return watcher.value\n    }\n  }\n}\n\nfunction createGetterInvoker(fn) {\n  return function computedGetter () {\n    return fn.call(this, this)\n  }\n}\n\nfunction initMethods (vm, methods) {\n  var props = vm.$options.props;\n  for (var key in methods) {\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof methods[key] !== 'function') {\n        warn(\n          \"Method \\\"\" + key + \"\\\" has type \\\"\" + (typeof methods[key]) + \"\\\" in the component definition. \" +\n          \"Did you reference the function correctly?\",\n          vm\n        );\n      }\n      if (props && hasOwn(props, key)) {\n        warn(\n          (\"Method \\\"\" + key + \"\\\" has already been defined as a prop.\"),\n          vm\n        );\n      }\n      if ((key in vm) && isReserved(key)) {\n        warn(\n          \"Method \\\"\" + key + \"\\\" conflicts with an existing Vue instance method. \" +\n          \"Avoid defining component methods that start with _ or $.\"\n        );\n      }\n    }\n    vm[key] = typeof methods[key] !== 'function' ? noop : bind(methods[key], vm);\n  }\n}\n\nfunction initWatch (vm, watch) {\n  for (var key in watch) {\n    var handler = watch[key];\n    if (Array.isArray(handler)) {\n      for (var i = 0; i < handler.length; i++) {\n        createWatcher(vm, key, handler[i]);\n      }\n    } else {\n      createWatcher(vm, key, handler);\n    }\n  }\n}\n\nfunction createWatcher (\n  vm,\n  expOrFn,\n  handler,\n  options\n) {\n  if (isPlainObject(handler)) {\n    options = handler;\n    handler = handler.handler;\n  }\n  if (typeof handler === 'string') {\n    handler = vm[handler];\n  }\n  return vm.$watch(expOrFn, handler, options)\n}\n\nfunction stateMixin (Vue) {\n  // flow somehow has problems with directly declared definition object\n  // when using Object.defineProperty, so we have to procedurally build up\n  // the object here.\n  var dataDef = {};\n  dataDef.get = function () { return this._data };\n  var propsDef = {};\n  propsDef.get = function () { return this._props };\n  if (process.env.NODE_ENV !== 'production') {\n    dataDef.set = function () {\n      warn(\n        'Avoid replacing instance root $data. ' +\n        'Use nested data properties instead.',\n        this\n      );\n    };\n    propsDef.set = function () {\n      warn(\"$props is readonly.\", this);\n    };\n  }\n  Object.defineProperty(Vue.prototype, '$data', dataDef);\n  Object.defineProperty(Vue.prototype, '$props', propsDef);\n\n  Vue.prototype.$set = set;\n  Vue.prototype.$delete = del;\n\n  Vue.prototype.$watch = function (\n    expOrFn,\n    cb,\n    options\n  ) {\n    var vm = this;\n    if (isPlainObject(cb)) {\n      return createWatcher(vm, expOrFn, cb, options)\n    }\n    options = options || {};\n    options.user = true;\n    var watcher = new Watcher(vm, expOrFn, cb, options);\n    if (options.immediate) {\n      try {\n        cb.call(vm, watcher.value);\n      } catch (error) {\n        handleError(error, vm, (\"callback for immediate watcher \\\"\" + (watcher.expression) + \"\\\"\"));\n      }\n    }\n    return function unwatchFn () {\n      watcher.teardown();\n    }\n  };\n}\n\n/*  */\n\nvar uid$3 = 0;\n\nfunction initMixin (Vue) {\n  Vue.prototype._init = function (options) {\n    var vm = this;\n    // a uid\n    vm._uid = uid$3++;\n\n    var startTag, endTag;\n    /* istanbul ignore if */\n    if (process.env.NODE_ENV !== 'production' && config.performance && mark) {\n      startTag = \"vue-perf-start:\" + (vm._uid);\n      endTag = \"vue-perf-end:\" + (vm._uid);\n      mark(startTag);\n    }\n\n    // a flag to avoid this being observed\n    vm._isVue = true;\n    // merge options\n    if (options && options._isComponent) {\n      // optimize internal component instantiation\n      // since dynamic options merging is pretty slow, and none of the\n      // internal component options needs special treatment.\n      initInternalComponent(vm, options);\n    } else {\n      vm.$options = mergeOptions(\n        resolveConstructorOptions(vm.constructor),\n        options || {},\n        vm\n      );\n    }\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== 'production') {\n      initProxy(vm);\n    } else {\n      vm._renderProxy = vm;\n    }\n    // expose real self\n    vm._self = vm;\n    initLifecycle(vm);\n    initEvents(vm);\n    initRender(vm);\n    callHook(vm, 'beforeCreate');\n    initInjections(vm); // resolve injections before data/props\n    initState(vm);\n    initProvide(vm); // resolve provide after data/props\n    callHook(vm, 'created');\n\n    /* istanbul ignore if */\n    if (process.env.NODE_ENV !== 'production' && config.performance && mark) {\n      vm._name = formatComponentName(vm, false);\n      mark(endTag);\n      measure((\"vue \" + (vm._name) + \" init\"), startTag, endTag);\n    }\n\n    if (vm.$options.el) {\n      vm.$mount(vm.$options.el);\n    }\n  };\n}\n\nfunction initInternalComponent (vm, options) {\n  var opts = vm.$options = Object.create(vm.constructor.options);\n  // doing this because it's faster than dynamic enumeration.\n  var parentVnode = options._parentVnode;\n  opts.parent = options.parent;\n  opts._parentVnode = parentVnode;\n\n  var vnodeComponentOptions = parentVnode.componentOptions;\n  opts.propsData = vnodeComponentOptions.propsData;\n  opts._parentListeners = vnodeComponentOptions.listeners;\n  opts._renderChildren = vnodeComponentOptions.children;\n  opts._componentTag = vnodeComponentOptions.tag;\n\n  if (options.render) {\n    opts.render = options.render;\n    opts.staticRenderFns = options.staticRenderFns;\n  }\n}\n\nfunction resolveConstructorOptions (Ctor) {\n  var options = Ctor.options;\n  if (Ctor.super) {\n    var superOptions = resolveConstructorOptions(Ctor.super);\n    var cachedSuperOptions = Ctor.superOptions;\n    if (superOptions !== cachedSuperOptions) {\n      // super option changed,\n      // need to resolve new options.\n      Ctor.superOptions = superOptions;\n      // check if there are any late-modified/attached options (#4976)\n      var modifiedOptions = resolveModifiedOptions(Ctor);\n      // update base extend options\n      if (modifiedOptions) {\n        extend(Ctor.extendOptions, modifiedOptions);\n      }\n      options = Ctor.options = mergeOptions(superOptions, Ctor.extendOptions);\n      if (options.name) {\n        options.components[options.name] = Ctor;\n      }\n    }\n  }\n  return options\n}\n\nfunction resolveModifiedOptions (Ctor) {\n  var modified;\n  var latest = Ctor.options;\n  var sealed = Ctor.sealedOptions;\n  for (var key in latest) {\n    if (latest[key] !== sealed[key]) {\n      if (!modified) { modified = {}; }\n      modified[key] = latest[key];\n    }\n  }\n  return modified\n}\n\nfunction Vue (options) {\n  if (process.env.NODE_ENV !== 'production' &&\n    !(this instanceof Vue)\n  ) {\n    warn('Vue is a constructor and should be called with the `new` keyword');\n  }\n  this._init(options);\n}\n\ninitMixin(Vue);\nstateMixin(Vue);\neventsMixin(Vue);\nlifecycleMixin(Vue);\nrenderMixin(Vue);\n\n/*  */\n\nfunction initUse (Vue) {\n  Vue.use = function (plugin) {\n    var installedPlugins = (this._installedPlugins || (this._installedPlugins = []));\n    if (installedPlugins.indexOf(plugin) > -1) {\n      return this\n    }\n\n    // additional parameters\n    var args = toArray(arguments, 1);\n    args.unshift(this);\n    if (typeof plugin.install === 'function') {\n      plugin.install.apply(plugin, args);\n    } else if (typeof plugin === 'function') {\n      plugin.apply(null, args);\n    }\n    installedPlugins.push(plugin);\n    return this\n  };\n}\n\n/*  */\n\nfunction initMixin$1 (Vue) {\n  Vue.mixin = function (mixin) {\n    this.options = mergeOptions(this.options, mixin);\n    return this\n  };\n}\n\n/*  */\n\nfunction initExtend (Vue) {\n  /**\n   * Each instance constructor, including Vue, has a unique\n   * cid. This enables us to create wrapped \"child\n   * constructors\" for prototypal inheritance and cache them.\n   */\n  Vue.cid = 0;\n  var cid = 1;\n\n  /**\n   * Class inheritance\n   */\n  Vue.extend = function (extendOptions) {\n    extendOptions = extendOptions || {};\n    var Super = this;\n    var SuperId = Super.cid;\n    var cachedCtors = extendOptions._Ctor || (extendOptions._Ctor = {});\n    if (cachedCtors[SuperId]) {\n      return cachedCtors[SuperId]\n    }\n\n    var name = extendOptions.name || Super.options.name;\n    if (process.env.NODE_ENV !== 'production' && name) {\n      validateComponentName(name);\n    }\n\n    var Sub = function VueComponent (options) {\n      this._init(options);\n    };\n    Sub.prototype = Object.create(Super.prototype);\n    Sub.prototype.constructor = Sub;\n    Sub.cid = cid++;\n    Sub.options = mergeOptions(\n      Super.options,\n      extendOptions\n    );\n    Sub['super'] = Super;\n\n    // For props and computed properties, we define the proxy getters on\n    // the Vue instances at extension time, on the extended prototype. This\n    // avoids Object.defineProperty calls for each instance created.\n    if (Sub.options.props) {\n      initProps$1(Sub);\n    }\n    if (Sub.options.computed) {\n      initComputed$1(Sub);\n    }\n\n    // allow further extension/mixin/plugin usage\n    Sub.extend = Super.extend;\n    Sub.mixin = Super.mixin;\n    Sub.use = Super.use;\n\n    // create asset registers, so extended classes\n    // can have their private assets too.\n    ASSET_TYPES.forEach(function (type) {\n      Sub[type] = Super[type];\n    });\n    // enable recursive self-lookup\n    if (name) {\n      Sub.options.components[name] = Sub;\n    }\n\n    // keep a reference to the super options at extension time.\n    // later at instantiation we can check if Super's options have\n    // been updated.\n    Sub.superOptions = Super.options;\n    Sub.extendOptions = extendOptions;\n    Sub.sealedOptions = extend({}, Sub.options);\n\n    // cache constructor\n    cachedCtors[SuperId] = Sub;\n    return Sub\n  };\n}\n\nfunction initProps$1 (Comp) {\n  var props = Comp.options.props;\n  for (var key in props) {\n    proxy(Comp.prototype, \"_props\", key);\n  }\n}\n\nfunction initComputed$1 (Comp) {\n  var computed = Comp.options.computed;\n  for (var key in computed) {\n    defineComputed(Comp.prototype, key, computed[key]);\n  }\n}\n\n/*  */\n\nfunction initAssetRegisters (Vue) {\n  /**\n   * Create asset registration methods.\n   */\n  ASSET_TYPES.forEach(function (type) {\n    Vue[type] = function (\n      id,\n      definition\n    ) {\n      if (!definition) {\n        return this.options[type + 's'][id]\n      } else {\n        /* istanbul ignore if */\n        if (process.env.NODE_ENV !== 'production' && type === 'component') {\n          validateComponentName(id);\n        }\n        if (type === 'component' && isPlainObject(definition)) {\n          definition.name = definition.name || id;\n          definition = this.options._base.extend(definition);\n        }\n        if (type === 'directive' && typeof definition === 'function') {\n          definition = { bind: definition, update: definition };\n        }\n        this.options[type + 's'][id] = definition;\n        return definition\n      }\n    };\n  });\n}\n\n/*  */\n\n\n\nfunction getComponentName (opts) {\n  return opts && (opts.Ctor.options.name || opts.tag)\n}\n\nfunction matches (pattern, name) {\n  if (Array.isArray(pattern)) {\n    return pattern.indexOf(name) > -1\n  } else if (typeof pattern === 'string') {\n    return pattern.split(',').indexOf(name) > -1\n  } else if (isRegExp(pattern)) {\n    return pattern.test(name)\n  }\n  /* istanbul ignore next */\n  return false\n}\n\nfunction pruneCache (keepAliveInstance, filter) {\n  var cache = keepAliveInstance.cache;\n  var keys = keepAliveInstance.keys;\n  var _vnode = keepAliveInstance._vnode;\n  for (var key in cache) {\n    var cachedNode = cache[key];\n    if (cachedNode) {\n      var name = getComponentName(cachedNode.componentOptions);\n      if (name && !filter(name)) {\n        pruneCacheEntry(cache, key, keys, _vnode);\n      }\n    }\n  }\n}\n\nfunction pruneCacheEntry (\n  cache,\n  key,\n  keys,\n  current\n) {\n  var cached$$1 = cache[key];\n  if (cached$$1 && (!current || cached$$1.tag !== current.tag)) {\n    cached$$1.componentInstance.$destroy();\n  }\n  cache[key] = null;\n  remove(keys, key);\n}\n\nvar patternTypes = [String, RegExp, Array];\n\nvar KeepAlive = {\n  name: 'keep-alive',\n  abstract: true,\n\n  props: {\n    include: patternTypes,\n    exclude: patternTypes,\n    max: [String, Number]\n  },\n\n  created: function created () {\n    this.cache = Object.create(null);\n    this.keys = [];\n  },\n\n  destroyed: function destroyed () {\n    for (var key in this.cache) {\n      pruneCacheEntry(this.cache, key, this.keys);\n    }\n  },\n\n  mounted: function mounted () {\n    var this$1 = this;\n\n    this.$watch('include', function (val) {\n      pruneCache(this$1, function (name) { return matches(val, name); });\n    });\n    this.$watch('exclude', function (val) {\n      pruneCache(this$1, function (name) { return !matches(val, name); });\n    });\n  },\n\n  render: function render () {\n    var slot = this.$slots.default;\n    var vnode = getFirstComponentChild(slot);\n    var componentOptions = vnode && vnode.componentOptions;\n    if (componentOptions) {\n      // check pattern\n      var name = getComponentName(componentOptions);\n      var ref = this;\n      var include = ref.include;\n      var exclude = ref.exclude;\n      if (\n        // not included\n        (include && (!name || !matches(include, name))) ||\n        // excluded\n        (exclude && name && matches(exclude, name))\n      ) {\n        return vnode\n      }\n\n      var ref$1 = this;\n      var cache = ref$1.cache;\n      var keys = ref$1.keys;\n      var key = vnode.key == null\n        // same constructor may get registered as different local components\n        // so cid alone is not enough (#3269)\n        ? componentOptions.Ctor.cid + (componentOptions.tag ? (\"::\" + (componentOptions.tag)) : '')\n        : vnode.key;\n      if (cache[key]) {\n        vnode.componentInstance = cache[key].componentInstance;\n        // make current key freshest\n        remove(keys, key);\n        keys.push(key);\n      } else {\n        cache[key] = vnode;\n        keys.push(key);\n        // prune oldest entry\n        if (this.max && keys.length > parseInt(this.max)) {\n          pruneCacheEntry(cache, keys[0], keys, this._vnode);\n        }\n      }\n\n      vnode.data.keepAlive = true;\n    }\n    return vnode || (slot && slot[0])\n  }\n};\n\nvar builtInComponents = {\n  KeepAlive: KeepAlive\n};\n\n/*  */\n\nfunction initGlobalAPI (Vue) {\n  // config\n  var configDef = {};\n  configDef.get = function () { return config; };\n  if (process.env.NODE_ENV !== 'production') {\n    configDef.set = function () {\n      warn(\n        'Do not replace the Vue.config object, set individual fields instead.'\n      );\n    };\n  }\n  Object.defineProperty(Vue, 'config', configDef);\n\n  // exposed util methods.\n  // NOTE: these are not considered part of the public API - avoid relying on\n  // them unless you are aware of the risk.\n  Vue.util = {\n    warn: warn,\n    extend: extend,\n    mergeOptions: mergeOptions,\n    defineReactive: defineReactive$$1\n  };\n\n  Vue.set = set;\n  Vue.delete = del;\n  Vue.nextTick = nextTick;\n\n  // 2.6 explicit observable API\n  Vue.observable = function (obj) {\n    observe(obj);\n    return obj\n  };\n\n  Vue.options = Object.create(null);\n  ASSET_TYPES.forEach(function (type) {\n    Vue.options[type + 's'] = Object.create(null);\n  });\n\n  // this is used to identify the \"base\" constructor to extend all plain-object\n  // components with in Weex's multi-instance scenarios.\n  Vue.options._base = Vue;\n\n  extend(Vue.options.components, builtInComponents);\n\n  initUse(Vue);\n  initMixin$1(Vue);\n  initExtend(Vue);\n  initAssetRegisters(Vue);\n}\n\ninitGlobalAPI(Vue);\n\nObject.defineProperty(Vue.prototype, '$isServer', {\n  get: isServerRendering\n});\n\nObject.defineProperty(Vue.prototype, '$ssrContext', {\n  get: function get () {\n    /* istanbul ignore next */\n    return this.$vnode && this.$vnode.ssrContext\n  }\n});\n\n// expose FunctionalRenderContext for ssr runtime helper installation\nObject.defineProperty(Vue, 'FunctionalRenderContext', {\n  value: FunctionalRenderContext\n});\n\nVue.version = '2.6.12';\n\n/*  */\n\n// these are reserved for web because they are directly compiled away\n// during template compilation\nvar isReservedAttr = makeMap('style,class');\n\n// attributes that should be using props for binding\nvar acceptValue = makeMap('input,textarea,option,select,progress');\nvar mustUseProp = function (tag, type, attr) {\n  return (\n    (attr === 'value' && acceptValue(tag)) && type !== 'button' ||\n    (attr === 'selected' && tag === 'option') ||\n    (attr === 'checked' && tag === 'input') ||\n    (attr === 'muted' && tag === 'video')\n  )\n};\n\nvar isEnumeratedAttr = makeMap('contenteditable,draggable,spellcheck');\n\nvar isValidContentEditableValue = makeMap('events,caret,typing,plaintext-only');\n\nvar convertEnumeratedValue = function (key, value) {\n  return isFalsyAttrValue(value) || value === 'false'\n    ? 'false'\n    // allow arbitrary string value for contenteditable\n    : key === 'contenteditable' && isValidContentEditableValue(value)\n      ? value\n      : 'true'\n};\n\nvar isBooleanAttr = makeMap(\n  'allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,' +\n  'default,defaultchecked,defaultmuted,defaultselected,defer,disabled,' +\n  'enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,' +\n  'muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,' +\n  'required,reversed,scoped,seamless,selected,sortable,translate,' +\n  'truespeed,typemustmatch,visible'\n);\n\nvar xlinkNS = 'http://www.w3.org/1999/xlink';\n\nvar isXlink = function (name) {\n  return name.charAt(5) === ':' && name.slice(0, 5) === 'xlink'\n};\n\nvar getXlinkProp = function (name) {\n  return isXlink(name) ? name.slice(6, name.length) : ''\n};\n\nvar isFalsyAttrValue = function (val) {\n  return val == null || val === false\n};\n\n/*  */\n\nfunction genClassForVnode (vnode) {\n  var data = vnode.data;\n  var parentNode = vnode;\n  var childNode = vnode;\n  while (isDef(childNode.componentInstance)) {\n    childNode = childNode.componentInstance._vnode;\n    if (childNode && childNode.data) {\n      data = mergeClassData(childNode.data, data);\n    }\n  }\n  while (isDef(parentNode = parentNode.parent)) {\n    if (parentNode && parentNode.data) {\n      data = mergeClassData(data, parentNode.data);\n    }\n  }\n  return renderClass(data.staticClass, data.class)\n}\n\nfunction mergeClassData (child, parent) {\n  return {\n    staticClass: concat(child.staticClass, parent.staticClass),\n    class: isDef(child.class)\n      ? [child.class, parent.class]\n      : parent.class\n  }\n}\n\nfunction renderClass (\n  staticClass,\n  dynamicClass\n) {\n  if (isDef(staticClass) || isDef(dynamicClass)) {\n    return concat(staticClass, stringifyClass(dynamicClass))\n  }\n  /* istanbul ignore next */\n  return ''\n}\n\nfunction concat (a, b) {\n  return a ? b ? (a + ' ' + b) : a : (b || '')\n}\n\nfunction stringifyClass (value) {\n  if (Array.isArray(value)) {\n    return stringifyArray(value)\n  }\n  if (isObject(value)) {\n    return stringifyObject(value)\n  }\n  if (typeof value === 'string') {\n    return value\n  }\n  /* istanbul ignore next */\n  return ''\n}\n\nfunction stringifyArray (value) {\n  var res = '';\n  var stringified;\n  for (var i = 0, l = value.length; i < l; i++) {\n    if (isDef(stringified = stringifyClass(value[i])) && stringified !== '') {\n      if (res) { res += ' '; }\n      res += stringified;\n    }\n  }\n  return res\n}\n\nfunction stringifyObject (value) {\n  var res = '';\n  for (var key in value) {\n    if (value[key]) {\n      if (res) { res += ' '; }\n      res += key;\n    }\n  }\n  return res\n}\n\n/*  */\n\nvar namespaceMap = {\n  svg: 'http://www.w3.org/2000/svg',\n  math: 'http://www.w3.org/1998/Math/MathML'\n};\n\nvar isHTMLTag = makeMap(\n  'html,body,base,head,link,meta,style,title,' +\n  'address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,' +\n  'div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,' +\n  'a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,' +\n  's,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,' +\n  'embed,object,param,source,canvas,script,noscript,del,ins,' +\n  'caption,col,colgroup,table,thead,tbody,td,th,tr,' +\n  'button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,' +\n  'output,progress,select,textarea,' +\n  'details,dialog,menu,menuitem,summary,' +\n  'content,element,shadow,template,blockquote,iframe,tfoot'\n);\n\n// this map is intentionally selective, only covering SVG elements that may\n// contain child elements.\nvar isSVG = makeMap(\n  'svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,' +\n  'foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,' +\n  'polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view',\n  true\n);\n\nvar isReservedTag = function (tag) {\n  return isHTMLTag(tag) || isSVG(tag)\n};\n\nfunction getTagNamespace (tag) {\n  if (isSVG(tag)) {\n    return 'svg'\n  }\n  // basic support for MathML\n  // note it doesn't support other MathML elements being component roots\n  if (tag === 'math') {\n    return 'math'\n  }\n}\n\nvar unknownElementCache = Object.create(null);\nfunction isUnknownElement (tag) {\n  /* istanbul ignore if */\n  if (!inBrowser) {\n    return true\n  }\n  if (isReservedTag(tag)) {\n    return false\n  }\n  tag = tag.toLowerCase();\n  /* istanbul ignore if */\n  if (unknownElementCache[tag] != null) {\n    return unknownElementCache[tag]\n  }\n  var el = document.createElement(tag);\n  if (tag.indexOf('-') > -1) {\n    // http://stackoverflow.com/a/28210364/1070244\n    return (unknownElementCache[tag] = (\n      el.constructor === window.HTMLUnknownElement ||\n      el.constructor === window.HTMLElement\n    ))\n  } else {\n    return (unknownElementCache[tag] = /HTMLUnknownElement/.test(el.toString()))\n  }\n}\n\nvar isTextInputType = makeMap('text,number,password,search,email,tel,url');\n\n/*  */\n\n/**\n * Query an element selector if it's not an element already.\n */\nfunction query (el) {\n  if (typeof el === 'string') {\n    var selected = document.querySelector(el);\n    if (!selected) {\n      process.env.NODE_ENV !== 'production' && warn(\n        'Cannot find element: ' + el\n      );\n      return document.createElement('div')\n    }\n    return selected\n  } else {\n    return el\n  }\n}\n\n/*  */\n\nfunction createElement$1 (tagName, vnode) {\n  var elm = document.createElement(tagName);\n  if (tagName !== 'select') {\n    return elm\n  }\n  // false or null will remove the attribute but undefined will not\n  if (vnode.data && vnode.data.attrs && vnode.data.attrs.multiple !== undefined) {\n    elm.setAttribute('multiple', 'multiple');\n  }\n  return elm\n}\n\nfunction createElementNS (namespace, tagName) {\n  return document.createElementNS(namespaceMap[namespace], tagName)\n}\n\nfunction createTextNode (text) {\n  return document.createTextNode(text)\n}\n\nfunction createComment (text) {\n  return document.createComment(text)\n}\n\nfunction insertBefore (parentNode, newNode, referenceNode) {\n  parentNode.insertBefore(newNode, referenceNode);\n}\n\nfunction removeChild (node, child) {\n  node.removeChild(child);\n}\n\nfunction appendChild (node, child) {\n  node.appendChild(child);\n}\n\nfunction parentNode (node) {\n  return node.parentNode\n}\n\nfunction nextSibling (node) {\n  return node.nextSibling\n}\n\nfunction tagName (node) {\n  return node.tagName\n}\n\nfunction setTextContent (node, text) {\n  node.textContent = text;\n}\n\nfunction setStyleScope (node, scopeId) {\n  node.setAttribute(scopeId, '');\n}\n\nvar nodeOps = /*#__PURE__*/Object.freeze({\n  createElement: createElement$1,\n  createElementNS: createElementNS,\n  createTextNode: createTextNode,\n  createComment: createComment,\n  insertBefore: insertBefore,\n  removeChild: removeChild,\n  appendChild: appendChild,\n  parentNode: parentNode,\n  nextSibling: nextSibling,\n  tagName: tagName,\n  setTextContent: setTextContent,\n  setStyleScope: setStyleScope\n});\n\n/*  */\n\nvar ref = {\n  create: function create (_, vnode) {\n    registerRef(vnode);\n  },\n  update: function update (oldVnode, vnode) {\n    if (oldVnode.data.ref !== vnode.data.ref) {\n      registerRef(oldVnode, true);\n      registerRef(vnode);\n    }\n  },\n  destroy: function destroy (vnode) {\n    registerRef(vnode, true);\n  }\n};\n\nfunction registerRef (vnode, isRemoval) {\n  var key = vnode.data.ref;\n  if (!isDef(key)) { return }\n\n  var vm = vnode.context;\n  var ref = vnode.componentInstance || vnode.elm;\n  var refs = vm.$refs;\n  if (isRemoval) {\n    if (Array.isArray(refs[key])) {\n      remove(refs[key], ref);\n    } else if (refs[key] === ref) {\n      refs[key] = undefined;\n    }\n  } else {\n    if (vnode.data.refInFor) {\n      if (!Array.isArray(refs[key])) {\n        refs[key] = [ref];\n      } else if (refs[key].indexOf(ref) < 0) {\n        // $flow-disable-line\n        refs[key].push(ref);\n      }\n    } else {\n      refs[key] = ref;\n    }\n  }\n}\n\n/**\n * Virtual DOM patching algorithm based on Snabbdom by\n * Simon Friis Vindum (@paldepind)\n * Licensed under the MIT License\n * https://github.com/paldepind/snabbdom/blob/master/LICENSE\n *\n * modified by Evan You (@yyx990803)\n *\n * Not type-checking this because this file is perf-critical and the cost\n * of making flow understand it is not worth it.\n */\n\nvar emptyNode = new VNode('', {}, []);\n\nvar hooks = ['create', 'activate', 'update', 'remove', 'destroy'];\n\nfunction sameVnode (a, b) {\n  return (\n    a.key === b.key && (\n      (\n        a.tag === b.tag &&\n        a.isComment === b.isComment &&\n        isDef(a.data) === isDef(b.data) &&\n        sameInputType(a, b)\n      ) || (\n        isTrue(a.isAsyncPlaceholder) &&\n        a.asyncFactory === b.asyncFactory &&\n        isUndef(b.asyncFactory.error)\n      )\n    )\n  )\n}\n\nfunction sameInputType (a, b) {\n  if (a.tag !== 'input') { return true }\n  var i;\n  var typeA = isDef(i = a.data) && isDef(i = i.attrs) && i.type;\n  var typeB = isDef(i = b.data) && isDef(i = i.attrs) && i.type;\n  return typeA === typeB || isTextInputType(typeA) && isTextInputType(typeB)\n}\n\nfunction createKeyToOldIdx (children, beginIdx, endIdx) {\n  var i, key;\n  var map = {};\n  for (i = beginIdx; i <= endIdx; ++i) {\n    key = children[i].key;\n    if (isDef(key)) { map[key] = i; }\n  }\n  return map\n}\n\nfunction createPatchFunction (backend) {\n  var i, j;\n  var cbs = {};\n\n  var modules = backend.modules;\n  var nodeOps = backend.nodeOps;\n\n  for (i = 0; i < hooks.length; ++i) {\n    cbs[hooks[i]] = [];\n    for (j = 0; j < modules.length; ++j) {\n      if (isDef(modules[j][hooks[i]])) {\n        cbs[hooks[i]].push(modules[j][hooks[i]]);\n      }\n    }\n  }\n\n  function emptyNodeAt (elm) {\n    return new VNode(nodeOps.tagName(elm).toLowerCase(), {}, [], undefined, elm)\n  }\n\n  function createRmCb (childElm, listeners) {\n    function remove$$1 () {\n      if (--remove$$1.listeners === 0) {\n        removeNode(childElm);\n      }\n    }\n    remove$$1.listeners = listeners;\n    return remove$$1\n  }\n\n  function removeNode (el) {\n    var parent = nodeOps.parentNode(el);\n    // element may have already been removed due to v-html / v-text\n    if (isDef(parent)) {\n      nodeOps.removeChild(parent, el);\n    }\n  }\n\n  function isUnknownElement$$1 (vnode, inVPre) {\n    return (\n      !inVPre &&\n      !vnode.ns &&\n      !(\n        config.ignoredElements.length &&\n        config.ignoredElements.some(function (ignore) {\n          return isRegExp(ignore)\n            ? ignore.test(vnode.tag)\n            : ignore === vnode.tag\n        })\n      ) &&\n      config.isUnknownElement(vnode.tag)\n    )\n  }\n\n  var creatingElmInVPre = 0;\n\n  function createElm (\n    vnode,\n    insertedVnodeQueue,\n    parentElm,\n    refElm,\n    nested,\n    ownerArray,\n    index\n  ) {\n    if (isDef(vnode.elm) && isDef(ownerArray)) {\n      // This vnode was used in a previous render!\n      // now it's used as a new node, overwriting its elm would cause\n      // potential patch errors down the road when it's used as an insertion\n      // reference node. Instead, we clone the node on-demand before creating\n      // associated DOM element for it.\n      vnode = ownerArray[index] = cloneVNode(vnode);\n    }\n\n    vnode.isRootInsert = !nested; // for transition enter check\n    if (createComponent(vnode, insertedVnodeQueue, parentElm, refElm)) {\n      return\n    }\n\n    var data = vnode.data;\n    var children = vnode.children;\n    var tag = vnode.tag;\n    if (isDef(tag)) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (data && data.pre) {\n          creatingElmInVPre++;\n        }\n        if (isUnknownElement$$1(vnode, creatingElmInVPre)) {\n          warn(\n            'Unknown custom element: <' + tag + '> - did you ' +\n            'register the component correctly? For recursive components, ' +\n            'make sure to provide the \"name\" option.',\n            vnode.context\n          );\n        }\n      }\n\n      vnode.elm = vnode.ns\n        ? nodeOps.createElementNS(vnode.ns, tag)\n        : nodeOps.createElement(tag, vnode);\n      setScope(vnode);\n\n      /* istanbul ignore if */\n      {\n        createChildren(vnode, children, insertedVnodeQueue);\n        if (isDef(data)) {\n          invokeCreateHooks(vnode, insertedVnodeQueue);\n        }\n        insert(parentElm, vnode.elm, refElm);\n      }\n\n      if (process.env.NODE_ENV !== 'production' && data && data.pre) {\n        creatingElmInVPre--;\n      }\n    } else if (isTrue(vnode.isComment)) {\n      vnode.elm = nodeOps.createComment(vnode.text);\n      insert(parentElm, vnode.elm, refElm);\n    } else {\n      vnode.elm = nodeOps.createTextNode(vnode.text);\n      insert(parentElm, vnode.elm, refElm);\n    }\n  }\n\n  function createComponent (vnode, insertedVnodeQueue, parentElm, refElm) {\n    var i = vnode.data;\n    if (isDef(i)) {\n      var isReactivated = isDef(vnode.componentInstance) && i.keepAlive;\n      if (isDef(i = i.hook) && isDef(i = i.init)) {\n        i(vnode, false /* hydrating */);\n      }\n      // after calling the init hook, if the vnode is a child component\n      // it should've created a child instance and mounted it. the child\n      // component also has set the placeholder vnode's elm.\n      // in that case we can just return the element and be done.\n      if (isDef(vnode.componentInstance)) {\n        initComponent(vnode, insertedVnodeQueue);\n        insert(parentElm, vnode.elm, refElm);\n        if (isTrue(isReactivated)) {\n          reactivateComponent(vnode, insertedVnodeQueue, parentElm, refElm);\n        }\n        return true\n      }\n    }\n  }\n\n  function initComponent (vnode, insertedVnodeQueue) {\n    if (isDef(vnode.data.pendingInsert)) {\n      insertedVnodeQueue.push.apply(insertedVnodeQueue, vnode.data.pendingInsert);\n      vnode.data.pendingInsert = null;\n    }\n    vnode.elm = vnode.componentInstance.$el;\n    if (isPatchable(vnode)) {\n      invokeCreateHooks(vnode, insertedVnodeQueue);\n      setScope(vnode);\n    } else {\n      // empty component root.\n      // skip all element-related modules except for ref (#3455)\n      registerRef(vnode);\n      // make sure to invoke the insert hook\n      insertedVnodeQueue.push(vnode);\n    }\n  }\n\n  function reactivateComponent (vnode, insertedVnodeQueue, parentElm, refElm) {\n    var i;\n    // hack for #4339: a reactivated component with inner transition\n    // does not trigger because the inner node's created hooks are not called\n    // again. It's not ideal to involve module-specific logic in here but\n    // there doesn't seem to be a better way to do it.\n    var innerNode = vnode;\n    while (innerNode.componentInstance) {\n      innerNode = innerNode.componentInstance._vnode;\n      if (isDef(i = innerNode.data) && isDef(i = i.transition)) {\n        for (i = 0; i < cbs.activate.length; ++i) {\n          cbs.activate[i](emptyNode, innerNode);\n        }\n        insertedVnodeQueue.push(innerNode);\n        break\n      }\n    }\n    // unlike a newly created component,\n    // a reactivated keep-alive component doesn't insert itself\n    insert(parentElm, vnode.elm, refElm);\n  }\n\n  function insert (parent, elm, ref$$1) {\n    if (isDef(parent)) {\n      if (isDef(ref$$1)) {\n        if (nodeOps.parentNode(ref$$1) === parent) {\n          nodeOps.insertBefore(parent, elm, ref$$1);\n        }\n      } else {\n        nodeOps.appendChild(parent, elm);\n      }\n    }\n  }\n\n  function createChildren (vnode, children, insertedVnodeQueue) {\n    if (Array.isArray(children)) {\n      if (process.env.NODE_ENV !== 'production') {\n        checkDuplicateKeys(children);\n      }\n      for (var i = 0; i < children.length; ++i) {\n        createElm(children[i], insertedVnodeQueue, vnode.elm, null, true, children, i);\n      }\n    } else if (isPrimitive(vnode.text)) {\n      nodeOps.appendChild(vnode.elm, nodeOps.createTextNode(String(vnode.text)));\n    }\n  }\n\n  function isPatchable (vnode) {\n    while (vnode.componentInstance) {\n      vnode = vnode.componentInstance._vnode;\n    }\n    return isDef(vnode.tag)\n  }\n\n  function invokeCreateHooks (vnode, insertedVnodeQueue) {\n    for (var i$1 = 0; i$1 < cbs.create.length; ++i$1) {\n      cbs.create[i$1](emptyNode, vnode);\n    }\n    i = vnode.data.hook; // Reuse variable\n    if (isDef(i)) {\n      if (isDef(i.create)) { i.create(emptyNode, vnode); }\n      if (isDef(i.insert)) { insertedVnodeQueue.push(vnode); }\n    }\n  }\n\n  // set scope id attribute for scoped CSS.\n  // this is implemented as a special case to avoid the overhead\n  // of going through the normal attribute patching process.\n  function setScope (vnode) {\n    var i;\n    if (isDef(i = vnode.fnScopeId)) {\n      nodeOps.setStyleScope(vnode.elm, i);\n    } else {\n      var ancestor = vnode;\n      while (ancestor) {\n        if (isDef(i = ancestor.context) && isDef(i = i.$options._scopeId)) {\n          nodeOps.setStyleScope(vnode.elm, i);\n        }\n        ancestor = ancestor.parent;\n      }\n    }\n    // for slot content they should also get the scopeId from the host instance.\n    if (isDef(i = activeInstance) &&\n      i !== vnode.context &&\n      i !== vnode.fnContext &&\n      isDef(i = i.$options._scopeId)\n    ) {\n      nodeOps.setStyleScope(vnode.elm, i);\n    }\n  }\n\n  function addVnodes (parentElm, refElm, vnodes, startIdx, endIdx, insertedVnodeQueue) {\n    for (; startIdx <= endIdx; ++startIdx) {\n      createElm(vnodes[startIdx], insertedVnodeQueue, parentElm, refElm, false, vnodes, startIdx);\n    }\n  }\n\n  function invokeDestroyHook (vnode) {\n    var i, j;\n    var data = vnode.data;\n    if (isDef(data)) {\n      if (isDef(i = data.hook) && isDef(i = i.destroy)) { i(vnode); }\n      for (i = 0; i < cbs.destroy.length; ++i) { cbs.destroy[i](vnode); }\n    }\n    if (isDef(i = vnode.children)) {\n      for (j = 0; j < vnode.children.length; ++j) {\n        invokeDestroyHook(vnode.children[j]);\n      }\n    }\n  }\n\n  function removeVnodes (vnodes, startIdx, endIdx) {\n    for (; startIdx <= endIdx; ++startIdx) {\n      var ch = vnodes[startIdx];\n      if (isDef(ch)) {\n        if (isDef(ch.tag)) {\n          removeAndInvokeRemoveHook(ch);\n          invokeDestroyHook(ch);\n        } else { // Text node\n          removeNode(ch.elm);\n        }\n      }\n    }\n  }\n\n  function removeAndInvokeRemoveHook (vnode, rm) {\n    if (isDef(rm) || isDef(vnode.data)) {\n      var i;\n      var listeners = cbs.remove.length + 1;\n      if (isDef(rm)) {\n        // we have a recursively passed down rm callback\n        // increase the listeners count\n        rm.listeners += listeners;\n      } else {\n        // directly removing\n        rm = createRmCb(vnode.elm, listeners);\n      }\n      // recursively invoke hooks on child component root node\n      if (isDef(i = vnode.componentInstance) && isDef(i = i._vnode) && isDef(i.data)) {\n        removeAndInvokeRemoveHook(i, rm);\n      }\n      for (i = 0; i < cbs.remove.length; ++i) {\n        cbs.remove[i](vnode, rm);\n      }\n      if (isDef(i = vnode.data.hook) && isDef(i = i.remove)) {\n        i(vnode, rm);\n      } else {\n        rm();\n      }\n    } else {\n      removeNode(vnode.elm);\n    }\n  }\n\n  function updateChildren (parentElm, oldCh, newCh, insertedVnodeQueue, removeOnly) {\n    var oldStartIdx = 0;\n    var newStartIdx = 0;\n    var oldEndIdx = oldCh.length - 1;\n    var oldStartVnode = oldCh[0];\n    var oldEndVnode = oldCh[oldEndIdx];\n    var newEndIdx = newCh.length - 1;\n    var newStartVnode = newCh[0];\n    var newEndVnode = newCh[newEndIdx];\n    var oldKeyToIdx, idxInOld, vnodeToMove, refElm;\n\n    // removeOnly is a special flag used only by <transition-group>\n    // to ensure removed elements stay in correct relative positions\n    // during leaving transitions\n    var canMove = !removeOnly;\n\n    if (process.env.NODE_ENV !== 'production') {\n      checkDuplicateKeys(newCh);\n    }\n\n    while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\n      if (isUndef(oldStartVnode)) {\n        oldStartVnode = oldCh[++oldStartIdx]; // Vnode has been moved left\n      } else if (isUndef(oldEndVnode)) {\n        oldEndVnode = oldCh[--oldEndIdx];\n      } else if (sameVnode(oldStartVnode, newStartVnode)) {\n        patchVnode(oldStartVnode, newStartVnode, insertedVnodeQueue, newCh, newStartIdx);\n        oldStartVnode = oldCh[++oldStartIdx];\n        newStartVnode = newCh[++newStartIdx];\n      } else if (sameVnode(oldEndVnode, newEndVnode)) {\n        patchVnode(oldEndVnode, newEndVnode, insertedVnodeQueue, newCh, newEndIdx);\n        oldEndVnode = oldCh[--oldEndIdx];\n        newEndVnode = newCh[--newEndIdx];\n      } else if (sameVnode(oldStartVnode, newEndVnode)) { // Vnode moved right\n        patchVnode(oldStartVnode, newEndVnode, insertedVnodeQueue, newCh, newEndIdx);\n        canMove && nodeOps.insertBefore(parentElm, oldStartVnode.elm, nodeOps.nextSibling(oldEndVnode.elm));\n        oldStartVnode = oldCh[++oldStartIdx];\n        newEndVnode = newCh[--newEndIdx];\n      } else if (sameVnode(oldEndVnode, newStartVnode)) { // Vnode moved left\n        patchVnode(oldEndVnode, newStartVnode, insertedVnodeQueue, newCh, newStartIdx);\n        canMove && nodeOps.insertBefore(parentElm, oldEndVnode.elm, oldStartVnode.elm);\n        oldEndVnode = oldCh[--oldEndIdx];\n        newStartVnode = newCh[++newStartIdx];\n      } else {\n        if (isUndef(oldKeyToIdx)) { oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx); }\n        idxInOld = isDef(newStartVnode.key)\n          ? oldKeyToIdx[newStartVnode.key]\n          : findIdxInOld(newStartVnode, oldCh, oldStartIdx, oldEndIdx);\n        if (isUndef(idxInOld)) { // New element\n          createElm(newStartVnode, insertedVnodeQueue, parentElm, oldStartVnode.elm, false, newCh, newStartIdx);\n        } else {\n          vnodeToMove = oldCh[idxInOld];\n          if (sameVnode(vnodeToMove, newStartVnode)) {\n            patchVnode(vnodeToMove, newStartVnode, insertedVnodeQueue, newCh, newStartIdx);\n            oldCh[idxInOld] = undefined;\n            canMove && nodeOps.insertBefore(parentElm, vnodeToMove.elm, oldStartVnode.elm);\n          } else {\n            // same key but different element. treat as new element\n            createElm(newStartVnode, insertedVnodeQueue, parentElm, oldStartVnode.elm, false, newCh, newStartIdx);\n          }\n        }\n        newStartVnode = newCh[++newStartIdx];\n      }\n    }\n    if (oldStartIdx > oldEndIdx) {\n      refElm = isUndef(newCh[newEndIdx + 1]) ? null : newCh[newEndIdx + 1].elm;\n      addVnodes(parentElm, refElm, newCh, newStartIdx, newEndIdx, insertedVnodeQueue);\n    } else if (newStartIdx > newEndIdx) {\n      removeVnodes(oldCh, oldStartIdx, oldEndIdx);\n    }\n  }\n\n  function checkDuplicateKeys (children) {\n    var seenKeys = {};\n    for (var i = 0; i < children.length; i++) {\n      var vnode = children[i];\n      var key = vnode.key;\n      if (isDef(key)) {\n        if (seenKeys[key]) {\n          warn(\n            (\"Duplicate keys detected: '\" + key + \"'. This may cause an update error.\"),\n            vnode.context\n          );\n        } else {\n          seenKeys[key] = true;\n        }\n      }\n    }\n  }\n\n  function findIdxInOld (node, oldCh, start, end) {\n    for (var i = start; i < end; i++) {\n      var c = oldCh[i];\n      if (isDef(c) && sameVnode(node, c)) { return i }\n    }\n  }\n\n  function patchVnode (\n    oldVnode,\n    vnode,\n    insertedVnodeQueue,\n    ownerArray,\n    index,\n    removeOnly\n  ) {\n    if (oldVnode === vnode) {\n      return\n    }\n\n    if (isDef(vnode.elm) && isDef(ownerArray)) {\n      // clone reused vnode\n      vnode = ownerArray[index] = cloneVNode(vnode);\n    }\n\n    var elm = vnode.elm = oldVnode.elm;\n\n    if (isTrue(oldVnode.isAsyncPlaceholder)) {\n      if (isDef(vnode.asyncFactory.resolved)) {\n        hydrate(oldVnode.elm, vnode, insertedVnodeQueue);\n      } else {\n        vnode.isAsyncPlaceholder = true;\n      }\n      return\n    }\n\n    // reuse element for static trees.\n    // note we only do this if the vnode is cloned -\n    // if the new node is not cloned it means the render functions have been\n    // reset by the hot-reload-api and we need to do a proper re-render.\n    if (isTrue(vnode.isStatic) &&\n      isTrue(oldVnode.isStatic) &&\n      vnode.key === oldVnode.key &&\n      (isTrue(vnode.isCloned) || isTrue(vnode.isOnce))\n    ) {\n      vnode.componentInstance = oldVnode.componentInstance;\n      return\n    }\n\n    var i;\n    var data = vnode.data;\n    if (isDef(data) && isDef(i = data.hook) && isDef(i = i.prepatch)) {\n      i(oldVnode, vnode);\n    }\n\n    var oldCh = oldVnode.children;\n    var ch = vnode.children;\n    if (isDef(data) && isPatchable(vnode)) {\n      for (i = 0; i < cbs.update.length; ++i) { cbs.update[i](oldVnode, vnode); }\n      if (isDef(i = data.hook) && isDef(i = i.update)) { i(oldVnode, vnode); }\n    }\n    if (isUndef(vnode.text)) {\n      if (isDef(oldCh) && isDef(ch)) {\n        if (oldCh !== ch) { updateChildren(elm, oldCh, ch, insertedVnodeQueue, removeOnly); }\n      } else if (isDef(ch)) {\n        if (process.env.NODE_ENV !== 'production') {\n          checkDuplicateKeys(ch);\n        }\n        if (isDef(oldVnode.text)) { nodeOps.setTextContent(elm, ''); }\n        addVnodes(elm, null, ch, 0, ch.length - 1, insertedVnodeQueue);\n      } else if (isDef(oldCh)) {\n        removeVnodes(oldCh, 0, oldCh.length - 1);\n      } else if (isDef(oldVnode.text)) {\n        nodeOps.setTextContent(elm, '');\n      }\n    } else if (oldVnode.text !== vnode.text) {\n      nodeOps.setTextContent(elm, vnode.text);\n    }\n    if (isDef(data)) {\n      if (isDef(i = data.hook) && isDef(i = i.postpatch)) { i(oldVnode, vnode); }\n    }\n  }\n\n  function invokeInsertHook (vnode, queue, initial) {\n    // delay insert hooks for component root nodes, invoke them after the\n    // element is really inserted\n    if (isTrue(initial) && isDef(vnode.parent)) {\n      vnode.parent.data.pendingInsert = queue;\n    } else {\n      for (var i = 0; i < queue.length; ++i) {\n        queue[i].data.hook.insert(queue[i]);\n      }\n    }\n  }\n\n  var hydrationBailed = false;\n  // list of modules that can skip create hook during hydration because they\n  // are already rendered on the client or has no need for initialization\n  // Note: style is excluded because it relies on initial clone for future\n  // deep updates (#7063).\n  var isRenderedModule = makeMap('attrs,class,staticClass,staticStyle,key');\n\n  // Note: this is a browser-only function so we can assume elms are DOM nodes.\n  function hydrate (elm, vnode, insertedVnodeQueue, inVPre) {\n    var i;\n    var tag = vnode.tag;\n    var data = vnode.data;\n    var children = vnode.children;\n    inVPre = inVPre || (data && data.pre);\n    vnode.elm = elm;\n\n    if (isTrue(vnode.isComment) && isDef(vnode.asyncFactory)) {\n      vnode.isAsyncPlaceholder = true;\n      return true\n    }\n    // assert node match\n    if (process.env.NODE_ENV !== 'production') {\n      if (!assertNodeMatch(elm, vnode, inVPre)) {\n        return false\n      }\n    }\n    if (isDef(data)) {\n      if (isDef(i = data.hook) && isDef(i = i.init)) { i(vnode, true /* hydrating */); }\n      if (isDef(i = vnode.componentInstance)) {\n        // child component. it should have hydrated its own tree.\n        initComponent(vnode, insertedVnodeQueue);\n        return true\n      }\n    }\n    if (isDef(tag)) {\n      if (isDef(children)) {\n        // empty element, allow client to pick up and populate children\n        if (!elm.hasChildNodes()) {\n          createChildren(vnode, children, insertedVnodeQueue);\n        } else {\n          // v-html and domProps: innerHTML\n          if (isDef(i = data) && isDef(i = i.domProps) && isDef(i = i.innerHTML)) {\n            if (i !== elm.innerHTML) {\n              /* istanbul ignore if */\n              if (process.env.NODE_ENV !== 'production' &&\n                typeof console !== 'undefined' &&\n                !hydrationBailed\n              ) {\n                hydrationBailed = true;\n                console.warn('Parent: ', elm);\n                console.warn('server innerHTML: ', i);\n                console.warn('client innerHTML: ', elm.innerHTML);\n              }\n              return false\n            }\n          } else {\n            // iterate and compare children lists\n            var childrenMatch = true;\n            var childNode = elm.firstChild;\n            for (var i$1 = 0; i$1 < children.length; i$1++) {\n              if (!childNode || !hydrate(childNode, children[i$1], insertedVnodeQueue, inVPre)) {\n                childrenMatch = false;\n                break\n              }\n              childNode = childNode.nextSibling;\n            }\n            // if childNode is not null, it means the actual childNodes list is\n            // longer than the virtual children list.\n            if (!childrenMatch || childNode) {\n              /* istanbul ignore if */\n              if (process.env.NODE_ENV !== 'production' &&\n                typeof console !== 'undefined' &&\n                !hydrationBailed\n              ) {\n                hydrationBailed = true;\n                console.warn('Parent: ', elm);\n                console.warn('Mismatching childNodes vs. VNodes: ', elm.childNodes, children);\n              }\n              return false\n            }\n          }\n        }\n      }\n      if (isDef(data)) {\n        var fullInvoke = false;\n        for (var key in data) {\n          if (!isRenderedModule(key)) {\n            fullInvoke = true;\n            invokeCreateHooks(vnode, insertedVnodeQueue);\n            break\n          }\n        }\n        if (!fullInvoke && data['class']) {\n          // ensure collecting deps for deep class bindings for future updates\n          traverse(data['class']);\n        }\n      }\n    } else if (elm.data !== vnode.text) {\n      elm.data = vnode.text;\n    }\n    return true\n  }\n\n  function assertNodeMatch (node, vnode, inVPre) {\n    if (isDef(vnode.tag)) {\n      return vnode.tag.indexOf('vue-component') === 0 || (\n        !isUnknownElement$$1(vnode, inVPre) &&\n        vnode.tag.toLowerCase() === (node.tagName && node.tagName.toLowerCase())\n      )\n    } else {\n      return node.nodeType === (vnode.isComment ? 8 : 3)\n    }\n  }\n\n  return function patch (oldVnode, vnode, hydrating, removeOnly) {\n    if (isUndef(vnode)) {\n      if (isDef(oldVnode)) { invokeDestroyHook(oldVnode); }\n      return\n    }\n\n    var isInitialPatch = false;\n    var insertedVnodeQueue = [];\n\n    if (isUndef(oldVnode)) {\n      // empty mount (likely as component), create new root element\n      isInitialPatch = true;\n      createElm(vnode, insertedVnodeQueue);\n    } else {\n      var isRealElement = isDef(oldVnode.nodeType);\n      if (!isRealElement && sameVnode(oldVnode, vnode)) {\n        // patch existing root node\n        patchVnode(oldVnode, vnode, insertedVnodeQueue, null, null, removeOnly);\n      } else {\n        if (isRealElement) {\n          // mounting to a real element\n          // check if this is server-rendered content and if we can perform\n          // a successful hydration.\n          if (oldVnode.nodeType === 1 && oldVnode.hasAttribute(SSR_ATTR)) {\n            oldVnode.removeAttribute(SSR_ATTR);\n            hydrating = true;\n          }\n          if (isTrue(hydrating)) {\n            if (hydrate(oldVnode, vnode, insertedVnodeQueue)) {\n              invokeInsertHook(vnode, insertedVnodeQueue, true);\n              return oldVnode\n            } else if (process.env.NODE_ENV !== 'production') {\n              warn(\n                'The client-side rendered virtual DOM tree is not matching ' +\n                'server-rendered content. This is likely caused by incorrect ' +\n                'HTML markup, for example nesting block-level elements inside ' +\n                '<p>, or missing <tbody>. Bailing hydration and performing ' +\n                'full client-side render.'\n              );\n            }\n          }\n          // either not server-rendered, or hydration failed.\n          // create an empty node and replace it\n          oldVnode = emptyNodeAt(oldVnode);\n        }\n\n        // replacing existing element\n        var oldElm = oldVnode.elm;\n        var parentElm = nodeOps.parentNode(oldElm);\n\n        // create new node\n        createElm(\n          vnode,\n          insertedVnodeQueue,\n          // extremely rare edge case: do not insert if old element is in a\n          // leaving transition. Only happens when combining transition +\n          // keep-alive + HOCs. (#4590)\n          oldElm._leaveCb ? null : parentElm,\n          nodeOps.nextSibling(oldElm)\n        );\n\n        // update parent placeholder node element, recursively\n        if (isDef(vnode.parent)) {\n          var ancestor = vnode.parent;\n          var patchable = isPatchable(vnode);\n          while (ancestor) {\n            for (var i = 0; i < cbs.destroy.length; ++i) {\n              cbs.destroy[i](ancestor);\n            }\n            ancestor.elm = vnode.elm;\n            if (patchable) {\n              for (var i$1 = 0; i$1 < cbs.create.length; ++i$1) {\n                cbs.create[i$1](emptyNode, ancestor);\n              }\n              // #6513\n              // invoke insert hooks that may have been merged by create hooks.\n              // e.g. for directives that uses the \"inserted\" hook.\n              var insert = ancestor.data.hook.insert;\n              if (insert.merged) {\n                // start at index 1 to avoid re-invoking component mounted hook\n                for (var i$2 = 1; i$2 < insert.fns.length; i$2++) {\n                  insert.fns[i$2]();\n                }\n              }\n            } else {\n              registerRef(ancestor);\n            }\n            ancestor = ancestor.parent;\n          }\n        }\n\n        // destroy old node\n        if (isDef(parentElm)) {\n          removeVnodes([oldVnode], 0, 0);\n        } else if (isDef(oldVnode.tag)) {\n          invokeDestroyHook(oldVnode);\n        }\n      }\n    }\n\n    invokeInsertHook(vnode, insertedVnodeQueue, isInitialPatch);\n    return vnode.elm\n  }\n}\n\n/*  */\n\nvar directives = {\n  create: updateDirectives,\n  update: updateDirectives,\n  destroy: function unbindDirectives (vnode) {\n    updateDirectives(vnode, emptyNode);\n  }\n};\n\nfunction updateDirectives (oldVnode, vnode) {\n  if (oldVnode.data.directives || vnode.data.directives) {\n    _update(oldVnode, vnode);\n  }\n}\n\nfunction _update (oldVnode, vnode) {\n  var isCreate = oldVnode === emptyNode;\n  var isDestroy = vnode === emptyNode;\n  var oldDirs = normalizeDirectives$1(oldVnode.data.directives, oldVnode.context);\n  var newDirs = normalizeDirectives$1(vnode.data.directives, vnode.context);\n\n  var dirsWithInsert = [];\n  var dirsWithPostpatch = [];\n\n  var key, oldDir, dir;\n  for (key in newDirs) {\n    oldDir = oldDirs[key];\n    dir = newDirs[key];\n    if (!oldDir) {\n      // new directive, bind\n      callHook$1(dir, 'bind', vnode, oldVnode);\n      if (dir.def && dir.def.inserted) {\n        dirsWithInsert.push(dir);\n      }\n    } else {\n      // existing directive, update\n      dir.oldValue = oldDir.value;\n      dir.oldArg = oldDir.arg;\n      callHook$1(dir, 'update', vnode, oldVnode);\n      if (dir.def && dir.def.componentUpdated) {\n        dirsWithPostpatch.push(dir);\n      }\n    }\n  }\n\n  if (dirsWithInsert.length) {\n    var callInsert = function () {\n      for (var i = 0; i < dirsWithInsert.length; i++) {\n        callHook$1(dirsWithInsert[i], 'inserted', vnode, oldVnode);\n      }\n    };\n    if (isCreate) {\n      mergeVNodeHook(vnode, 'insert', callInsert);\n    } else {\n      callInsert();\n    }\n  }\n\n  if (dirsWithPostpatch.length) {\n    mergeVNodeHook(vnode, 'postpatch', function () {\n      for (var i = 0; i < dirsWithPostpatch.length; i++) {\n        callHook$1(dirsWithPostpatch[i], 'componentUpdated', vnode, oldVnode);\n      }\n    });\n  }\n\n  if (!isCreate) {\n    for (key in oldDirs) {\n      if (!newDirs[key]) {\n        // no longer present, unbind\n        callHook$1(oldDirs[key], 'unbind', oldVnode, oldVnode, isDestroy);\n      }\n    }\n  }\n}\n\nvar emptyModifiers = Object.create(null);\n\nfunction normalizeDirectives$1 (\n  dirs,\n  vm\n) {\n  var res = Object.create(null);\n  if (!dirs) {\n    // $flow-disable-line\n    return res\n  }\n  var i, dir;\n  for (i = 0; i < dirs.length; i++) {\n    dir = dirs[i];\n    if (!dir.modifiers) {\n      // $flow-disable-line\n      dir.modifiers = emptyModifiers;\n    }\n    res[getRawDirName(dir)] = dir;\n    dir.def = resolveAsset(vm.$options, 'directives', dir.name, true);\n  }\n  // $flow-disable-line\n  return res\n}\n\nfunction getRawDirName (dir) {\n  return dir.rawName || ((dir.name) + \".\" + (Object.keys(dir.modifiers || {}).join('.')))\n}\n\nfunction callHook$1 (dir, hook, vnode, oldVnode, isDestroy) {\n  var fn = dir.def && dir.def[hook];\n  if (fn) {\n    try {\n      fn(vnode.elm, dir, vnode, oldVnode, isDestroy);\n    } catch (e) {\n      handleError(e, vnode.context, (\"directive \" + (dir.name) + \" \" + hook + \" hook\"));\n    }\n  }\n}\n\nvar baseModules = [\n  ref,\n  directives\n];\n\n/*  */\n\nfunction updateAttrs (oldVnode, vnode) {\n  var opts = vnode.componentOptions;\n  if (isDef(opts) && opts.Ctor.options.inheritAttrs === false) {\n    return\n  }\n  if (isUndef(oldVnode.data.attrs) && isUndef(vnode.data.attrs)) {\n    return\n  }\n  var key, cur, old;\n  var elm = vnode.elm;\n  var oldAttrs = oldVnode.data.attrs || {};\n  var attrs = vnode.data.attrs || {};\n  // clone observed objects, as the user probably wants to mutate it\n  if (isDef(attrs.__ob__)) {\n    attrs = vnode.data.attrs = extend({}, attrs);\n  }\n\n  for (key in attrs) {\n    cur = attrs[key];\n    old = oldAttrs[key];\n    if (old !== cur) {\n      setAttr(elm, key, cur);\n    }\n  }\n  // #4391: in IE9, setting type can reset value for input[type=radio]\n  // #6666: IE/Edge forces progress value down to 1 before setting a max\n  /* istanbul ignore if */\n  if ((isIE || isEdge) && attrs.value !== oldAttrs.value) {\n    setAttr(elm, 'value', attrs.value);\n  }\n  for (key in oldAttrs) {\n    if (isUndef(attrs[key])) {\n      if (isXlink(key)) {\n        elm.removeAttributeNS(xlinkNS, getXlinkProp(key));\n      } else if (!isEnumeratedAttr(key)) {\n        elm.removeAttribute(key);\n      }\n    }\n  }\n}\n\nfunction setAttr (el, key, value) {\n  if (el.tagName.indexOf('-') > -1) {\n    baseSetAttr(el, key, value);\n  } else if (isBooleanAttr(key)) {\n    // set attribute for blank value\n    // e.g. <option disabled>Select one</option>\n    if (isFalsyAttrValue(value)) {\n      el.removeAttribute(key);\n    } else {\n      // technically allowfullscreen is a boolean attribute for <iframe>,\n      // but Flash expects a value of \"true\" when used on <embed> tag\n      value = key === 'allowfullscreen' && el.tagName === 'EMBED'\n        ? 'true'\n        : key;\n      el.setAttribute(key, value);\n    }\n  } else if (isEnumeratedAttr(key)) {\n    el.setAttribute(key, convertEnumeratedValue(key, value));\n  } else if (isXlink(key)) {\n    if (isFalsyAttrValue(value)) {\n      el.removeAttributeNS(xlinkNS, getXlinkProp(key));\n    } else {\n      el.setAttributeNS(xlinkNS, key, value);\n    }\n  } else {\n    baseSetAttr(el, key, value);\n  }\n}\n\nfunction baseSetAttr (el, key, value) {\n  if (isFalsyAttrValue(value)) {\n    el.removeAttribute(key);\n  } else {\n    // #7138: IE10 & 11 fires input event when setting placeholder on\n    // <textarea>... block the first input event and remove the blocker\n    // immediately.\n    /* istanbul ignore if */\n    if (\n      isIE && !isIE9 &&\n      el.tagName === 'TEXTAREA' &&\n      key === 'placeholder' && value !== '' && !el.__ieph\n    ) {\n      var blocker = function (e) {\n        e.stopImmediatePropagation();\n        el.removeEventListener('input', blocker);\n      };\n      el.addEventListener('input', blocker);\n      // $flow-disable-line\n      el.__ieph = true; /* IE placeholder patched */\n    }\n    el.setAttribute(key, value);\n  }\n}\n\nvar attrs = {\n  create: updateAttrs,\n  update: updateAttrs\n};\n\n/*  */\n\nfunction updateClass (oldVnode, vnode) {\n  var el = vnode.elm;\n  var data = vnode.data;\n  var oldData = oldVnode.data;\n  if (\n    isUndef(data.staticClass) &&\n    isUndef(data.class) && (\n      isUndef(oldData) || (\n        isUndef(oldData.staticClass) &&\n        isUndef(oldData.class)\n      )\n    )\n  ) {\n    return\n  }\n\n  var cls = genClassForVnode(vnode);\n\n  // handle transition classes\n  var transitionClass = el._transitionClasses;\n  if (isDef(transitionClass)) {\n    cls = concat(cls, stringifyClass(transitionClass));\n  }\n\n  // set the class\n  if (cls !== el._prevClass) {\n    el.setAttribute('class', cls);\n    el._prevClass = cls;\n  }\n}\n\nvar klass = {\n  create: updateClass,\n  update: updateClass\n};\n\n/*  */\n\n/*  */\n\n/*  */\n\n/*  */\n\n// in some cases, the event used has to be determined at runtime\n// so we used some reserved tokens during compile.\nvar RANGE_TOKEN = '__r';\nvar CHECKBOX_RADIO_TOKEN = '__c';\n\n/*  */\n\n// normalize v-model event tokens that can only be determined at runtime.\n// it's important to place the event as the first in the array because\n// the whole point is ensuring the v-model callback gets called before\n// user-attached handlers.\nfunction normalizeEvents (on) {\n  /* istanbul ignore if */\n  if (isDef(on[RANGE_TOKEN])) {\n    // IE input[type=range] only supports `change` event\n    var event = isIE ? 'change' : 'input';\n    on[event] = [].concat(on[RANGE_TOKEN], on[event] || []);\n    delete on[RANGE_TOKEN];\n  }\n  // This was originally intended to fix #4521 but no longer necessary\n  // after 2.5. Keeping it for backwards compat with generated code from < 2.4\n  /* istanbul ignore if */\n  if (isDef(on[CHECKBOX_RADIO_TOKEN])) {\n    on.change = [].concat(on[CHECKBOX_RADIO_TOKEN], on.change || []);\n    delete on[CHECKBOX_RADIO_TOKEN];\n  }\n}\n\nvar target$1;\n\nfunction createOnceHandler$1 (event, handler, capture) {\n  var _target = target$1; // save current target element in closure\n  return function onceHandler () {\n    var res = handler.apply(null, arguments);\n    if (res !== null) {\n      remove$2(event, onceHandler, capture, _target);\n    }\n  }\n}\n\n// #9446: Firefox <= 53 (in particular, ESR 52) has incorrect Event.timeStamp\n// implementation and does not fire microtasks in between event propagation, so\n// safe to exclude.\nvar useMicrotaskFix = isUsingMicroTask && !(isFF && Number(isFF[1]) <= 53);\n\nfunction add$1 (\n  name,\n  handler,\n  capture,\n  passive\n) {\n  // async edge case #6566: inner click event triggers patch, event handler\n  // attached to outer element during patch, and triggered again. This\n  // happens because browsers fire microtask ticks between event propagation.\n  // the solution is simple: we save the timestamp when a handler is attached,\n  // and the handler would only fire if the event passed to it was fired\n  // AFTER it was attached.\n  if (useMicrotaskFix) {\n    var attachedTimestamp = currentFlushTimestamp;\n    var original = handler;\n    handler = original._wrapper = function (e) {\n      if (\n        // no bubbling, should always fire.\n        // this is just a safety net in case event.timeStamp is unreliable in\n        // certain weird environments...\n        e.target === e.currentTarget ||\n        // event is fired after handler attachment\n        e.timeStamp >= attachedTimestamp ||\n        // bail for environments that have buggy event.timeStamp implementations\n        // #9462 iOS 9 bug: event.timeStamp is 0 after history.pushState\n        // #9681 QtWebEngine event.timeStamp is negative value\n        e.timeStamp <= 0 ||\n        // #9448 bail if event is fired in another document in a multi-page\n        // electron/nw.js app, since event.timeStamp will be using a different\n        // starting reference\n        e.target.ownerDocument !== document\n      ) {\n        return original.apply(this, arguments)\n      }\n    };\n  }\n  target$1.addEventListener(\n    name,\n    handler,\n    supportsPassive\n      ? { capture: capture, passive: passive }\n      : capture\n  );\n}\n\nfunction remove$2 (\n  name,\n  handler,\n  capture,\n  _target\n) {\n  (_target || target$1).removeEventListener(\n    name,\n    handler._wrapper || handler,\n    capture\n  );\n}\n\nfunction updateDOMListeners (oldVnode, vnode) {\n  if (isUndef(oldVnode.data.on) && isUndef(vnode.data.on)) {\n    return\n  }\n  var on = vnode.data.on || {};\n  var oldOn = oldVnode.data.on || {};\n  target$1 = vnode.elm;\n  normalizeEvents(on);\n  updateListeners(on, oldOn, add$1, remove$2, createOnceHandler$1, vnode.context);\n  target$1 = undefined;\n}\n\nvar events = {\n  create: updateDOMListeners,\n  update: updateDOMListeners\n};\n\n/*  */\n\nvar svgContainer;\n\nfunction updateDOMProps (oldVnode, vnode) {\n  if (isUndef(oldVnode.data.domProps) && isUndef(vnode.data.domProps)) {\n    return\n  }\n  var key, cur;\n  var elm = vnode.elm;\n  var oldProps = oldVnode.data.domProps || {};\n  var props = vnode.data.domProps || {};\n  // clone observed objects, as the user probably wants to mutate it\n  if (isDef(props.__ob__)) {\n    props = vnode.data.domProps = extend({}, props);\n  }\n\n  for (key in oldProps) {\n    if (!(key in props)) {\n      elm[key] = '';\n    }\n  }\n\n  for (key in props) {\n    cur = props[key];\n    // ignore children if the node has textContent or innerHTML,\n    // as these will throw away existing DOM nodes and cause removal errors\n    // on subsequent patches (#3360)\n    if (key === 'textContent' || key === 'innerHTML') {\n      if (vnode.children) { vnode.children.length = 0; }\n      if (cur === oldProps[key]) { continue }\n      // #6601 work around Chrome version <= 55 bug where single textNode\n      // replaced by innerHTML/textContent retains its parentNode property\n      if (elm.childNodes.length === 1) {\n        elm.removeChild(elm.childNodes[0]);\n      }\n    }\n\n    if (key === 'value' && elm.tagName !== 'PROGRESS') {\n      // store value as _value as well since\n      // non-string values will be stringified\n      elm._value = cur;\n      // avoid resetting cursor position when value is the same\n      var strCur = isUndef(cur) ? '' : String(cur);\n      if (shouldUpdateValue(elm, strCur)) {\n        elm.value = strCur;\n      }\n    } else if (key === 'innerHTML' && isSVG(elm.tagName) && isUndef(elm.innerHTML)) {\n      // IE doesn't support innerHTML for SVG elements\n      svgContainer = svgContainer || document.createElement('div');\n      svgContainer.innerHTML = \"<svg>\" + cur + \"</svg>\";\n      var svg = svgContainer.firstChild;\n      while (elm.firstChild) {\n        elm.removeChild(elm.firstChild);\n      }\n      while (svg.firstChild) {\n        elm.appendChild(svg.firstChild);\n      }\n    } else if (\n      // skip the update if old and new VDOM state is the same.\n      // `value` is handled separately because the DOM value may be temporarily\n      // out of sync with VDOM state due to focus, composition and modifiers.\n      // This  #4521 by skipping the unnecessary `checked` update.\n      cur !== oldProps[key]\n    ) {\n      // some property updates can throw\n      // e.g. `value` on <progress> w/ non-finite value\n      try {\n        elm[key] = cur;\n      } catch (e) {}\n    }\n  }\n}\n\n// check platforms/web/util/attrs.js acceptValue\n\n\nfunction shouldUpdateValue (elm, checkVal) {\n  return (!elm.composing && (\n    elm.tagName === 'OPTION' ||\n    isNotInFocusAndDirty(elm, checkVal) ||\n    isDirtyWithModifiers(elm, checkVal)\n  ))\n}\n\nfunction isNotInFocusAndDirty (elm, checkVal) {\n  // return true when textbox (.number and .trim) loses focus and its value is\n  // not equal to the updated value\n  var notInFocus = true;\n  // #6157\n  // work around IE bug when accessing document.activeElement in an iframe\n  try { notInFocus = document.activeElement !== elm; } catch (e) {}\n  return notInFocus && elm.value !== checkVal\n}\n\nfunction isDirtyWithModifiers (elm, newVal) {\n  var value = elm.value;\n  var modifiers = elm._vModifiers; // injected by v-model runtime\n  if (isDef(modifiers)) {\n    if (modifiers.number) {\n      return toNumber(value) !== toNumber(newVal)\n    }\n    if (modifiers.trim) {\n      return value.trim() !== newVal.trim()\n    }\n  }\n  return value !== newVal\n}\n\nvar domProps = {\n  create: updateDOMProps,\n  update: updateDOMProps\n};\n\n/*  */\n\nvar parseStyleText = cached(function (cssText) {\n  var res = {};\n  var listDelimiter = /;(?![^(]*\\))/g;\n  var propertyDelimiter = /:(.+)/;\n  cssText.split(listDelimiter).forEach(function (item) {\n    if (item) {\n      var tmp = item.split(propertyDelimiter);\n      tmp.length > 1 && (res[tmp[0].trim()] = tmp[1].trim());\n    }\n  });\n  return res\n});\n\n// merge static and dynamic style data on the same vnode\nfunction normalizeStyleData (data) {\n  var style = normalizeStyleBinding(data.style);\n  // static style is pre-processed into an object during compilation\n  // and is always a fresh object, so it's safe to merge into it\n  return data.staticStyle\n    ? extend(data.staticStyle, style)\n    : style\n}\n\n// normalize possible array / string values into Object\nfunction normalizeStyleBinding (bindingStyle) {\n  if (Array.isArray(bindingStyle)) {\n    return toObject(bindingStyle)\n  }\n  if (typeof bindingStyle === 'string') {\n    return parseStyleText(bindingStyle)\n  }\n  return bindingStyle\n}\n\n/**\n * parent component style should be after child's\n * so that parent component's style could override it\n */\nfunction getStyle (vnode, checkChild) {\n  var res = {};\n  var styleData;\n\n  if (checkChild) {\n    var childNode = vnode;\n    while (childNode.componentInstance) {\n      childNode = childNode.componentInstance._vnode;\n      if (\n        childNode && childNode.data &&\n        (styleData = normalizeStyleData(childNode.data))\n      ) {\n        extend(res, styleData);\n      }\n    }\n  }\n\n  if ((styleData = normalizeStyleData(vnode.data))) {\n    extend(res, styleData);\n  }\n\n  var parentNode = vnode;\n  while ((parentNode = parentNode.parent)) {\n    if (parentNode.data && (styleData = normalizeStyleData(parentNode.data))) {\n      extend(res, styleData);\n    }\n  }\n  return res\n}\n\n/*  */\n\nvar cssVarRE = /^--/;\nvar importantRE = /\\s*!important$/;\nvar setProp = function (el, name, val) {\n  /* istanbul ignore if */\n  if (cssVarRE.test(name)) {\n    el.style.setProperty(name, val);\n  } else if (importantRE.test(val)) {\n    el.style.setProperty(hyphenate(name), val.replace(importantRE, ''), 'important');\n  } else {\n    var normalizedName = normalize(name);\n    if (Array.isArray(val)) {\n      // Support values array created by autoprefixer, e.g.\n      // {display: [\"-webkit-box\", \"-ms-flexbox\", \"flex\"]}\n      // Set them one by one, and the browser will only set those it can recognize\n      for (var i = 0, len = val.length; i < len; i++) {\n        el.style[normalizedName] = val[i];\n      }\n    } else {\n      el.style[normalizedName] = val;\n    }\n  }\n};\n\nvar vendorNames = ['Webkit', 'Moz', 'ms'];\n\nvar emptyStyle;\nvar normalize = cached(function (prop) {\n  emptyStyle = emptyStyle || document.createElement('div').style;\n  prop = camelize(prop);\n  if (prop !== 'filter' && (prop in emptyStyle)) {\n    return prop\n  }\n  var capName = prop.charAt(0).toUpperCase() + prop.slice(1);\n  for (var i = 0; i < vendorNames.length; i++) {\n    var name = vendorNames[i] + capName;\n    if (name in emptyStyle) {\n      return name\n    }\n  }\n});\n\nfunction updateStyle (oldVnode, vnode) {\n  var data = vnode.data;\n  var oldData = oldVnode.data;\n\n  if (isUndef(data.staticStyle) && isUndef(data.style) &&\n    isUndef(oldData.staticStyle) && isUndef(oldData.style)\n  ) {\n    return\n  }\n\n  var cur, name;\n  var el = vnode.elm;\n  var oldStaticStyle = oldData.staticStyle;\n  var oldStyleBinding = oldData.normalizedStyle || oldData.style || {};\n\n  // if static style exists, stylebinding already merged into it when doing normalizeStyleData\n  var oldStyle = oldStaticStyle || oldStyleBinding;\n\n  var style = normalizeStyleBinding(vnode.data.style) || {};\n\n  // store normalized style under a different key for next diff\n  // make sure to clone it if it's reactive, since the user likely wants\n  // to mutate it.\n  vnode.data.normalizedStyle = isDef(style.__ob__)\n    ? extend({}, style)\n    : style;\n\n  var newStyle = getStyle(vnode, true);\n\n  for (name in oldStyle) {\n    if (isUndef(newStyle[name])) {\n      setProp(el, name, '');\n    }\n  }\n  for (name in newStyle) {\n    cur = newStyle[name];\n    if (cur !== oldStyle[name]) {\n      // ie9 setting to null has no effect, must use empty string\n      setProp(el, name, cur == null ? '' : cur);\n    }\n  }\n}\n\nvar style = {\n  create: updateStyle,\n  update: updateStyle\n};\n\n/*  */\n\nvar whitespaceRE = /\\s+/;\n\n/**\n * Add class with compatibility for SVG since classList is not supported on\n * SVG elements in IE\n */\nfunction addClass (el, cls) {\n  /* istanbul ignore if */\n  if (!cls || !(cls = cls.trim())) {\n    return\n  }\n\n  /* istanbul ignore else */\n  if (el.classList) {\n    if (cls.indexOf(' ') > -1) {\n      cls.split(whitespaceRE).forEach(function (c) { return el.classList.add(c); });\n    } else {\n      el.classList.add(cls);\n    }\n  } else {\n    var cur = \" \" + (el.getAttribute('class') || '') + \" \";\n    if (cur.indexOf(' ' + cls + ' ') < 0) {\n      el.setAttribute('class', (cur + cls).trim());\n    }\n  }\n}\n\n/**\n * Remove class with compatibility for SVG since classList is not supported on\n * SVG elements in IE\n */\nfunction removeClass (el, cls) {\n  /* istanbul ignore if */\n  if (!cls || !(cls = cls.trim())) {\n    return\n  }\n\n  /* istanbul ignore else */\n  if (el.classList) {\n    if (cls.indexOf(' ') > -1) {\n      cls.split(whitespaceRE).forEach(function (c) { return el.classList.remove(c); });\n    } else {\n      el.classList.remove(cls);\n    }\n    if (!el.classList.length) {\n      el.removeAttribute('class');\n    }\n  } else {\n    var cur = \" \" + (el.getAttribute('class') || '') + \" \";\n    var tar = ' ' + cls + ' ';\n    while (cur.indexOf(tar) >= 0) {\n      cur = cur.replace(tar, ' ');\n    }\n    cur = cur.trim();\n    if (cur) {\n      el.setAttribute('class', cur);\n    } else {\n      el.removeAttribute('class');\n    }\n  }\n}\n\n/*  */\n\nfunction resolveTransition (def$$1) {\n  if (!def$$1) {\n    return\n  }\n  /* istanbul ignore else */\n  if (typeof def$$1 === 'object') {\n    var res = {};\n    if (def$$1.css !== false) {\n      extend(res, autoCssTransition(def$$1.name || 'v'));\n    }\n    extend(res, def$$1);\n    return res\n  } else if (typeof def$$1 === 'string') {\n    return autoCssTransition(def$$1)\n  }\n}\n\nvar autoCssTransition = cached(function (name) {\n  return {\n    enterClass: (name + \"-enter\"),\n    enterToClass: (name + \"-enter-to\"),\n    enterActiveClass: (name + \"-enter-active\"),\n    leaveClass: (name + \"-leave\"),\n    leaveToClass: (name + \"-leave-to\"),\n    leaveActiveClass: (name + \"-leave-active\")\n  }\n});\n\nvar hasTransition = inBrowser && !isIE9;\nvar TRANSITION = 'transition';\nvar ANIMATION = 'animation';\n\n// Transition property/event sniffing\nvar transitionProp = 'transition';\nvar transitionEndEvent = 'transitionend';\nvar animationProp = 'animation';\nvar animationEndEvent = 'animationend';\nif (hasTransition) {\n  /* istanbul ignore if */\n  if (window.ontransitionend === undefined &&\n    window.onwebkittransitionend !== undefined\n  ) {\n    transitionProp = 'WebkitTransition';\n    transitionEndEvent = 'webkitTransitionEnd';\n  }\n  if (window.onanimationend === undefined &&\n    window.onwebkitanimationend !== undefined\n  ) {\n    animationProp = 'WebkitAnimation';\n    animationEndEvent = 'webkitAnimationEnd';\n  }\n}\n\n// binding to window is necessary to make hot reload work in IE in strict mode\nvar raf = inBrowser\n  ? window.requestAnimationFrame\n    ? window.requestAnimationFrame.bind(window)\n    : setTimeout\n  : /* istanbul ignore next */ function (fn) { return fn(); };\n\nfunction nextFrame (fn) {\n  raf(function () {\n    raf(fn);\n  });\n}\n\nfunction addTransitionClass (el, cls) {\n  var transitionClasses = el._transitionClasses || (el._transitionClasses = []);\n  if (transitionClasses.indexOf(cls) < 0) {\n    transitionClasses.push(cls);\n    addClass(el, cls);\n  }\n}\n\nfunction removeTransitionClass (el, cls) {\n  if (el._transitionClasses) {\n    remove(el._transitionClasses, cls);\n  }\n  removeClass(el, cls);\n}\n\nfunction whenTransitionEnds (\n  el,\n  expectedType,\n  cb\n) {\n  var ref = getTransitionInfo(el, expectedType);\n  var type = ref.type;\n  var timeout = ref.timeout;\n  var propCount = ref.propCount;\n  if (!type) { return cb() }\n  var event = type === TRANSITION ? transitionEndEvent : animationEndEvent;\n  var ended = 0;\n  var end = function () {\n    el.removeEventListener(event, onEnd);\n    cb();\n  };\n  var onEnd = function (e) {\n    if (e.target === el) {\n      if (++ended >= propCount) {\n        end();\n      }\n    }\n  };\n  setTimeout(function () {\n    if (ended < propCount) {\n      end();\n    }\n  }, timeout + 1);\n  el.addEventListener(event, onEnd);\n}\n\nvar transformRE = /\\b(transform|all)(,|$)/;\n\nfunction getTransitionInfo (el, expectedType) {\n  var styles = window.getComputedStyle(el);\n  // JSDOM may return undefined for transition properties\n  var transitionDelays = (styles[transitionProp + 'Delay'] || '').split(', ');\n  var transitionDurations = (styles[transitionProp + 'Duration'] || '').split(', ');\n  var transitionTimeout = getTimeout(transitionDelays, transitionDurations);\n  var animationDelays = (styles[animationProp + 'Delay'] || '').split(', ');\n  var animationDurations = (styles[animationProp + 'Duration'] || '').split(', ');\n  var animationTimeout = getTimeout(animationDelays, animationDurations);\n\n  var type;\n  var timeout = 0;\n  var propCount = 0;\n  /* istanbul ignore if */\n  if (expectedType === TRANSITION) {\n    if (transitionTimeout > 0) {\n      type = TRANSITION;\n      timeout = transitionTimeout;\n      propCount = transitionDurations.length;\n    }\n  } else if (expectedType === ANIMATION) {\n    if (animationTimeout > 0) {\n      type = ANIMATION;\n      timeout = animationTimeout;\n      propCount = animationDurations.length;\n    }\n  } else {\n    timeout = Math.max(transitionTimeout, animationTimeout);\n    type = timeout > 0\n      ? transitionTimeout > animationTimeout\n        ? TRANSITION\n        : ANIMATION\n      : null;\n    propCount = type\n      ? type === TRANSITION\n        ? transitionDurations.length\n        : animationDurations.length\n      : 0;\n  }\n  var hasTransform =\n    type === TRANSITION &&\n    transformRE.test(styles[transitionProp + 'Property']);\n  return {\n    type: type,\n    timeout: timeout,\n    propCount: propCount,\n    hasTransform: hasTransform\n  }\n}\n\nfunction getTimeout (delays, durations) {\n  /* istanbul ignore next */\n  while (delays.length < durations.length) {\n    delays = delays.concat(delays);\n  }\n\n  return Math.max.apply(null, durations.map(function (d, i) {\n    return toMs(d) + toMs(delays[i])\n  }))\n}\n\n// Old versions of Chromium (below 61.0.3163.100) formats floating pointer numbers\n// in a locale-dependent way, using a comma instead of a dot.\n// If comma is not replaced with a dot, the input will be rounded down (i.e. acting\n// as a floor function) causing unexpected behaviors\nfunction toMs (s) {\n  return Number(s.slice(0, -1).replace(',', '.')) * 1000\n}\n\n/*  */\n\nfunction enter (vnode, toggleDisplay) {\n  var el = vnode.elm;\n\n  // call leave callback now\n  if (isDef(el._leaveCb)) {\n    el._leaveCb.cancelled = true;\n    el._leaveCb();\n  }\n\n  var data = resolveTransition(vnode.data.transition);\n  if (isUndef(data)) {\n    return\n  }\n\n  /* istanbul ignore if */\n  if (isDef(el._enterCb) || el.nodeType !== 1) {\n    return\n  }\n\n  var css = data.css;\n  var type = data.type;\n  var enterClass = data.enterClass;\n  var enterToClass = data.enterToClass;\n  var enterActiveClass = data.enterActiveClass;\n  var appearClass = data.appearClass;\n  var appearToClass = data.appearToClass;\n  var appearActiveClass = data.appearActiveClass;\n  var beforeEnter = data.beforeEnter;\n  var enter = data.enter;\n  var afterEnter = data.afterEnter;\n  var enterCancelled = data.enterCancelled;\n  var beforeAppear = data.beforeAppear;\n  var appear = data.appear;\n  var afterAppear = data.afterAppear;\n  var appearCancelled = data.appearCancelled;\n  var duration = data.duration;\n\n  // activeInstance will always be the <transition> component managing this\n  // transition. One edge case to check is when the <transition> is placed\n  // as the root node of a child component. In that case we need to check\n  // <transition>'s parent for appear check.\n  var context = activeInstance;\n  var transitionNode = activeInstance.$vnode;\n  while (transitionNode && transitionNode.parent) {\n    context = transitionNode.context;\n    transitionNode = transitionNode.parent;\n  }\n\n  var isAppear = !context._isMounted || !vnode.isRootInsert;\n\n  if (isAppear && !appear && appear !== '') {\n    return\n  }\n\n  var startClass = isAppear && appearClass\n    ? appearClass\n    : enterClass;\n  var activeClass = isAppear && appearActiveClass\n    ? appearActiveClass\n    : enterActiveClass;\n  var toClass = isAppear && appearToClass\n    ? appearToClass\n    : enterToClass;\n\n  var beforeEnterHook = isAppear\n    ? (beforeAppear || beforeEnter)\n    : beforeEnter;\n  var enterHook = isAppear\n    ? (typeof appear === 'function' ? appear : enter)\n    : enter;\n  var afterEnterHook = isAppear\n    ? (afterAppear || afterEnter)\n    : afterEnter;\n  var enterCancelledHook = isAppear\n    ? (appearCancelled || enterCancelled)\n    : enterCancelled;\n\n  var explicitEnterDuration = toNumber(\n    isObject(duration)\n      ? duration.enter\n      : duration\n  );\n\n  if (process.env.NODE_ENV !== 'production' && explicitEnterDuration != null) {\n    checkDuration(explicitEnterDuration, 'enter', vnode);\n  }\n\n  var expectsCSS = css !== false && !isIE9;\n  var userWantsControl = getHookArgumentsLength(enterHook);\n\n  var cb = el._enterCb = once(function () {\n    if (expectsCSS) {\n      removeTransitionClass(el, toClass);\n      removeTransitionClass(el, activeClass);\n    }\n    if (cb.cancelled) {\n      if (expectsCSS) {\n        removeTransitionClass(el, startClass);\n      }\n      enterCancelledHook && enterCancelledHook(el);\n    } else {\n      afterEnterHook && afterEnterHook(el);\n    }\n    el._enterCb = null;\n  });\n\n  if (!vnode.data.show) {\n    // remove pending leave element on enter by injecting an insert hook\n    mergeVNodeHook(vnode, 'insert', function () {\n      var parent = el.parentNode;\n      var pendingNode = parent && parent._pending && parent._pending[vnode.key];\n      if (pendingNode &&\n        pendingNode.tag === vnode.tag &&\n        pendingNode.elm._leaveCb\n      ) {\n        pendingNode.elm._leaveCb();\n      }\n      enterHook && enterHook(el, cb);\n    });\n  }\n\n  // start enter transition\n  beforeEnterHook && beforeEnterHook(el);\n  if (expectsCSS) {\n    addTransitionClass(el, startClass);\n    addTransitionClass(el, activeClass);\n    nextFrame(function () {\n      removeTransitionClass(el, startClass);\n      if (!cb.cancelled) {\n        addTransitionClass(el, toClass);\n        if (!userWantsControl) {\n          if (isValidDuration(explicitEnterDuration)) {\n            setTimeout(cb, explicitEnterDuration);\n          } else {\n            whenTransitionEnds(el, type, cb);\n          }\n        }\n      }\n    });\n  }\n\n  if (vnode.data.show) {\n    toggleDisplay && toggleDisplay();\n    enterHook && enterHook(el, cb);\n  }\n\n  if (!expectsCSS && !userWantsControl) {\n    cb();\n  }\n}\n\nfunction leave (vnode, rm) {\n  var el = vnode.elm;\n\n  // call enter callback now\n  if (isDef(el._enterCb)) {\n    el._enterCb.cancelled = true;\n    el._enterCb();\n  }\n\n  var data = resolveTransition(vnode.data.transition);\n  if (isUndef(data) || el.nodeType !== 1) {\n    return rm()\n  }\n\n  /* istanbul ignore if */\n  if (isDef(el._leaveCb)) {\n    return\n  }\n\n  var css = data.css;\n  var type = data.type;\n  var leaveClass = data.leaveClass;\n  var leaveToClass = data.leaveToClass;\n  var leaveActiveClass = data.leaveActiveClass;\n  var beforeLeave = data.beforeLeave;\n  var leave = data.leave;\n  var afterLeave = data.afterLeave;\n  var leaveCancelled = data.leaveCancelled;\n  var delayLeave = data.delayLeave;\n  var duration = data.duration;\n\n  var expectsCSS = css !== false && !isIE9;\n  var userWantsControl = getHookArgumentsLength(leave);\n\n  var explicitLeaveDuration = toNumber(\n    isObject(duration)\n      ? duration.leave\n      : duration\n  );\n\n  if (process.env.NODE_ENV !== 'production' && isDef(explicitLeaveDuration)) {\n    checkDuration(explicitLeaveDuration, 'leave', vnode);\n  }\n\n  var cb = el._leaveCb = once(function () {\n    if (el.parentNode && el.parentNode._pending) {\n      el.parentNode._pending[vnode.key] = null;\n    }\n    if (expectsCSS) {\n      removeTransitionClass(el, leaveToClass);\n      removeTransitionClass(el, leaveActiveClass);\n    }\n    if (cb.cancelled) {\n      if (expectsCSS) {\n        removeTransitionClass(el, leaveClass);\n      }\n      leaveCancelled && leaveCancelled(el);\n    } else {\n      rm();\n      afterLeave && afterLeave(el);\n    }\n    el._leaveCb = null;\n  });\n\n  if (delayLeave) {\n    delayLeave(performLeave);\n  } else {\n    performLeave();\n  }\n\n  function performLeave () {\n    // the delayed leave may have already been cancelled\n    if (cb.cancelled) {\n      return\n    }\n    // record leaving element\n    if (!vnode.data.show && el.parentNode) {\n      (el.parentNode._pending || (el.parentNode._pending = {}))[(vnode.key)] = vnode;\n    }\n    beforeLeave && beforeLeave(el);\n    if (expectsCSS) {\n      addTransitionClass(el, leaveClass);\n      addTransitionClass(el, leaveActiveClass);\n      nextFrame(function () {\n        removeTransitionClass(el, leaveClass);\n        if (!cb.cancelled) {\n          addTransitionClass(el, leaveToClass);\n          if (!userWantsControl) {\n            if (isValidDuration(explicitLeaveDuration)) {\n              setTimeout(cb, explicitLeaveDuration);\n            } else {\n              whenTransitionEnds(el, type, cb);\n            }\n          }\n        }\n      });\n    }\n    leave && leave(el, cb);\n    if (!expectsCSS && !userWantsControl) {\n      cb();\n    }\n  }\n}\n\n// only used in dev mode\nfunction checkDuration (val, name, vnode) {\n  if (typeof val !== 'number') {\n    warn(\n      \"<transition> explicit \" + name + \" duration is not a valid number - \" +\n      \"got \" + (JSON.stringify(val)) + \".\",\n      vnode.context\n    );\n  } else if (isNaN(val)) {\n    warn(\n      \"<transition> explicit \" + name + \" duration is NaN - \" +\n      'the duration expression might be incorrect.',\n      vnode.context\n    );\n  }\n}\n\nfunction isValidDuration (val) {\n  return typeof val === 'number' && !isNaN(val)\n}\n\n/**\n * Normalize a transition hook's argument length. The hook may be:\n * - a merged hook (invoker) with the original in .fns\n * - a wrapped component method (check ._length)\n * - a plain function (.length)\n */\nfunction getHookArgumentsLength (fn) {\n  if (isUndef(fn)) {\n    return false\n  }\n  var invokerFns = fn.fns;\n  if (isDef(invokerFns)) {\n    // invoker\n    return getHookArgumentsLength(\n      Array.isArray(invokerFns)\n        ? invokerFns[0]\n        : invokerFns\n    )\n  } else {\n    return (fn._length || fn.length) > 1\n  }\n}\n\nfunction _enter (_, vnode) {\n  if (vnode.data.show !== true) {\n    enter(vnode);\n  }\n}\n\nvar transition = inBrowser ? {\n  create: _enter,\n  activate: _enter,\n  remove: function remove$$1 (vnode, rm) {\n    /* istanbul ignore else */\n    if (vnode.data.show !== true) {\n      leave(vnode, rm);\n    } else {\n      rm();\n    }\n  }\n} : {};\n\nvar platformModules = [\n  attrs,\n  klass,\n  events,\n  domProps,\n  style,\n  transition\n];\n\n/*  */\n\n// the directive module should be applied last, after all\n// built-in modules have been applied.\nvar modules = platformModules.concat(baseModules);\n\nvar patch = createPatchFunction({ nodeOps: nodeOps, modules: modules });\n\n/**\n * Not type checking this file because flow doesn't like attaching\n * properties to Elements.\n */\n\n/* istanbul ignore if */\nif (isIE9) {\n  // http://www.matts411.com/post/internet-explorer-9-oninput/\n  document.addEventListener('selectionchange', function () {\n    var el = document.activeElement;\n    if (el && el.vmodel) {\n      trigger(el, 'input');\n    }\n  });\n}\n\nvar directive = {\n  inserted: function inserted (el, binding, vnode, oldVnode) {\n    if (vnode.tag === 'select') {\n      // #6903\n      if (oldVnode.elm && !oldVnode.elm._vOptions) {\n        mergeVNodeHook(vnode, 'postpatch', function () {\n          directive.componentUpdated(el, binding, vnode);\n        });\n      } else {\n        setSelected(el, binding, vnode.context);\n      }\n      el._vOptions = [].map.call(el.options, getValue);\n    } else if (vnode.tag === 'textarea' || isTextInputType(el.type)) {\n      el._vModifiers = binding.modifiers;\n      if (!binding.modifiers.lazy) {\n        el.addEventListener('compositionstart', onCompositionStart);\n        el.addEventListener('compositionend', onCompositionEnd);\n        // Safari < 10.2 & UIWebView doesn't fire compositionend when\n        // switching focus before confirming composition choice\n        // this also fixes the issue where some browsers e.g. iOS Chrome\n        // fires \"change\" instead of \"input\" on autocomplete.\n        el.addEventListener('change', onCompositionEnd);\n        /* istanbul ignore if */\n        if (isIE9) {\n          el.vmodel = true;\n        }\n      }\n    }\n  },\n\n  componentUpdated: function componentUpdated (el, binding, vnode) {\n    if (vnode.tag === 'select') {\n      setSelected(el, binding, vnode.context);\n      // in case the options rendered by v-for have changed,\n      // it's possible that the value is out-of-sync with the rendered options.\n      // detect such cases and filter out values that no longer has a matching\n      // option in the DOM.\n      var prevOptions = el._vOptions;\n      var curOptions = el._vOptions = [].map.call(el.options, getValue);\n      if (curOptions.some(function (o, i) { return !looseEqual(o, prevOptions[i]); })) {\n        // trigger change event if\n        // no matching option found for at least one value\n        var needReset = el.multiple\n          ? binding.value.some(function (v) { return hasNoMatchingOption(v, curOptions); })\n          : binding.value !== binding.oldValue && hasNoMatchingOption(binding.value, curOptions);\n        if (needReset) {\n          trigger(el, 'change');\n        }\n      }\n    }\n  }\n};\n\nfunction setSelected (el, binding, vm) {\n  actuallySetSelected(el, binding, vm);\n  /* istanbul ignore if */\n  if (isIE || isEdge) {\n    setTimeout(function () {\n      actuallySetSelected(el, binding, vm);\n    }, 0);\n  }\n}\n\nfunction actuallySetSelected (el, binding, vm) {\n  var value = binding.value;\n  var isMultiple = el.multiple;\n  if (isMultiple && !Array.isArray(value)) {\n    process.env.NODE_ENV !== 'production' && warn(\n      \"<select multiple v-model=\\\"\" + (binding.expression) + \"\\\"> \" +\n      \"expects an Array value for its binding, but got \" + (Object.prototype.toString.call(value).slice(8, -1)),\n      vm\n    );\n    return\n  }\n  var selected, option;\n  for (var i = 0, l = el.options.length; i < l; i++) {\n    option = el.options[i];\n    if (isMultiple) {\n      selected = looseIndexOf(value, getValue(option)) > -1;\n      if (option.selected !== selected) {\n        option.selected = selected;\n      }\n    } else {\n      if (looseEqual(getValue(option), value)) {\n        if (el.selectedIndex !== i) {\n          el.selectedIndex = i;\n        }\n        return\n      }\n    }\n  }\n  if (!isMultiple) {\n    el.selectedIndex = -1;\n  }\n}\n\nfunction hasNoMatchingOption (value, options) {\n  return options.every(function (o) { return !looseEqual(o, value); })\n}\n\nfunction getValue (option) {\n  return '_value' in option\n    ? option._value\n    : option.value\n}\n\nfunction onCompositionStart (e) {\n  e.target.composing = true;\n}\n\nfunction onCompositionEnd (e) {\n  // prevent triggering an input event for no reason\n  if (!e.target.composing) { return }\n  e.target.composing = false;\n  trigger(e.target, 'input');\n}\n\nfunction trigger (el, type) {\n  var e = document.createEvent('HTMLEvents');\n  e.initEvent(type, true, true);\n  el.dispatchEvent(e);\n}\n\n/*  */\n\n// recursively search for possible transition defined inside the component root\nfunction locateNode (vnode) {\n  return vnode.componentInstance && (!vnode.data || !vnode.data.transition)\n    ? locateNode(vnode.componentInstance._vnode)\n    : vnode\n}\n\nvar show = {\n  bind: function bind (el, ref, vnode) {\n    var value = ref.value;\n\n    vnode = locateNode(vnode);\n    var transition$$1 = vnode.data && vnode.data.transition;\n    var originalDisplay = el.__vOriginalDisplay =\n      el.style.display === 'none' ? '' : el.style.display;\n    if (value && transition$$1) {\n      vnode.data.show = true;\n      enter(vnode, function () {\n        el.style.display = originalDisplay;\n      });\n    } else {\n      el.style.display = value ? originalDisplay : 'none';\n    }\n  },\n\n  update: function update (el, ref, vnode) {\n    var value = ref.value;\n    var oldValue = ref.oldValue;\n\n    /* istanbul ignore if */\n    if (!value === !oldValue) { return }\n    vnode = locateNode(vnode);\n    var transition$$1 = vnode.data && vnode.data.transition;\n    if (transition$$1) {\n      vnode.data.show = true;\n      if (value) {\n        enter(vnode, function () {\n          el.style.display = el.__vOriginalDisplay;\n        });\n      } else {\n        leave(vnode, function () {\n          el.style.display = 'none';\n        });\n      }\n    } else {\n      el.style.display = value ? el.__vOriginalDisplay : 'none';\n    }\n  },\n\n  unbind: function unbind (\n    el,\n    binding,\n    vnode,\n    oldVnode,\n    isDestroy\n  ) {\n    if (!isDestroy) {\n      el.style.display = el.__vOriginalDisplay;\n    }\n  }\n};\n\nvar platformDirectives = {\n  model: directive,\n  show: show\n};\n\n/*  */\n\nvar transitionProps = {\n  name: String,\n  appear: Boolean,\n  css: Boolean,\n  mode: String,\n  type: String,\n  enterClass: String,\n  leaveClass: String,\n  enterToClass: String,\n  leaveToClass: String,\n  enterActiveClass: String,\n  leaveActiveClass: String,\n  appearClass: String,\n  appearActiveClass: String,\n  appearToClass: String,\n  duration: [Number, String, Object]\n};\n\n// in case the child is also an abstract component, e.g. <keep-alive>\n// we want to recursively retrieve the real component to be rendered\nfunction getRealChild (vnode) {\n  var compOptions = vnode && vnode.componentOptions;\n  if (compOptions && compOptions.Ctor.options.abstract) {\n    return getRealChild(getFirstComponentChild(compOptions.children))\n  } else {\n    return vnode\n  }\n}\n\nfunction extractTransitionData (comp) {\n  var data = {};\n  var options = comp.$options;\n  // props\n  for (var key in options.propsData) {\n    data[key] = comp[key];\n  }\n  // events.\n  // extract listeners and pass them directly to the transition methods\n  var listeners = options._parentListeners;\n  for (var key$1 in listeners) {\n    data[camelize(key$1)] = listeners[key$1];\n  }\n  return data\n}\n\nfunction placeholder (h, rawChild) {\n  if (/\\d-keep-alive$/.test(rawChild.tag)) {\n    return h('keep-alive', {\n      props: rawChild.componentOptions.propsData\n    })\n  }\n}\n\nfunction hasParentTransition (vnode) {\n  while ((vnode = vnode.parent)) {\n    if (vnode.data.transition) {\n      return true\n    }\n  }\n}\n\nfunction isSameChild (child, oldChild) {\n  return oldChild.key === child.key && oldChild.tag === child.tag\n}\n\nvar isNotTextNode = function (c) { return c.tag || isAsyncPlaceholder(c); };\n\nvar isVShowDirective = function (d) { return d.name === 'show'; };\n\nvar Transition = {\n  name: 'transition',\n  props: transitionProps,\n  abstract: true,\n\n  render: function render (h) {\n    var this$1 = this;\n\n    var children = this.$slots.default;\n    if (!children) {\n      return\n    }\n\n    // filter out text nodes (possible whitespaces)\n    children = children.filter(isNotTextNode);\n    /* istanbul ignore if */\n    if (!children.length) {\n      return\n    }\n\n    // warn multiple elements\n    if (process.env.NODE_ENV !== 'production' && children.length > 1) {\n      warn(\n        '<transition> can only be used on a single element. Use ' +\n        '<transition-group> for lists.',\n        this.$parent\n      );\n    }\n\n    var mode = this.mode;\n\n    // warn invalid mode\n    if (process.env.NODE_ENV !== 'production' &&\n      mode && mode !== 'in-out' && mode !== 'out-in'\n    ) {\n      warn(\n        'invalid <transition> mode: ' + mode,\n        this.$parent\n      );\n    }\n\n    var rawChild = children[0];\n\n    // if this is a component root node and the component's\n    // parent container node also has transition, skip.\n    if (hasParentTransition(this.$vnode)) {\n      return rawChild\n    }\n\n    // apply transition data to child\n    // use getRealChild() to ignore abstract components e.g. keep-alive\n    var child = getRealChild(rawChild);\n    /* istanbul ignore if */\n    if (!child) {\n      return rawChild\n    }\n\n    if (this._leaving) {\n      return placeholder(h, rawChild)\n    }\n\n    // ensure a key that is unique to the vnode type and to this transition\n    // component instance. This key will be used to remove pending leaving nodes\n    // during entering.\n    var id = \"__transition-\" + (this._uid) + \"-\";\n    child.key = child.key == null\n      ? child.isComment\n        ? id + 'comment'\n        : id + child.tag\n      : isPrimitive(child.key)\n        ? (String(child.key).indexOf(id) === 0 ? child.key : id + child.key)\n        : child.key;\n\n    var data = (child.data || (child.data = {})).transition = extractTransitionData(this);\n    var oldRawChild = this._vnode;\n    var oldChild = getRealChild(oldRawChild);\n\n    // mark v-show\n    // so that the transition module can hand over the control to the directive\n    if (child.data.directives && child.data.directives.some(isVShowDirective)) {\n      child.data.show = true;\n    }\n\n    if (\n      oldChild &&\n      oldChild.data &&\n      !isSameChild(child, oldChild) &&\n      !isAsyncPlaceholder(oldChild) &&\n      // #6687 component root is a comment node\n      !(oldChild.componentInstance && oldChild.componentInstance._vnode.isComment)\n    ) {\n      // replace old child transition data with fresh one\n      // important for dynamic transitions!\n      var oldData = oldChild.data.transition = extend({}, data);\n      // handle transition mode\n      if (mode === 'out-in') {\n        // return placeholder node and queue update when leave finishes\n        this._leaving = true;\n        mergeVNodeHook(oldData, 'afterLeave', function () {\n          this$1._leaving = false;\n          this$1.$forceUpdate();\n        });\n        return placeholder(h, rawChild)\n      } else if (mode === 'in-out') {\n        if (isAsyncPlaceholder(child)) {\n          return oldRawChild\n        }\n        var delayedLeave;\n        var performLeave = function () { delayedLeave(); };\n        mergeVNodeHook(data, 'afterEnter', performLeave);\n        mergeVNodeHook(data, 'enterCancelled', performLeave);\n        mergeVNodeHook(oldData, 'delayLeave', function (leave) { delayedLeave = leave; });\n      }\n    }\n\n    return rawChild\n  }\n};\n\n/*  */\n\nvar props = extend({\n  tag: String,\n  moveClass: String\n}, transitionProps);\n\ndelete props.mode;\n\nvar TransitionGroup = {\n  props: props,\n\n  beforeMount: function beforeMount () {\n    var this$1 = this;\n\n    var update = this._update;\n    this._update = function (vnode, hydrating) {\n      var restoreActiveInstance = setActiveInstance(this$1);\n      // force removing pass\n      this$1.__patch__(\n        this$1._vnode,\n        this$1.kept,\n        false, // hydrating\n        true // removeOnly (!important, avoids unnecessary moves)\n      );\n      this$1._vnode = this$1.kept;\n      restoreActiveInstance();\n      update.call(this$1, vnode, hydrating);\n    };\n  },\n\n  render: function render (h) {\n    var tag = this.tag || this.$vnode.data.tag || 'span';\n    var map = Object.create(null);\n    var prevChildren = this.prevChildren = this.children;\n    var rawChildren = this.$slots.default || [];\n    var children = this.children = [];\n    var transitionData = extractTransitionData(this);\n\n    for (var i = 0; i < rawChildren.length; i++) {\n      var c = rawChildren[i];\n      if (c.tag) {\n        if (c.key != null && String(c.key).indexOf('__vlist') !== 0) {\n          children.push(c);\n          map[c.key] = c\n          ;(c.data || (c.data = {})).transition = transitionData;\n        } else if (process.env.NODE_ENV !== 'production') {\n          var opts = c.componentOptions;\n          var name = opts ? (opts.Ctor.options.name || opts.tag || '') : c.tag;\n          warn((\"<transition-group> children must be keyed: <\" + name + \">\"));\n        }\n      }\n    }\n\n    if (prevChildren) {\n      var kept = [];\n      var removed = [];\n      for (var i$1 = 0; i$1 < prevChildren.length; i$1++) {\n        var c$1 = prevChildren[i$1];\n        c$1.data.transition = transitionData;\n        c$1.data.pos = c$1.elm.getBoundingClientRect();\n        if (map[c$1.key]) {\n          kept.push(c$1);\n        } else {\n          removed.push(c$1);\n        }\n      }\n      this.kept = h(tag, null, kept);\n      this.removed = removed;\n    }\n\n    return h(tag, null, children)\n  },\n\n  updated: function updated () {\n    var children = this.prevChildren;\n    var moveClass = this.moveClass || ((this.name || 'v') + '-move');\n    if (!children.length || !this.hasMove(children[0].elm, moveClass)) {\n      return\n    }\n\n    // we divide the work into three loops to avoid mixing DOM reads and writes\n    // in each iteration - which helps prevent layout thrashing.\n    children.forEach(callPendingCbs);\n    children.forEach(recordPosition);\n    children.forEach(applyTranslation);\n\n    // force reflow to put everything in position\n    // assign to this to avoid being removed in tree-shaking\n    // $flow-disable-line\n    this._reflow = document.body.offsetHeight;\n\n    children.forEach(function (c) {\n      if (c.data.moved) {\n        var el = c.elm;\n        var s = el.style;\n        addTransitionClass(el, moveClass);\n        s.transform = s.WebkitTransform = s.transitionDuration = '';\n        el.addEventListener(transitionEndEvent, el._moveCb = function cb (e) {\n          if (e && e.target !== el) {\n            return\n          }\n          if (!e || /transform$/.test(e.propertyName)) {\n            el.removeEventListener(transitionEndEvent, cb);\n            el._moveCb = null;\n            removeTransitionClass(el, moveClass);\n          }\n        });\n      }\n    });\n  },\n\n  methods: {\n    hasMove: function hasMove (el, moveClass) {\n      /* istanbul ignore if */\n      if (!hasTransition) {\n        return false\n      }\n      /* istanbul ignore if */\n      if (this._hasMove) {\n        return this._hasMove\n      }\n      // Detect whether an element with the move class applied has\n      // CSS transitions. Since the element may be inside an entering\n      // transition at this very moment, we make a clone of it and remove\n      // all other transition classes applied to ensure only the move class\n      // is applied.\n      var clone = el.cloneNode();\n      if (el._transitionClasses) {\n        el._transitionClasses.forEach(function (cls) { removeClass(clone, cls); });\n      }\n      addClass(clone, moveClass);\n      clone.style.display = 'none';\n      this.$el.appendChild(clone);\n      var info = getTransitionInfo(clone);\n      this.$el.removeChild(clone);\n      return (this._hasMove = info.hasTransform)\n    }\n  }\n};\n\nfunction callPendingCbs (c) {\n  /* istanbul ignore if */\n  if (c.elm._moveCb) {\n    c.elm._moveCb();\n  }\n  /* istanbul ignore if */\n  if (c.elm._enterCb) {\n    c.elm._enterCb();\n  }\n}\n\nfunction recordPosition (c) {\n  c.data.newPos = c.elm.getBoundingClientRect();\n}\n\nfunction applyTranslation (c) {\n  var oldPos = c.data.pos;\n  var newPos = c.data.newPos;\n  var dx = oldPos.left - newPos.left;\n  var dy = oldPos.top - newPos.top;\n  if (dx || dy) {\n    c.data.moved = true;\n    var s = c.elm.style;\n    s.transform = s.WebkitTransform = \"translate(\" + dx + \"px,\" + dy + \"px)\";\n    s.transitionDuration = '0s';\n  }\n}\n\nvar platformComponents = {\n  Transition: Transition,\n  TransitionGroup: TransitionGroup\n};\n\n/*  */\n\n// install platform specific utils\nVue.config.mustUseProp = mustUseProp;\nVue.config.isReservedTag = isReservedTag;\nVue.config.isReservedAttr = isReservedAttr;\nVue.config.getTagNamespace = getTagNamespace;\nVue.config.isUnknownElement = isUnknownElement;\n\n// install platform runtime directives & components\nextend(Vue.options.directives, platformDirectives);\nextend(Vue.options.components, platformComponents);\n\n// install platform patch function\nVue.prototype.__patch__ = inBrowser ? patch : noop;\n\n// public mount method\nVue.prototype.$mount = function (\n  el,\n  hydrating\n) {\n  el = el && inBrowser ? query(el) : undefined;\n  return mountComponent(this, el, hydrating)\n};\n\n// devtools global hook\n/* istanbul ignore next */\nif (inBrowser) {\n  setTimeout(function () {\n    if (config.devtools) {\n      if (devtools) {\n        devtools.emit('init', Vue);\n      } else if (\n        process.env.NODE_ENV !== 'production' &&\n        process.env.NODE_ENV !== 'test'\n      ) {\n        console[console.info ? 'info' : 'log'](\n          'Download the Vue Devtools extension for a better development experience:\\n' +\n          'https://github.com/vuejs/vue-devtools'\n        );\n      }\n    }\n    if (process.env.NODE_ENV !== 'production' &&\n      process.env.NODE_ENV !== 'test' &&\n      config.productionTip !== false &&\n      typeof console !== 'undefined'\n    ) {\n      console[console.info ? 'info' : 'log'](\n        \"You are running Vue in development mode.\\n\" +\n        \"Make sure to turn on production mode when deploying for production.\\n\" +\n        \"See more tips at https://vuejs.org/guide/deployment.html\"\n      );\n    }\n  }, 0);\n}\n\n/*  */\n\nexport default Vue;\n","'use strict';\n\nvar events = require('events');\nvar inherits = require('../functions/inherits');\n\n/**\n * A DerivedHelper is a way to create sub requests to\n * Algolia from a main helper.\n * @class\n * @classdesc The DerivedHelper provides an event based interface for search callbacks:\n *  - search: when a search is triggered using the `search()` method.\n *  - result: when the response is retrieved from Algolia and is processed.\n *    This event contains a {@link SearchResults} object and the\n *    {@link SearchParameters} corresponding to this answer.\n */\nfunction DerivedHelper(mainHelper, fn) {\n  this.main = mainHelper;\n  this.fn = fn;\n  this.lastResults = null;\n}\n\ninherits(DerivedHelper, events.EventEmitter);\n\n/**\n * Detach this helper from the main helper\n * @return {undefined}\n * @throws Error if the derived helper is already detached\n */\nDerivedHelper.prototype.detach = function() {\n  this.removeAllListeners();\n  this.main.detachDerivedHelper(this);\n};\n\nDerivedHelper.prototype.getModifiedState = function(parameters) {\n  return this.fn(parameters);\n};\n\nmodule.exports = DerivedHelper;\n","var global = require('../internals/global');\nvar fails = require('../internals/fails');\nvar bind = require('../internals/function-bind-context');\nvar html = require('../internals/html');\nvar createElement = require('../internals/document-create-element');\nvar IS_IOS = require('../internals/engine-is-ios');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar location = global.location;\nvar set = global.setImmediate;\nvar clear = global.clearImmediate;\nvar process = global.process;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\n\nvar run = function (id) {\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\n\nvar runner = function (id) {\n  return function () {\n    run(id);\n  };\n};\n\nvar listener = function (event) {\n  run(event.data);\n};\n\nvar post = function (id) {\n  // old engines have not location.origin\n  global.postMessage(id + '', location.protocol + '//' + location.host);\n};\n\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!set || !clear) {\n  set = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func -- spec requirement\n      (typeof fn == 'function' ? fn : Function(fn)).apply(undefined, args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clear = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (IS_NODE) {\n    defer = function (id) {\n      process.nextTick(runner(id));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(runner(id));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  // except iOS - https://github.com/zloirock/core-js/issues/624\n  } else if (MessageChannel && !IS_IOS) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = bind(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (\n    global.addEventListener &&\n    typeof postMessage == 'function' &&\n    !global.importScripts &&\n    location && location.protocol !== 'file:' &&\n    !fails(post)\n  ) {\n    defer = post;\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in createElement('script')) {\n    defer = function (id) {\n      html.appendChild(createElement('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(runner(id), 0);\n    };\n  }\n}\n\nmodule.exports = {\n  set: set,\n  clear: clear\n};\n","var global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  version = match[0] < 4 ? 1 : match[0] + match[1];\n} else if (userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = match[1];\n  }\n}\n\nmodule.exports = version && +version;\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","var classof = require('../internals/classof');\nvar Iterators = require('../internals/iterators');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.es/ecma262/#sec-object.defineproperties\n// eslint-disable-next-line es/no-object-defineproperties -- safe\nmodule.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], Properties[key]);\n  return O;\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it) && it !== null) {\n    throw TypeError(\"Can't set \" + String(it) + ' as a prototype');\n  } return it;\n};\n","module.exports = {};\n","'use strict';\n\nvar AlgoliaSearchHelper = require('./src/algoliasearch.helper');\n\nvar SearchParameters = require('./src/SearchParameters');\nvar SearchResults = require('./src/SearchResults');\n\n/**\n * The algoliasearchHelper module is the function that will let its\n * contains everything needed to use the Algoliasearch\n * Helper. It is a also a function that instanciate the helper.\n * To use the helper, you also need the Algolia JS client v3.\n * @example\n * //using the UMD build\n * var client = algoliasearch('latency', '6be0576ff61c053d5f9a3225e2a90f76');\n * var helper = algoliasearchHelper(client, 'bestbuy', {\n *   facets: ['shipping'],\n *   disjunctiveFacets: ['category']\n * });\n * helper.on('result', function(event) {\n *   console.log(event.results);\n * });\n * helper\n *   .toggleFacetRefinement('category', 'Movies & TV Shows')\n *   .toggleFacetRefinement('shipping', 'Free shipping')\n *   .search();\n * @example\n * // The helper is an event emitter using the node API\n * helper.on('result', updateTheResults);\n * helper.once('result', updateTheResults);\n * helper.removeListener('result', updateTheResults);\n * helper.removeAllListeners('result');\n * @module algoliasearchHelper\n * @param  {AlgoliaSearch} client an AlgoliaSearch client\n * @param  {string} index the name of the index to query\n * @param  {SearchParameters|object} opts an object defining the initial config of the search. It doesn't have to be a {SearchParameters}, just an object containing the properties you need from it.\n * @return {AlgoliaSearchHelper}\n */\nfunction algoliasearchHelper(client, index, opts) {\n  return new AlgoliaSearchHelper(client, index, opts);\n}\n\n/**\n * The version currently used\n * @member module:algoliasearchHelper.version\n * @type {number}\n */\nalgoliasearchHelper.version = require('./src/version.js');\n\n/**\n * Constructor for the Helper.\n * @member module:algoliasearchHelper.AlgoliaSearchHelper\n * @type {AlgoliaSearchHelper}\n */\nalgoliasearchHelper.AlgoliaSearchHelper = AlgoliaSearchHelper;\n\n/**\n * Constructor for the object containing all the parameters of the search.\n * @member module:algoliasearchHelper.SearchParameters\n * @type {SearchParameters}\n */\nalgoliasearchHelper.SearchParameters = SearchParameters;\n\n/**\n * Constructor for the object containing the results of the search.\n * @member module:algoliasearchHelper.SearchResults\n * @type {SearchResults}\n */\nalgoliasearchHelper.SearchResults = SearchResults;\n\nmodule.exports = algoliasearchHelper;\n","'use strict';\n\nvar utils = require('./utils');\nvar formats = require('./formats');\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) { // eslint-disable-line func-name-matching\n        return prefix + '[]';\n    },\n    indices: function indices(prefix, key) { // eslint-disable-line func-name-matching\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) { // eslint-disable-line func-name-matching\n        return prefix;\n    }\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaults = {\n    delimiter: '&',\n    encode: true,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    serializeDate: function serializeDate(date) { // eslint-disable-line func-name-matching\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar stringify = function stringify( // eslint-disable-line func-name-matching\n    object,\n    prefix,\n    generateArrayPrefix,\n    strictNullHandling,\n    skipNulls,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    formatter,\n    encodeValuesOnly\n) {\n    var obj = object;\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (typeof obj === 'string' || typeof obj === 'number' || typeof obj === 'boolean' || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder);\n            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (Array.isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        if (Array.isArray(obj)) {\n            values = values.concat(stringify(\n                obj[key],\n                generateArrayPrefix(prefix, key),\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter,\n                encodeValuesOnly\n            ));\n        } else {\n            values = values.concat(stringify(\n                obj[key],\n                prefix + (allowDots ? '.' + key : '[' + key + ']'),\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter,\n                encodeValuesOnly\n            ));\n        }\n    }\n\n    return values;\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = opts ? utils.assign({}, opts) : {};\n\n    if (options.encoder !== null && options.encoder !== undefined && typeof options.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var delimiter = typeof options.delimiter === 'undefined' ? defaults.delimiter : options.delimiter;\n    var strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : defaults.strictNullHandling;\n    var skipNulls = typeof options.skipNulls === 'boolean' ? options.skipNulls : defaults.skipNulls;\n    var encode = typeof options.encode === 'boolean' ? options.encode : defaults.encode;\n    var encoder = typeof options.encoder === 'function' ? options.encoder : defaults.encoder;\n    var sort = typeof options.sort === 'function' ? options.sort : null;\n    var allowDots = typeof options.allowDots === 'undefined' ? false : options.allowDots;\n    var serializeDate = typeof options.serializeDate === 'function' ? options.serializeDate : defaults.serializeDate;\n    var encodeValuesOnly = typeof options.encodeValuesOnly === 'boolean' ? options.encodeValuesOnly : defaults.encodeValuesOnly;\n    if (typeof options.format === 'undefined') {\n        options.format = formats['default'];\n    } else if (!Object.prototype.hasOwnProperty.call(formats.formatters, options.format)) {\n        throw new TypeError('Unknown format option provided.');\n    }\n    var formatter = formats.formatters[options.format];\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (Array.isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var arrayFormat;\n    if (options.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = options.arrayFormat;\n    } else if ('indices' in options) {\n        arrayFormat = options.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = 'indices';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (sort) {\n        objKeys.sort(sort);\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        keys = keys.concat(stringify(\n            obj[key],\n            key,\n            generateArrayPrefix,\n            strictNullHandling,\n            skipNulls,\n            encode ? encoder : null,\n            filter,\n            sort,\n            allowDots,\n            serializeDate,\n            formatter,\n            encodeValuesOnly\n        ));\n    }\n\n    var joined = keys.join(delimiter);\n    var prefix = options.addQueryPrefix === true ? '?' : '';\n\n    return joined.length > 0 ? prefix + joined : '';\n};\n","var global = require('../internals/global');\n\nmodule.exports = global;\n","'use strict';\n\nvar stringify = require('./stringify');\nvar parse = require('./parse');\nvar formats = require('./formats');\n\nmodule.exports = {\n    formats: formats,\n    parse: parse,\n    stringify: stringify\n};\n","var fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar definePropertyModule = require('../internals/object-define-property');\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  definePropertyModule.f(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","var global = require('../internals/global');\n\nmodule.exports = function (a, b) {\n  var console = global.console;\n  if (console && console.error) {\n    arguments.length === 1 ? console.error(a) : console.error(a, b);\n  }\n};\n","var anObject = require('../internals/an-object');\nvar aFunction = require('../internals/a-function');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `SpeciesConstructor` abstract operation\n// https://tc39.es/ecma262/#sec-speciesconstructor\nmodule.exports = function (O, defaultConstructor) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? defaultConstructor : aFunction(S);\n};\n","/* eslint-disable es/no-symbol -- required for testing */\nvar V8_VERSION = require('../internals/engine-v8-version');\nvar fails = require('../internals/fails');\n\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  return !String(Symbol()) ||\n    // Chrome 38 Symbol has incorrect toString conversion\n    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n    !Symbol.sham && V8_VERSION && V8_VERSION < 41;\n});\n","'use strict';\n\nvar merge = require('../functions/merge');\nvar defaultsPure = require('../functions/defaultsPure');\nvar intersection = require('../functions/intersection');\nvar find = require('../functions/find');\nvar valToNumber = require('../functions/valToNumber');\nvar omit = require('../functions/omit');\nvar objectHasKeys = require('../functions/objectHasKeys');\nvar isValidUserToken = require('../utils/isValidUserToken');\n\nvar RefinementList = require('./RefinementList');\n\n/**\n * isEqual, but only for numeric refinement values, possible values:\n * - 5\n * - [5]\n * - [[5]]\n * - [[5,5],[4]]\n */\nfunction isEqualNumericRefinement(a, b) {\n  if (Array.isArray(a) && Array.isArray(b)) {\n    return (\n      a.length === b.length &&\n      a.every(function(el, i) {\n        return isEqualNumericRefinement(b[i], el);\n      })\n    );\n  }\n  return a === b;\n}\n\n/**\n * like _.find but using deep equality to be able to use it\n * to find arrays.\n * @private\n * @param {any[]} array array to search into (elements are base or array of base)\n * @param {any} searchedValue the value we're looking for (base or array of base)\n * @return {any} the searched value or undefined\n */\nfunction findArray(array, searchedValue) {\n  return find(array, function(currentValue) {\n    return isEqualNumericRefinement(currentValue, searchedValue);\n  });\n}\n\n/**\n * The facet list is the structure used to store the list of values used to\n * filter a single attribute.\n * @typedef {string[]} SearchParameters.FacetList\n */\n\n/**\n * Structure to store numeric filters with the operator as the key. The supported operators\n * are `=`, `>`, `<`, `>=`, `<=` and `!=`.\n * @typedef {Object.<string, Array.<number|number[]>>} SearchParameters.OperatorList\n */\n\n/**\n * SearchParameters is the data structure that contains all the information\n * usable for making a search to Algolia API. It doesn't do the search itself,\n * nor does it contains logic about the parameters.\n * It is an immutable object, therefore it has been created in a way that each\n * changes does not change the object itself but returns a copy with the\n * modification.\n * This object should probably not be instantiated outside of the helper. It will\n * be provided when needed. This object is documented for reference as you'll\n * get it from events generated by the {@link AlgoliaSearchHelper}.\n * If need be, instantiate the Helper from the factory function {@link SearchParameters.make}\n * @constructor\n * @classdesc contains all the parameters of a search\n * @param {object|SearchParameters} newParameters existing parameters or partial object\n * for the properties of a new SearchParameters\n * @see SearchParameters.make\n * @example <caption>SearchParameters of the first query in\n *   <a href=\"http://demos.algolia.com/instant-search-demo/\">the instant search demo</a></caption>\n{\n   \"query\": \"\",\n   \"disjunctiveFacets\": [\n      \"customerReviewCount\",\n      \"category\",\n      \"salePrice_range\",\n      \"manufacturer\"\n  ],\n   \"maxValuesPerFacet\": 30,\n   \"page\": 0,\n   \"hitsPerPage\": 10,\n   \"facets\": [\n      \"type\",\n      \"shipping\"\n  ]\n}\n */\nfunction SearchParameters(newParameters) {\n  var params = newParameters ? SearchParameters._parseNumbers(newParameters) : {};\n\n  if (params.userToken !== undefined && !isValidUserToken(params.userToken)) {\n    console.warn('[algoliasearch-helper] The `userToken` parameter is invalid. This can lead to wrong analytics.\\n  - Format: [a-zA-Z0-9_-]{1,64}');\n  }\n  /**\n   * This attribute contains the list of all the conjunctive facets\n   * used. This list will be added to requested facets in the\n   * [facets attribute](https://www.algolia.com/doc/rest-api/search#param-facets) sent to algolia.\n   * @member {string[]}\n   */\n  this.facets = params.facets || [];\n  /**\n   * This attribute contains the list of all the disjunctive facets\n   * used. This list will be added to requested facets in the\n   * [facets attribute](https://www.algolia.com/doc/rest-api/search#param-facets) sent to algolia.\n   * @member {string[]}\n   */\n  this.disjunctiveFacets = params.disjunctiveFacets || [];\n  /**\n   * This attribute contains the list of all the hierarchical facets\n   * used. This list will be added to requested facets in the\n   * [facets attribute](https://www.algolia.com/doc/rest-api/search#param-facets) sent to algolia.\n   * Hierarchical facets are a sub type of disjunctive facets that\n   * let you filter faceted attributes hierarchically.\n   * @member {string[]|object[]}\n   */\n  this.hierarchicalFacets = params.hierarchicalFacets || [];\n\n  // Refinements\n  /**\n   * This attribute contains all the filters that need to be\n   * applied on the conjunctive facets. Each facet must be properly\n   * defined in the `facets` attribute.\n   *\n   * The key is the name of the facet, and the `FacetList` contains all\n   * filters selected for the associated facet name.\n   *\n   * When querying algolia, the values stored in this attribute will\n   * be translated into the `facetFilters` attribute.\n   * @member {Object.<string, SearchParameters.FacetList>}\n   */\n  this.facetsRefinements = params.facetsRefinements || {};\n  /**\n   * This attribute contains all the filters that need to be\n   * excluded from the conjunctive facets. Each facet must be properly\n   * defined in the `facets` attribute.\n   *\n   * The key is the name of the facet, and the `FacetList` contains all\n   * filters excluded for the associated facet name.\n   *\n   * When querying algolia, the values stored in this attribute will\n   * be translated into the `facetFilters` attribute.\n   * @member {Object.<string, SearchParameters.FacetList>}\n   */\n  this.facetsExcludes = params.facetsExcludes || {};\n  /**\n   * This attribute contains all the filters that need to be\n   * applied on the disjunctive facets. Each facet must be properly\n   * defined in the `disjunctiveFacets` attribute.\n   *\n   * The key is the name of the facet, and the `FacetList` contains all\n   * filters selected for the associated facet name.\n   *\n   * When querying algolia, the values stored in this attribute will\n   * be translated into the `facetFilters` attribute.\n   * @member {Object.<string, SearchParameters.FacetList>}\n   */\n  this.disjunctiveFacetsRefinements = params.disjunctiveFacetsRefinements || {};\n  /**\n   * This attribute contains all the filters that need to be\n   * applied on the numeric attributes.\n   *\n   * The key is the name of the attribute, and the value is the\n   * filters to apply to this attribute.\n   *\n   * When querying algolia, the values stored in this attribute will\n   * be translated into the `numericFilters` attribute.\n   * @member {Object.<string, SearchParameters.OperatorList>}\n   */\n  this.numericRefinements = params.numericRefinements || {};\n  /**\n   * This attribute contains all the tags used to refine the query.\n   *\n   * When querying algolia, the values stored in this attribute will\n   * be translated into the `tagFilters` attribute.\n   * @member {string[]}\n   */\n  this.tagRefinements = params.tagRefinements || [];\n  /**\n   * This attribute contains all the filters that need to be\n   * applied on the hierarchical facets. Each facet must be properly\n   * defined in the `hierarchicalFacets` attribute.\n   *\n   * The key is the name of the facet, and the `FacetList` contains all\n   * filters selected for the associated facet name. The FacetList values\n   * are structured as a string that contain the values for each level\n   * separated by the configured separator.\n   *\n   * When querying algolia, the values stored in this attribute will\n   * be translated into the `facetFilters` attribute.\n   * @member {Object.<string, SearchParameters.FacetList>}\n   */\n  this.hierarchicalFacetsRefinements = params.hierarchicalFacetsRefinements || {};\n\n  var self = this;\n  Object.keys(params).forEach(function(paramName) {\n    var isKeyKnown = SearchParameters.PARAMETERS.indexOf(paramName) !== -1;\n    var isValueDefined = params[paramName] !== undefined;\n\n    if (!isKeyKnown && isValueDefined) {\n      self[paramName] = params[paramName];\n    }\n  });\n}\n\n/**\n * List all the properties in SearchParameters and therefore all the known Algolia properties\n * This doesn't contain any beta/hidden features.\n * @private\n */\nSearchParameters.PARAMETERS = Object.keys(new SearchParameters());\n\n/**\n * @private\n * @param {object} partialState full or part of a state\n * @return {object} a new object with the number keys as number\n */\nSearchParameters._parseNumbers = function(partialState) {\n  // Do not reparse numbers in SearchParameters, they ought to be parsed already\n  if (partialState instanceof SearchParameters) return partialState;\n\n  var numbers = {};\n\n  var numberKeys = [\n    'aroundPrecision',\n    'aroundRadius',\n    'getRankingInfo',\n    'minWordSizefor2Typos',\n    'minWordSizefor1Typo',\n    'page',\n    'maxValuesPerFacet',\n    'distinct',\n    'minimumAroundRadius',\n    'hitsPerPage',\n    'minProximity'\n  ];\n\n  numberKeys.forEach(function(k) {\n    var value = partialState[k];\n    if (typeof value === 'string') {\n      var parsedValue = parseFloat(value);\n      // global isNaN is ok to use here, value is only number or NaN\n      numbers[k] = isNaN(parsedValue) ? value : parsedValue;\n    }\n  });\n\n  // there's two formats of insideBoundingBox, we need to parse\n  // the one which is an array of float geo rectangles\n  if (Array.isArray(partialState.insideBoundingBox)) {\n    numbers.insideBoundingBox = partialState.insideBoundingBox.map(function(geoRect) {\n      if (Array.isArray(geoRect)) {\n        return geoRect.map(function(value) {\n          return parseFloat(value);\n        });\n      }\n      return geoRect;\n    });\n  }\n\n  if (partialState.numericRefinements) {\n    var numericRefinements = {};\n    Object.keys(partialState.numericRefinements).forEach(function(attribute) {\n      var operators = partialState.numericRefinements[attribute] || {};\n      numericRefinements[attribute] = {};\n      Object.keys(operators).forEach(function(operator) {\n        var values = operators[operator];\n        var parsedValues = values.map(function(v) {\n          if (Array.isArray(v)) {\n            return v.map(function(vPrime) {\n              if (typeof vPrime === 'string') {\n                return parseFloat(vPrime);\n              }\n              return vPrime;\n            });\n          } else if (typeof v === 'string') {\n            return parseFloat(v);\n          }\n          return v;\n        });\n        numericRefinements[attribute][operator] = parsedValues;\n      });\n    });\n    numbers.numericRefinements = numericRefinements;\n  }\n\n  return merge({}, partialState, numbers);\n};\n\n/**\n * Factory for SearchParameters\n * @param {object|SearchParameters} newParameters existing parameters or partial\n * object for the properties of a new SearchParameters\n * @return {SearchParameters} frozen instance of SearchParameters\n */\nSearchParameters.make = function makeSearchParameters(newParameters) {\n  var instance = new SearchParameters(newParameters);\n\n  var hierarchicalFacets = newParameters.hierarchicalFacets || [];\n  hierarchicalFacets.forEach(function(facet) {\n    if (facet.rootPath) {\n      var currentRefinement = instance.getHierarchicalRefinement(facet.name);\n\n      if (currentRefinement.length > 0 && currentRefinement[0].indexOf(facet.rootPath) !== 0) {\n        instance = instance.clearRefinements(facet.name);\n      }\n\n      // get it again in case it has been cleared\n      currentRefinement = instance.getHierarchicalRefinement(facet.name);\n      if (currentRefinement.length === 0) {\n        instance = instance.toggleHierarchicalFacetRefinement(facet.name, facet.rootPath);\n      }\n    }\n  });\n\n  return instance;\n};\n\n/**\n * Validates the new parameters based on the previous state\n * @param {SearchParameters} currentState the current state\n * @param {object|SearchParameters} parameters the new parameters to set\n * @return {Error|null} Error if the modification is invalid, null otherwise\n */\nSearchParameters.validate = function(currentState, parameters) {\n  var params = parameters || {};\n\n  if (currentState.tagFilters && params.tagRefinements && params.tagRefinements.length > 0) {\n    return new Error(\n      '[Tags] Cannot switch from the managed tag API to the advanced API. It is probably ' +\n      'an error, if it is really what you want, you should first clear the tags with clearTags method.');\n  }\n\n  if (currentState.tagRefinements.length > 0 && params.tagFilters) {\n    return new Error(\n      '[Tags] Cannot switch from the advanced tag API to the managed API. It is probably ' +\n      'an error, if it is not, you should first clear the tags with clearTags method.');\n  }\n\n  if (\n    currentState.numericFilters &&\n    params.numericRefinements &&\n    objectHasKeys(params.numericRefinements)\n  ) {\n    return new Error(\n      \"[Numeric filters] Can't switch from the advanced to the managed API. It\" +\n        ' is probably an error, if this is really what you want, you have to first' +\n        ' clear the numeric filters.'\n    );\n  }\n\n  if (objectHasKeys(currentState.numericRefinements) && params.numericFilters) {\n    return new Error(\n      \"[Numeric filters] Can't switch from the managed API to the advanced. It\" +\n      ' is probably an error, if this is really what you want, you have to first' +\n      ' clear the numeric filters.');\n  }\n\n  return null;\n};\n\nSearchParameters.prototype = {\n  constructor: SearchParameters,\n\n  /**\n   * Remove all refinements (disjunctive + conjunctive + excludes + numeric filters)\n   * @method\n   * @param {undefined|string|SearchParameters.clearCallback} [attribute] optional string or function\n   * - If not given, means to clear all the filters.\n   * - If `string`, means to clear all refinements for the `attribute` named filter.\n   * - If `function`, means to clear all the refinements that return truthy values.\n   * @return {SearchParameters}\n   */\n  clearRefinements: function clearRefinements(attribute) {\n    var patch = {\n      numericRefinements: this._clearNumericRefinements(attribute),\n      facetsRefinements: RefinementList.clearRefinement(\n        this.facetsRefinements,\n        attribute,\n        'conjunctiveFacet'\n      ),\n      facetsExcludes: RefinementList.clearRefinement(\n        this.facetsExcludes,\n        attribute,\n        'exclude'\n      ),\n      disjunctiveFacetsRefinements: RefinementList.clearRefinement(\n        this.disjunctiveFacetsRefinements,\n        attribute,\n        'disjunctiveFacet'\n      ),\n      hierarchicalFacetsRefinements: RefinementList.clearRefinement(\n        this.hierarchicalFacetsRefinements,\n        attribute,\n        'hierarchicalFacet'\n      )\n    };\n    if (\n      patch.numericRefinements === this.numericRefinements &&\n      patch.facetsRefinements === this.facetsRefinements &&\n      patch.facetsExcludes === this.facetsExcludes &&\n      patch.disjunctiveFacetsRefinements === this.disjunctiveFacetsRefinements &&\n      patch.hierarchicalFacetsRefinements === this.hierarchicalFacetsRefinements\n    ) {\n      return this;\n    }\n    return this.setQueryParameters(patch);\n  },\n  /**\n   * Remove all the refined tags from the SearchParameters\n   * @method\n   * @return {SearchParameters}\n   */\n  clearTags: function clearTags() {\n    if (this.tagFilters === undefined && this.tagRefinements.length === 0) return this;\n\n    return this.setQueryParameters({\n      tagFilters: undefined,\n      tagRefinements: []\n    });\n  },\n  /**\n   * Set the index.\n   * @method\n   * @param {string} index the index name\n   * @return {SearchParameters}\n   */\n  setIndex: function setIndex(index) {\n    if (index === this.index) return this;\n\n    return this.setQueryParameters({\n      index: index\n    });\n  },\n  /**\n   * Query setter\n   * @method\n   * @param {string} newQuery value for the new query\n   * @return {SearchParameters}\n   */\n  setQuery: function setQuery(newQuery) {\n    if (newQuery === this.query) return this;\n\n    return this.setQueryParameters({\n      query: newQuery\n    });\n  },\n  /**\n   * Page setter\n   * @method\n   * @param {number} newPage new page number\n   * @return {SearchParameters}\n   */\n  setPage: function setPage(newPage) {\n    if (newPage === this.page) return this;\n\n    return this.setQueryParameters({\n      page: newPage\n    });\n  },\n  /**\n   * Facets setter\n   * The facets are the simple facets, used for conjunctive (and) faceting.\n   * @method\n   * @param {string[]} facets all the attributes of the algolia records used for conjunctive faceting\n   * @return {SearchParameters}\n   */\n  setFacets: function setFacets(facets) {\n    return this.setQueryParameters({\n      facets: facets\n    });\n  },\n  /**\n   * Disjunctive facets setter\n   * Change the list of disjunctive (or) facets the helper chan handle.\n   * @method\n   * @param {string[]} facets all the attributes of the algolia records used for disjunctive faceting\n   * @return {SearchParameters}\n   */\n  setDisjunctiveFacets: function setDisjunctiveFacets(facets) {\n    return this.setQueryParameters({\n      disjunctiveFacets: facets\n    });\n  },\n  /**\n   * HitsPerPage setter\n   * Hits per page represents the number of hits retrieved for this query\n   * @method\n   * @param {number} n number of hits retrieved per page of results\n   * @return {SearchParameters}\n   */\n  setHitsPerPage: function setHitsPerPage(n) {\n    if (this.hitsPerPage === n) return this;\n\n    return this.setQueryParameters({\n      hitsPerPage: n\n    });\n  },\n  /**\n   * typoTolerance setter\n   * Set the value of typoTolerance\n   * @method\n   * @param {string} typoTolerance new value of typoTolerance (\"true\", \"false\", \"min\" or \"strict\")\n   * @return {SearchParameters}\n   */\n  setTypoTolerance: function setTypoTolerance(typoTolerance) {\n    if (this.typoTolerance === typoTolerance) return this;\n\n    return this.setQueryParameters({\n      typoTolerance: typoTolerance\n    });\n  },\n  /**\n   * Add a numeric filter for a given attribute\n   * When value is an array, they are combined with OR\n   * When value is a single value, it will combined with AND\n   * @method\n   * @param {string} attribute attribute to set the filter on\n   * @param {string} operator operator of the filter (possible values: =, >, >=, <, <=, !=)\n   * @param {number | number[]} value value of the filter\n   * @return {SearchParameters}\n   * @example\n   * // for price = 50 or 40\n   * searchparameter.addNumericRefinement('price', '=', [50, 40]);\n   * @example\n   * // for size = 38 and 40\n   * searchparameter.addNumericRefinement('size', '=', 38);\n   * searchparameter.addNumericRefinement('size', '=', 40);\n   */\n  addNumericRefinement: function(attribute, operator, v) {\n    var value = valToNumber(v);\n\n    if (this.isNumericRefined(attribute, operator, value)) return this;\n\n    var mod = merge({}, this.numericRefinements);\n\n    mod[attribute] = merge({}, mod[attribute]);\n\n    if (mod[attribute][operator]) {\n      // Array copy\n      mod[attribute][operator] = mod[attribute][operator].slice();\n      // Add the element. Concat can't be used here because value can be an array.\n      mod[attribute][operator].push(value);\n    } else {\n      mod[attribute][operator] = [value];\n    }\n\n    return this.setQueryParameters({\n      numericRefinements: mod\n    });\n  },\n  /**\n   * Get the list of conjunctive refinements for a single facet\n   * @param {string} facetName name of the attribute used for faceting\n   * @return {string[]} list of refinements\n   */\n  getConjunctiveRefinements: function(facetName) {\n    if (!this.isConjunctiveFacet(facetName)) {\n      return [];\n    }\n    return this.facetsRefinements[facetName] || [];\n  },\n  /**\n   * Get the list of disjunctive refinements for a single facet\n   * @param {string} facetName name of the attribute used for faceting\n   * @return {string[]} list of refinements\n   */\n  getDisjunctiveRefinements: function(facetName) {\n    if (!this.isDisjunctiveFacet(facetName)) {\n      return [];\n    }\n    return this.disjunctiveFacetsRefinements[facetName] || [];\n  },\n  /**\n   * Get the list of hierarchical refinements for a single facet\n   * @param {string} facetName name of the attribute used for faceting\n   * @return {string[]} list of refinements\n   */\n  getHierarchicalRefinement: function(facetName) {\n    // we send an array but we currently do not support multiple\n    // hierarchicalRefinements for a hierarchicalFacet\n    return this.hierarchicalFacetsRefinements[facetName] || [];\n  },\n  /**\n   * Get the list of exclude refinements for a single facet\n   * @param {string} facetName name of the attribute used for faceting\n   * @return {string[]} list of refinements\n   */\n  getExcludeRefinements: function(facetName) {\n    if (!this.isConjunctiveFacet(facetName)) {\n      return [];\n    }\n    return this.facetsExcludes[facetName] || [];\n  },\n\n  /**\n   * Remove all the numeric filter for a given (attribute, operator)\n   * @method\n   * @param {string} attribute attribute to set the filter on\n   * @param {string} [operator] operator of the filter (possible values: =, >, >=, <, <=, !=)\n   * @param {number} [number] the value to be removed\n   * @return {SearchParameters}\n   */\n  removeNumericRefinement: function(attribute, operator, paramValue) {\n    if (paramValue !== undefined) {\n      if (!this.isNumericRefined(attribute, operator, paramValue)) {\n        return this;\n      }\n      return this.setQueryParameters({\n        numericRefinements: this._clearNumericRefinements(function(value, key) {\n          return (\n            key === attribute &&\n            value.op === operator &&\n            isEqualNumericRefinement(value.val, valToNumber(paramValue))\n          );\n        })\n      });\n    } else if (operator !== undefined) {\n      if (!this.isNumericRefined(attribute, operator)) return this;\n      return this.setQueryParameters({\n        numericRefinements: this._clearNumericRefinements(function(value, key) {\n          return key === attribute && value.op === operator;\n        })\n      });\n    }\n\n    if (!this.isNumericRefined(attribute)) return this;\n    return this.setQueryParameters({\n      numericRefinements: this._clearNumericRefinements(function(value, key) {\n        return key === attribute;\n      })\n    });\n  },\n  /**\n   * Get the list of numeric refinements for a single facet\n   * @param {string} facetName name of the attribute used for faceting\n   * @return {SearchParameters.OperatorList} list of refinements\n   */\n  getNumericRefinements: function(facetName) {\n    return this.numericRefinements[facetName] || {};\n  },\n  /**\n   * Return the current refinement for the (attribute, operator)\n   * @param {string} attribute attribute in the record\n   * @param {string} operator operator applied on the refined values\n   * @return {Array.<number|number[]>} refined values\n   */\n  getNumericRefinement: function(attribute, operator) {\n    return this.numericRefinements[attribute] && this.numericRefinements[attribute][operator];\n  },\n  /**\n   * Clear numeric filters.\n   * @method\n   * @private\n   * @param {string|SearchParameters.clearCallback} [attribute] optional string or function\n   * - If not given, means to clear all the filters.\n   * - If `string`, means to clear all refinements for the `attribute` named filter.\n   * - If `function`, means to clear all the refinements that return truthy values.\n   * @return {Object.<string, OperatorList>}\n   */\n  _clearNumericRefinements: function _clearNumericRefinements(attribute) {\n    if (attribute === undefined) {\n      if (!objectHasKeys(this.numericRefinements)) {\n        return this.numericRefinements;\n      }\n      return {};\n    } else if (typeof attribute === 'string') {\n      return omit(this.numericRefinements, [attribute]);\n    } else if (typeof attribute === 'function') {\n      var hasChanged = false;\n      var numericRefinements = this.numericRefinements;\n      var newNumericRefinements = Object.keys(numericRefinements).reduce(function(memo, key) {\n        var operators = numericRefinements[key];\n        var operatorList = {};\n\n        operators = operators || {};\n        Object.keys(operators).forEach(function(operator) {\n          var values = operators[operator] || [];\n          var outValues = [];\n          values.forEach(function(value) {\n            var predicateResult = attribute({val: value, op: operator}, key, 'numeric');\n            if (!predicateResult) outValues.push(value);\n          });\n          if (outValues.length !== values.length) {\n            hasChanged = true;\n          }\n          operatorList[operator] = outValues;\n        });\n\n        memo[key] = operatorList;\n\n        return memo;\n      }, {});\n\n      if (hasChanged) return newNumericRefinements;\n      return this.numericRefinements;\n    }\n  },\n  /**\n   * Add a facet to the facets attribute of the helper configuration, if it\n   * isn't already present.\n   * @method\n   * @param {string} facet facet name to add\n   * @return {SearchParameters}\n   */\n  addFacet: function addFacet(facet) {\n    if (this.isConjunctiveFacet(facet)) {\n      return this;\n    }\n\n    return this.setQueryParameters({\n      facets: this.facets.concat([facet])\n    });\n  },\n  /**\n   * Add a disjunctive facet to the disjunctiveFacets attribute of the helper\n   * configuration, if it isn't already present.\n   * @method\n   * @param {string} facet disjunctive facet name to add\n   * @return {SearchParameters}\n   */\n  addDisjunctiveFacet: function addDisjunctiveFacet(facet) {\n    if (this.isDisjunctiveFacet(facet)) {\n      return this;\n    }\n\n    return this.setQueryParameters({\n      disjunctiveFacets: this.disjunctiveFacets.concat([facet])\n    });\n  },\n  /**\n   * Add a hierarchical facet to the hierarchicalFacets attribute of the helper\n   * configuration.\n   * @method\n   * @param {object} hierarchicalFacet hierarchical facet to add\n   * @return {SearchParameters}\n   * @throws will throw an error if a hierarchical facet with the same name was already declared\n   */\n  addHierarchicalFacet: function addHierarchicalFacet(hierarchicalFacet) {\n    if (this.isHierarchicalFacet(hierarchicalFacet.name)) {\n      throw new Error(\n        'Cannot declare two hierarchical facets with the same name: `' + hierarchicalFacet.name + '`');\n    }\n\n    return this.setQueryParameters({\n      hierarchicalFacets: this.hierarchicalFacets.concat([hierarchicalFacet])\n    });\n  },\n  /**\n   * Add a refinement on a \"normal\" facet\n   * @method\n   * @param {string} facet attribute to apply the faceting on\n   * @param {string} value value of the attribute (will be converted to string)\n   * @return {SearchParameters}\n   */\n  addFacetRefinement: function addFacetRefinement(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      throw new Error(facet + ' is not defined in the facets attribute of the helper configuration');\n    }\n    if (RefinementList.isRefined(this.facetsRefinements, facet, value)) return this;\n\n    return this.setQueryParameters({\n      facetsRefinements: RefinementList.addRefinement(this.facetsRefinements, facet, value)\n    });\n  },\n  /**\n   * Exclude a value from a \"normal\" facet\n   * @method\n   * @param {string} facet attribute to apply the exclusion on\n   * @param {string} value value of the attribute (will be converted to string)\n   * @return {SearchParameters}\n   */\n  addExcludeRefinement: function addExcludeRefinement(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      throw new Error(facet + ' is not defined in the facets attribute of the helper configuration');\n    }\n    if (RefinementList.isRefined(this.facetsExcludes, facet, value)) return this;\n\n    return this.setQueryParameters({\n      facetsExcludes: RefinementList.addRefinement(this.facetsExcludes, facet, value)\n    });\n  },\n  /**\n   * Adds a refinement on a disjunctive facet.\n   * @method\n   * @param {string} facet attribute to apply the faceting on\n   * @param {string} value value of the attribute (will be converted to string)\n   * @return {SearchParameters}\n   */\n  addDisjunctiveFacetRefinement: function addDisjunctiveFacetRefinement(facet, value) {\n    if (!this.isDisjunctiveFacet(facet)) {\n      throw new Error(\n        facet + ' is not defined in the disjunctiveFacets attribute of the helper configuration');\n    }\n\n    if (RefinementList.isRefined(this.disjunctiveFacetsRefinements, facet, value)) return this;\n\n    return this.setQueryParameters({\n      disjunctiveFacetsRefinements: RefinementList.addRefinement(\n        this.disjunctiveFacetsRefinements, facet, value)\n    });\n  },\n  /**\n   * addTagRefinement adds a tag to the list used to filter the results\n   * @param {string} tag tag to be added\n   * @return {SearchParameters}\n   */\n  addTagRefinement: function addTagRefinement(tag) {\n    if (this.isTagRefined(tag)) return this;\n\n    var modification = {\n      tagRefinements: this.tagRefinements.concat(tag)\n    };\n\n    return this.setQueryParameters(modification);\n  },\n  /**\n   * Remove a facet from the facets attribute of the helper configuration, if it\n   * is present.\n   * @method\n   * @param {string} facet facet name to remove\n   * @return {SearchParameters}\n   */\n  removeFacet: function removeFacet(facet) {\n    if (!this.isConjunctiveFacet(facet)) {\n      return this;\n    }\n\n    return this.clearRefinements(facet).setQueryParameters({\n      facets: this.facets.filter(function(f) {\n        return f !== facet;\n      })\n    });\n  },\n  /**\n   * Remove a disjunctive facet from the disjunctiveFacets attribute of the\n   * helper configuration, if it is present.\n   * @method\n   * @param {string} facet disjunctive facet name to remove\n   * @return {SearchParameters}\n   */\n  removeDisjunctiveFacet: function removeDisjunctiveFacet(facet) {\n    if (!this.isDisjunctiveFacet(facet)) {\n      return this;\n    }\n\n    return this.clearRefinements(facet).setQueryParameters({\n      disjunctiveFacets: this.disjunctiveFacets.filter(function(f) {\n        return f !== facet;\n      })\n    });\n  },\n  /**\n   * Remove a hierarchical facet from the hierarchicalFacets attribute of the\n   * helper configuration, if it is present.\n   * @method\n   * @param {string} facet hierarchical facet name to remove\n   * @return {SearchParameters}\n   */\n  removeHierarchicalFacet: function removeHierarchicalFacet(facet) {\n    if (!this.isHierarchicalFacet(facet)) {\n      return this;\n    }\n\n    return this.clearRefinements(facet).setQueryParameters({\n      hierarchicalFacets: this.hierarchicalFacets.filter(function(f) {\n        return f.name !== facet;\n      })\n    });\n  },\n  /**\n   * Remove a refinement set on facet. If a value is provided, it will clear the\n   * refinement for the given value, otherwise it will clear all the refinement\n   * values for the faceted attribute.\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {string} [value] value used to filter\n   * @return {SearchParameters}\n   */\n  removeFacetRefinement: function removeFacetRefinement(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      throw new Error(facet + ' is not defined in the facets attribute of the helper configuration');\n    }\n    if (!RefinementList.isRefined(this.facetsRefinements, facet, value)) return this;\n\n    return this.setQueryParameters({\n      facetsRefinements: RefinementList.removeRefinement(this.facetsRefinements, facet, value)\n    });\n  },\n  /**\n   * Remove a negative refinement on a facet\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {string} value value used to filter\n   * @return {SearchParameters}\n   */\n  removeExcludeRefinement: function removeExcludeRefinement(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      throw new Error(facet + ' is not defined in the facets attribute of the helper configuration');\n    }\n    if (!RefinementList.isRefined(this.facetsExcludes, facet, value)) return this;\n\n    return this.setQueryParameters({\n      facetsExcludes: RefinementList.removeRefinement(this.facetsExcludes, facet, value)\n    });\n  },\n  /**\n   * Remove a refinement on a disjunctive facet\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {string} value value used to filter\n   * @return {SearchParameters}\n   */\n  removeDisjunctiveFacetRefinement: function removeDisjunctiveFacetRefinement(facet, value) {\n    if (!this.isDisjunctiveFacet(facet)) {\n      throw new Error(\n        facet + ' is not defined in the disjunctiveFacets attribute of the helper configuration');\n    }\n    if (!RefinementList.isRefined(this.disjunctiveFacetsRefinements, facet, value)) return this;\n\n    return this.setQueryParameters({\n      disjunctiveFacetsRefinements: RefinementList.removeRefinement(\n        this.disjunctiveFacetsRefinements, facet, value)\n    });\n  },\n  /**\n   * Remove a tag from the list of tag refinements\n   * @method\n   * @param {string} tag the tag to remove\n   * @return {SearchParameters}\n   */\n  removeTagRefinement: function removeTagRefinement(tag) {\n    if (!this.isTagRefined(tag)) return this;\n\n    var modification = {\n      tagRefinements: this.tagRefinements.filter(function(t) {\n        return t !== tag;\n      })\n    };\n\n    return this.setQueryParameters(modification);\n  },\n  /**\n   * Generic toggle refinement method to use with facet, disjunctive facets\n   * and hierarchical facets\n   * @param  {string} facet the facet to refine\n   * @param  {string} value the associated value\n   * @return {SearchParameters}\n   * @throws will throw an error if the facet is not declared in the settings of the helper\n   * @deprecated since version 2.19.0, see {@link SearchParameters#toggleFacetRefinement}\n   */\n  toggleRefinement: function toggleRefinement(facet, value) {\n    return this.toggleFacetRefinement(facet, value);\n  },\n  /**\n   * Generic toggle refinement method to use with facet, disjunctive facets\n   * and hierarchical facets\n   * @param  {string} facet the facet to refine\n   * @param  {string} value the associated value\n   * @return {SearchParameters}\n   * @throws will throw an error if the facet is not declared in the settings of the helper\n   */\n  toggleFacetRefinement: function toggleFacetRefinement(facet, value) {\n    if (this.isHierarchicalFacet(facet)) {\n      return this.toggleHierarchicalFacetRefinement(facet, value);\n    } else if (this.isConjunctiveFacet(facet)) {\n      return this.toggleConjunctiveFacetRefinement(facet, value);\n    } else if (this.isDisjunctiveFacet(facet)) {\n      return this.toggleDisjunctiveFacetRefinement(facet, value);\n    }\n\n    throw new Error('Cannot refine the undeclared facet ' + facet +\n      '; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets');\n  },\n  /**\n   * Switch the refinement applied over a facet/value\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {value} value value used for filtering\n   * @return {SearchParameters}\n   */\n  toggleConjunctiveFacetRefinement: function toggleConjunctiveFacetRefinement(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      throw new Error(facet + ' is not defined in the facets attribute of the helper configuration');\n    }\n\n    return this.setQueryParameters({\n      facetsRefinements: RefinementList.toggleRefinement(this.facetsRefinements, facet, value)\n    });\n  },\n  /**\n   * Switch the refinement applied over a facet/value\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {value} value value used for filtering\n   * @return {SearchParameters}\n   */\n  toggleExcludeFacetRefinement: function toggleExcludeFacetRefinement(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      throw new Error(facet + ' is not defined in the facets attribute of the helper configuration');\n    }\n\n    return this.setQueryParameters({\n      facetsExcludes: RefinementList.toggleRefinement(this.facetsExcludes, facet, value)\n    });\n  },\n  /**\n   * Switch the refinement applied over a facet/value\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {value} value value used for filtering\n   * @return {SearchParameters}\n   */\n  toggleDisjunctiveFacetRefinement: function toggleDisjunctiveFacetRefinement(facet, value) {\n    if (!this.isDisjunctiveFacet(facet)) {\n      throw new Error(\n        facet + ' is not defined in the disjunctiveFacets attribute of the helper configuration');\n    }\n\n    return this.setQueryParameters({\n      disjunctiveFacetsRefinements: RefinementList.toggleRefinement(\n        this.disjunctiveFacetsRefinements, facet, value)\n    });\n  },\n  /**\n   * Switch the refinement applied over a facet/value\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {value} value value used for filtering\n   * @return {SearchParameters}\n   */\n  toggleHierarchicalFacetRefinement: function toggleHierarchicalFacetRefinement(facet, value) {\n    if (!this.isHierarchicalFacet(facet)) {\n      throw new Error(\n        facet + ' is not defined in the hierarchicalFacets attribute of the helper configuration');\n    }\n\n    var separator = this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(facet));\n\n    var mod = {};\n\n    var upOneOrMultipleLevel = this.hierarchicalFacetsRefinements[facet] !== undefined &&\n      this.hierarchicalFacetsRefinements[facet].length > 0 && (\n      // remove current refinement:\n      // refinement was 'beer > IPA', call is toggleRefine('beer > IPA'), refinement should be `beer`\n      this.hierarchicalFacetsRefinements[facet][0] === value ||\n      // remove a parent refinement of the current refinement:\n      //  - refinement was 'beer > IPA > Flying dog'\n      //  - call is toggleRefine('beer > IPA')\n      //  - refinement should be `beer`\n      this.hierarchicalFacetsRefinements[facet][0].indexOf(value + separator) === 0\n    );\n\n    if (upOneOrMultipleLevel) {\n      if (value.indexOf(separator) === -1) {\n        // go back to root level\n        mod[facet] = [];\n      } else {\n        mod[facet] = [value.slice(0, value.lastIndexOf(separator))];\n      }\n    } else {\n      mod[facet] = [value];\n    }\n\n    return this.setQueryParameters({\n      hierarchicalFacetsRefinements: defaultsPure({}, mod, this.hierarchicalFacetsRefinements)\n    });\n  },\n\n  /**\n   * Adds a refinement on a hierarchical facet.\n   * @param {string} facet the facet name\n   * @param {string} path the hierarchical facet path\n   * @return {SearchParameter} the new state\n   * @throws Error if the facet is not defined or if the facet is refined\n   */\n  addHierarchicalFacetRefinement: function(facet, path) {\n    if (this.isHierarchicalFacetRefined(facet)) {\n      throw new Error(facet + ' is already refined.');\n    }\n    if (!this.isHierarchicalFacet(facet)) {\n      throw new Error(facet + ' is not defined in the hierarchicalFacets attribute of the helper configuration.');\n    }\n    var mod = {};\n    mod[facet] = [path];\n    return this.setQueryParameters({\n      hierarchicalFacetsRefinements: defaultsPure({}, mod, this.hierarchicalFacetsRefinements)\n    });\n  },\n\n  /**\n   * Removes the refinement set on a hierarchical facet.\n   * @param {string} facet the facet name\n   * @return {SearchParameter} the new state\n   * @throws Error if the facet is not defined or if the facet is not refined\n   */\n  removeHierarchicalFacetRefinement: function(facet) {\n    if (!this.isHierarchicalFacetRefined(facet)) {\n      return this;\n    }\n    var mod = {};\n    mod[facet] = [];\n    return this.setQueryParameters({\n      hierarchicalFacetsRefinements: defaultsPure({}, mod, this.hierarchicalFacetsRefinements)\n    });\n  },\n  /**\n   * Switch the tag refinement\n   * @method\n   * @param {string} tag the tag to remove or add\n   * @return {SearchParameters}\n   */\n  toggleTagRefinement: function toggleTagRefinement(tag) {\n    if (this.isTagRefined(tag)) {\n      return this.removeTagRefinement(tag);\n    }\n\n    return this.addTagRefinement(tag);\n  },\n  /**\n   * Test if the facet name is from one of the disjunctive facets\n   * @method\n   * @param {string} facet facet name to test\n   * @return {boolean}\n   */\n  isDisjunctiveFacet: function(facet) {\n    return this.disjunctiveFacets.indexOf(facet) > -1;\n  },\n  /**\n   * Test if the facet name is from one of the hierarchical facets\n   * @method\n   * @param {string} facetName facet name to test\n   * @return {boolean}\n   */\n  isHierarchicalFacet: function(facetName) {\n    return this.getHierarchicalFacetByName(facetName) !== undefined;\n  },\n  /**\n   * Test if the facet name is from one of the conjunctive/normal facets\n   * @method\n   * @param {string} facet facet name to test\n   * @return {boolean}\n   */\n  isConjunctiveFacet: function(facet) {\n    return this.facets.indexOf(facet) > -1;\n  },\n  /**\n   * Returns true if the facet is refined, either for a specific value or in\n   * general.\n   * @method\n   * @param {string} facet name of the attribute for used for faceting\n   * @param {string} value, optional value. If passed will test that this value\n   * is filtering the given facet.\n   * @return {boolean} returns true if refined\n   */\n  isFacetRefined: function isFacetRefined(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      return false;\n    }\n    return RefinementList.isRefined(this.facetsRefinements, facet, value);\n  },\n  /**\n   * Returns true if the facet contains exclusions or if a specific value is\n   * excluded.\n   *\n   * @method\n   * @param {string} facet name of the attribute for used for faceting\n   * @param {string} [value] optional value. If passed will test that this value\n   * is filtering the given facet.\n   * @return {boolean} returns true if refined\n   */\n  isExcludeRefined: function isExcludeRefined(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      return false;\n    }\n    return RefinementList.isRefined(this.facetsExcludes, facet, value);\n  },\n  /**\n   * Returns true if the facet contains a refinement, or if a value passed is a\n   * refinement for the facet.\n   * @method\n   * @param {string} facet name of the attribute for used for faceting\n   * @param {string} value optional, will test if the value is used for refinement\n   * if there is one, otherwise will test if the facet contains any refinement\n   * @return {boolean}\n   */\n  isDisjunctiveFacetRefined: function isDisjunctiveFacetRefined(facet, value) {\n    if (!this.isDisjunctiveFacet(facet)) {\n      return false;\n    }\n    return RefinementList.isRefined(this.disjunctiveFacetsRefinements, facet, value);\n  },\n  /**\n   * Returns true if the facet contains a refinement, or if a value passed is a\n   * refinement for the facet.\n   * @method\n   * @param {string} facet name of the attribute for used for faceting\n   * @param {string} value optional, will test if the value is used for refinement\n   * if there is one, otherwise will test if the facet contains any refinement\n   * @return {boolean}\n   */\n  isHierarchicalFacetRefined: function isHierarchicalFacetRefined(facet, value) {\n    if (!this.isHierarchicalFacet(facet)) {\n      return false;\n    }\n\n    var refinements = this.getHierarchicalRefinement(facet);\n\n    if (!value) {\n      return refinements.length > 0;\n    }\n\n    return refinements.indexOf(value) !== -1;\n  },\n  /**\n   * Test if the triple (attribute, operator, value) is already refined.\n   * If only the attribute and the operator are provided, it tests if the\n   * contains any refinement value.\n   * @method\n   * @param {string} attribute attribute for which the refinement is applied\n   * @param {string} [operator] operator of the refinement\n   * @param {string} [value] value of the refinement\n   * @return {boolean} true if it is refined\n   */\n  isNumericRefined: function isNumericRefined(attribute, operator, value) {\n    if (value === undefined && operator === undefined) {\n      return !!this.numericRefinements[attribute];\n    }\n\n    var isOperatorDefined =\n      this.numericRefinements[attribute] &&\n      this.numericRefinements[attribute][operator] !== undefined;\n\n    if (value === undefined || !isOperatorDefined) {\n      return isOperatorDefined;\n    }\n\n    var parsedValue = valToNumber(value);\n    var isAttributeValueDefined =\n      findArray(this.numericRefinements[attribute][operator], parsedValue) !==\n      undefined;\n\n    return isOperatorDefined && isAttributeValueDefined;\n  },\n  /**\n   * Returns true if the tag refined, false otherwise\n   * @method\n   * @param {string} tag the tag to check\n   * @return {boolean}\n   */\n  isTagRefined: function isTagRefined(tag) {\n    return this.tagRefinements.indexOf(tag) !== -1;\n  },\n  /**\n   * Returns the list of all disjunctive facets refined\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {value} value value used for filtering\n   * @return {string[]}\n   */\n  getRefinedDisjunctiveFacets: function getRefinedDisjunctiveFacets() {\n    var self = this;\n\n    // attributes used for numeric filter can also be disjunctive\n    var disjunctiveNumericRefinedFacets = intersection(\n      Object.keys(this.numericRefinements).filter(function(facet) {\n        return Object.keys(self.numericRefinements[facet]).length > 0;\n      }),\n      this.disjunctiveFacets\n    );\n\n    return Object.keys(this.disjunctiveFacetsRefinements).filter(function(facet) {\n      return self.disjunctiveFacetsRefinements[facet].length > 0;\n    })\n      .concat(disjunctiveNumericRefinedFacets)\n      .concat(this.getRefinedHierarchicalFacets());\n  },\n  /**\n   * Returns the list of all disjunctive facets refined\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {value} value value used for filtering\n   * @return {string[]}\n   */\n  getRefinedHierarchicalFacets: function getRefinedHierarchicalFacets() {\n    var self = this;\n    return intersection(\n      // enforce the order between the two arrays,\n      // so that refinement name index === hierarchical facet index\n      this.hierarchicalFacets.map(function(facet) { return facet.name; }),\n      Object.keys(this.hierarchicalFacetsRefinements).filter(function(facet) {\n        return self.hierarchicalFacetsRefinements[facet].length > 0;\n      })\n    );\n  },\n  /**\n   * Returned the list of all disjunctive facets not refined\n   * @method\n   * @return {string[]}\n   */\n  getUnrefinedDisjunctiveFacets: function() {\n    var refinedFacets = this.getRefinedDisjunctiveFacets();\n\n    return this.disjunctiveFacets.filter(function(f) {\n      return refinedFacets.indexOf(f) === -1;\n    });\n  },\n\n  managedParameters: [\n    'index',\n    'facets', 'disjunctiveFacets', 'facetsRefinements',\n    'facetsExcludes', 'disjunctiveFacetsRefinements',\n    'numericRefinements', 'tagRefinements', 'hierarchicalFacets', 'hierarchicalFacetsRefinements'\n  ],\n  getQueryParams: function getQueryParams() {\n    var managedParameters = this.managedParameters;\n\n    var queryParams = {};\n\n    var self = this;\n    Object.keys(this).forEach(function(paramName) {\n      var paramValue = self[paramName];\n      if (managedParameters.indexOf(paramName) === -1 && paramValue !== undefined) {\n        queryParams[paramName] = paramValue;\n      }\n    });\n\n    return queryParams;\n  },\n  /**\n   * Let the user set a specific value for a given parameter. Will return the\n   * same instance if the parameter is invalid or if the value is the same as the\n   * previous one.\n   * @method\n   * @param {string} parameter the parameter name\n   * @param {any} value the value to be set, must be compliant with the definition\n   * of the attribute on the object\n   * @return {SearchParameters} the updated state\n   */\n  setQueryParameter: function setParameter(parameter, value) {\n    if (this[parameter] === value) return this;\n\n    var modification = {};\n\n    modification[parameter] = value;\n\n    return this.setQueryParameters(modification);\n  },\n  /**\n   * Let the user set any of the parameters with a plain object.\n   * @method\n   * @param {object} params all the keys and the values to be updated\n   * @return {SearchParameters} a new updated instance\n   */\n  setQueryParameters: function setQueryParameters(params) {\n    if (!params) return this;\n\n    var error = SearchParameters.validate(this, params);\n\n    if (error) {\n      throw error;\n    }\n\n    var self = this;\n    var nextWithNumbers = SearchParameters._parseNumbers(params);\n    var previousPlainObject = Object.keys(this).reduce(function(acc, key) {\n      acc[key] = self[key];\n      return acc;\n    }, {});\n\n    var nextPlainObject = Object.keys(nextWithNumbers).reduce(\n      function(previous, key) {\n        var isPreviousValueDefined = previous[key] !== undefined;\n        var isNextValueDefined = nextWithNumbers[key] !== undefined;\n\n        if (isPreviousValueDefined && !isNextValueDefined) {\n          return omit(previous, [key]);\n        }\n\n        if (isNextValueDefined) {\n          previous[key] = nextWithNumbers[key];\n        }\n\n        return previous;\n      },\n      previousPlainObject\n    );\n\n    return new this.constructor(nextPlainObject);\n  },\n\n  /**\n   * Returns a new instance with the page reset. Two scenarios possible:\n   * the page is omitted -> return the given instance\n   * the page is set -> return a new instance with a page of 0\n   * @return {SearchParameters} a new updated instance\n   */\n  resetPage: function() {\n    if (this.page === undefined) {\n      return this;\n    }\n\n    return this.setPage(0);\n  },\n\n  /**\n   * Helper function to get the hierarchicalFacet separator or the default one (`>`)\n   * @param  {object} hierarchicalFacet\n   * @return {string} returns the hierarchicalFacet.separator or `>` as default\n   */\n  _getHierarchicalFacetSortBy: function(hierarchicalFacet) {\n    return hierarchicalFacet.sortBy || ['isRefined:desc', 'name:asc'];\n  },\n\n  /**\n   * Helper function to get the hierarchicalFacet separator or the default one (`>`)\n   * @private\n   * @param  {object} hierarchicalFacet\n   * @return {string} returns the hierarchicalFacet.separator or `>` as default\n   */\n  _getHierarchicalFacetSeparator: function(hierarchicalFacet) {\n    return hierarchicalFacet.separator || ' > ';\n  },\n\n  /**\n   * Helper function to get the hierarchicalFacet prefix path or null\n   * @private\n   * @param  {object} hierarchicalFacet\n   * @return {string} returns the hierarchicalFacet.rootPath or null as default\n   */\n  _getHierarchicalRootPath: function(hierarchicalFacet) {\n    return hierarchicalFacet.rootPath || null;\n  },\n\n  /**\n   * Helper function to check if we show the parent level of the hierarchicalFacet\n   * @private\n   * @param  {object} hierarchicalFacet\n   * @return {string} returns the hierarchicalFacet.showParentLevel or true as default\n   */\n  _getHierarchicalShowParentLevel: function(hierarchicalFacet) {\n    if (typeof hierarchicalFacet.showParentLevel === 'boolean') {\n      return hierarchicalFacet.showParentLevel;\n    }\n    return true;\n  },\n\n  /**\n   * Helper function to get the hierarchicalFacet by it's name\n   * @param  {string} hierarchicalFacetName\n   * @return {object} a hierarchicalFacet\n   */\n  getHierarchicalFacetByName: function(hierarchicalFacetName) {\n    return find(\n      this.hierarchicalFacets,\n      function(f) {\n        return f.name === hierarchicalFacetName;\n      }\n    );\n  },\n\n  /**\n   * Get the current breadcrumb for a hierarchical facet, as an array\n   * @param  {string} facetName Hierarchical facet name\n   * @return {array.<string>} the path as an array of string\n   */\n  getHierarchicalFacetBreadcrumb: function(facetName) {\n    if (!this.isHierarchicalFacet(facetName)) {\n      return [];\n    }\n\n    var refinement = this.getHierarchicalRefinement(facetName)[0];\n    if (!refinement) return [];\n\n    var separator = this._getHierarchicalFacetSeparator(\n      this.getHierarchicalFacetByName(facetName)\n    );\n    var path = refinement.split(separator);\n    return path.map(function(part) {\n      return part.trim();\n    });\n  },\n\n  toString: function() {\n    return JSON.stringify(this, null, 2);\n  }\n};\n\n/**\n * Callback used for clearRefinement method\n * @callback SearchParameters.clearCallback\n * @param {OperatorList|FacetList} value the value of the filter\n * @param {string} key the current attribute name\n * @param {string} type `numeric`, `disjunctiveFacet`, `conjunctiveFacet`, `hierarchicalFacet` or `exclude`\n * depending on the type of facet\n * @return {boolean} `true` if the element should be removed. `false` otherwise.\n */\nmodule.exports = SearchParameters;\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n\n// `Array.prototype.filter` method\n// https://tc39.es/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\n\nfunction inherits(ctor, superCtor) {\n  ctor.prototype = Object.create(superCtor.prototype, {\n    constructor: {\n      value: ctor,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n}\n\nmodule.exports = inherits;\n","var toInteger = require('../internals/to-integer');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var toObject = require('../internals/to-object');\n\nvar hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = function hasOwn(it, key) {\n  return hasOwnProperty.call(toObject(it), key);\n};\n","'use strict';\n\nfunction intersection(arr1, arr2) {\n  return arr1.filter(function(value, index) {\n    return (\n      arr2.indexOf(value) > -1 &&\n      arr1.indexOf(value) === index /* skips duplicates */\n    );\n  });\n}\n\nmodule.exports = intersection;\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.12.1',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: ' 2021 Denis Pushkarev (zloirock.ru)'\n});\n","var getBuiltIn = require('../internals/get-built-in');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n","// a string of all valid unicode whitespaces\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002' +\n  '\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.es/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","'use strict';\n\nmodule.exports = function isValidUserToken(userToken) {\n  if (userToken === null) {\n    return false;\n  }\n  return /^[a-zA-Z0-9_-]{1,64}$/.test(userToken);\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var classof = require('../internals/classof-raw');\nvar global = require('../internals/global');\n\nmodule.exports = classof(global.process) == 'process';\n","module.exports = typeof window == 'object';\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\n\n// eslint-disable-next-line es/no-object-assign -- safe\nvar $assign = Object.assign;\n// eslint-disable-next-line es/no-object-defineproperty -- required for testing\nvar defineProperty = Object.defineProperty;\n\n// `Object.assign` method\n// https://tc39.es/ecma262/#sec-object.assign\nmodule.exports = !$assign || fails(function () {\n  // should have correct order of operations (Edge bug)\n  if (DESCRIPTORS && $assign({ b: 1 }, $assign(defineProperty({}, 'a', {\n    enumerable: true,\n    get: function () {\n      defineProperty(this, 'b', {\n        value: 3,\n        enumerable: false\n      });\n    }\n  }), { b: 2 })).b !== 1) return true;\n  // should work with symbols and should have deterministic property order (V8 bug)\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line es/no-symbol -- safe\n  var symbol = Symbol();\n  var alphabet = 'abcdefghijklmnopqrst';\n  A[symbol] = 7;\n  alphabet.split('').forEach(function (chr) { B[chr] = chr; });\n  return $assign({}, A)[symbol] != 7 || objectKeys($assign({}, B)).join('') != alphabet;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars -- required for `.length`\n  var T = toObject(target);\n  var argumentsLength = arguments.length;\n  var index = 1;\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  var propertyIsEnumerable = propertyIsEnumerableModule.f;\n  while (argumentsLength > index) {\n    var S = IndexedObject(arguments[index++]);\n    var keys = getOwnPropertySymbols ? objectKeys(S).concat(getOwnPropertySymbols(S)) : objectKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : $assign;\n","'use strict';\n\nmodule.exports = function compact(array) {\n  if (!Array.isArray(array)) {\n    return [];\n  }\n\n  return array.filter(Boolean);\n};\n","var isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.es/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n};\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar objectHas = require('../internals/has');\nvar shared = require('../internals/shared-store');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar OBJECT_ALREADY_INITIALIZED = 'Object already initialized';\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP || shared.state) {\n  var store = shared.state || (shared.state = new WeakMap());\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    if (wmhas.call(store, it)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    if (objectHas(it, STATE)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar setGlobal = require('../internals/set-global');\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(String).split('String');\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  var state;\n  if (typeof value == 'function') {\n    if (typeof key == 'string' && !has(value, 'name')) {\n      createNonEnumerableProperty(value, 'name', key);\n    }\n    state = enforceInternalState(value);\n    if (!state.source) {\n      state.source = TEMPLATE.join(typeof key == 'string' ? key : '');\n    }\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n});\n","var isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    typeof (NewTarget = dummy.constructor) == 'function' &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","// eslint-disable-next-line es/no-object-getownpropertysymbols -- safe\nexports.f = Object.getOwnPropertySymbols;\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n","var anObject = require('../internals/an-object');\nvar defineProperties = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    /* global ActiveXObject -- old IE */\n    activeXDocument = document.domain && new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame();\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.es/ecma262/#sec-object.create\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : defineProperties(result, Properties);\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.es/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","'use strict';\nvar $ = require('../internals/export');\nvar createIteratorConstructor = require('../internals/create-iterator-constructor');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\nvar Iterators = require('../internals/iterators');\nvar IteratorsCore = require('../internals/iterators-core');\n\nvar IteratorPrototype = IteratorsCore.IteratorPrototype;\nvar BUGGY_SAFARI_ITERATORS = IteratorsCore.BUGGY_SAFARI_ITERATORS;\nvar ITERATOR = wellKnownSymbol('iterator');\nvar KEYS = 'keys';\nvar VALUES = 'values';\nvar ENTRIES = 'entries';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {\n  createIteratorConstructor(IteratorConstructor, NAME, next);\n\n  var getIterationMethod = function (KIND) {\n    if (KIND === DEFAULT && defaultIterator) return defaultIterator;\n    if (!BUGGY_SAFARI_ITERATORS && KIND in IterablePrototype) return IterablePrototype[KIND];\n    switch (KIND) {\n      case KEYS: return function keys() { return new IteratorConstructor(this, KIND); };\n      case VALUES: return function values() { return new IteratorConstructor(this, KIND); };\n      case ENTRIES: return function entries() { return new IteratorConstructor(this, KIND); };\n    } return function () { return new IteratorConstructor(this); };\n  };\n\n  var TO_STRING_TAG = NAME + ' Iterator';\n  var INCORRECT_VALUES_NAME = false;\n  var IterablePrototype = Iterable.prototype;\n  var nativeIterator = IterablePrototype[ITERATOR]\n    || IterablePrototype['@@iterator']\n    || DEFAULT && IterablePrototype[DEFAULT];\n  var defaultIterator = !BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);\n  var anyNativeIterator = NAME == 'Array' ? IterablePrototype.entries || nativeIterator : nativeIterator;\n  var CurrentIteratorPrototype, methods, KEY;\n\n  // fix native\n  if (anyNativeIterator) {\n    CurrentIteratorPrototype = getPrototypeOf(anyNativeIterator.call(new Iterable()));\n    if (IteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {\n      if (!IS_PURE && getPrototypeOf(CurrentIteratorPrototype) !== IteratorPrototype) {\n        if (setPrototypeOf) {\n          setPrototypeOf(CurrentIteratorPrototype, IteratorPrototype);\n        } else if (typeof CurrentIteratorPrototype[ITERATOR] != 'function') {\n          createNonEnumerableProperty(CurrentIteratorPrototype, ITERATOR, returnThis);\n        }\n      }\n      // Set @@toStringTag to native iterators\n      setToStringTag(CurrentIteratorPrototype, TO_STRING_TAG, true, true);\n      if (IS_PURE) Iterators[TO_STRING_TAG] = returnThis;\n    }\n  }\n\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEFAULT == VALUES && nativeIterator && nativeIterator.name !== VALUES) {\n    INCORRECT_VALUES_NAME = true;\n    defaultIterator = function values() { return nativeIterator.call(this); };\n  }\n\n  // define iterator\n  if ((!IS_PURE || FORCED) && IterablePrototype[ITERATOR] !== defaultIterator) {\n    createNonEnumerableProperty(IterablePrototype, ITERATOR, defaultIterator);\n  }\n  Iterators[NAME] = defaultIterator;\n\n  // export additional methods\n  if (DEFAULT) {\n    methods = {\n      values: getIterationMethod(VALUES),\n      keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),\n      entries: getIterationMethod(ENTRIES)\n    };\n    if (FORCED) for (KEY in methods) {\n      if (BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {\n        redefine(IterablePrototype, KEY, methods[KEY]);\n      }\n    } else $({ target: NAME, proto: true, forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME }, methods);\n  }\n\n  return methods;\n};\n","var global = require('../internals/global');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n","'use strict';\n\nfunction objectHasKeys(obj) {\n  return obj && Object.keys(obj).length > 0;\n}\n\nmodule.exports = objectHasKeys;\n","var fails = require('../internals/fails');\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","'use strict';\nvar toPrimitive = require('../internals/to-primitive');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPrimitive(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var store = require('../internals/shared-store');\n\nvar functionToString = Function.toString;\n\n// this helper broken in `3.4.1-3.4.4`, so we can't use `shared` helper\nif (typeof store.inspectSource != 'function') {\n  store.inspectSource = function (it) {\n    return functionToString.call(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","export default function(r,e,o){if(!r)throw new Error(\"You need to provide `widgetName` in your data\");var t=[\"ais-\"+r];return e&&t.push(\"-\"+e),o&&t.push(\"--\"+o),t.join(\"\")}\n//# sourceMappingURL=suit.js.map\n","import s from\"../util/suit.js\";var t=function(t){var a=t.name;return{props:{classNames:{type:Object,default:void 0}},methods:{suit:function(t,e){var r=s(a,t,e),i=this.classNames&&this.classNames[r];return i?[r,i].join(\" \"):r}}}};export{t as createSuitMixin};\n//# sourceMappingURL=suit.js.map\n","var n=new Set;function a(a){n.has(a)||(n.add(a),console.warn(a))}export{a as warn};\n//# sourceMappingURL=warn.js.map\n","import{warn as t}from\"../util/warn.js\";var e=function(e){void 0===e&&(e={});var n=e.connector;return{inject:{instantSearchInstance:{from:\"$_ais_instantSearchInstance\",default:function(){var t=this.$options._componentTag;throw new TypeError('It looks like you forgot to wrap your Algolia search component \"<'+t+'>\" inside of an \"<ais-instant-search>\" component.')}},getParentIndex:{from:\"$_ais_getParentIndex\",default:function(){var t=this;return function(){return t.instantSearchInstance.mainIndex}}}},data:function(){return{state:null}},created:function(){if(\"function\"==typeof n){if(this.factory=n(this.updateState,function(){}),this.widget=this.factory(this.widgetParams),this.getParentIndex().addWidgets([this.widget]),this.instantSearchInstance.__initialSearchResults&&!this.instantSearchInstance.started){if(\"function\"!=typeof this.instantSearchInstance.__forceRender)throw new Error(\"You are using server side rendering with <ais-instant-search> instead of <ais-instant-search-ssr>.\");this.instantSearchInstance.__forceRender(this.widget,this.getParentIndex())}}else!0!==n&&t(\"You are using the InstantSearch widget mixin, but didn't provide a connector.\\nWhile this is technically possible, and will give you access to the Helper,\\nit's not the recommended way of making custom components.\\n\\nIf you want to disable this message, pass { connector: true } to the mixin.\\n\\nRead more on using connectors: https://alg.li/vue-custom\")},beforeDestroy:function(){this.widget&&this.getParentIndex().removeWidgets([this.widget])},watch:{widgetParams:{handler:function(t){this.state=null,this.getParentIndex().removeWidgets([this.widget]),this.widget=this.factory(t),this.getParentIndex().addWidgets([this.widget])},deep:!0}},methods:{updateState:function(t,e){void 0===t&&(t={}),e||(this.state=t)}}}};export{e as createWidgetMixin};\n//# sourceMappingURL=widget.js.map\n","export var createDocumentationLink = function createDocumentationLink(_ref) {\n  var name = _ref.name,\n      _ref$connector = _ref.connector,\n      connector = _ref$connector === void 0 ? false : _ref$connector;\n  return ['https://www.algolia.com/doc/api-reference/widgets/', name, '/js/', connector ? '#connector' : ''].join('');\n};\nexport var createDocumentationMessageGenerator = function createDocumentationMessageGenerator() {\n  for (var _len = arguments.length, widgets = new Array(_len), _key = 0; _key < _len; _key++) {\n    widgets[_key] = arguments[_key];\n  }\n\n  var links = widgets.map(function (widget) {\n    return createDocumentationLink(widget);\n  }).join(', ');\n  return function (message) {\n    return [message, \"See documentation: \".concat(links)].filter(Boolean).join('\\n\\n');\n  };\n};","function noop() {}\n\nexport default noop;","function getObjectType(object) {\n  return Object.prototype.toString.call(object).slice(8, -1);\n}\n\nexport default getObjectType;","import getObjectType from './getObjectType';\n\nfunction checkRendering(rendering, usage) {\n  if (rendering === undefined || typeof rendering !== 'function') {\n    throw new Error(\"The render function is not valid (received type \".concat(getObjectType(rendering), \").\\n\\n\").concat(usage));\n  }\n}\n\nexport default checkRendering;","/**\n * This implementation is taken from Lodash implementation.\n * See: https://github.com/lodash/lodash/blob/4.17.11-npm/escape.js\n */\n// Used to map characters to HTML entities.\nvar htmlEscapes = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;'\n}; // Used to match HTML entities and HTML characters.\n\nvar regexUnescapedHtml = /[&<>\"']/g;\nvar regexHasUnescapedHtml = RegExp(regexUnescapedHtml.source);\n/**\n * Converts the characters \"&\", \"<\", \">\", '\"', and \"'\" in `string` to their\n * corresponding HTML entities.\n */\n\nfunction escape(value) {\n  return value && regexHasUnescapedHtml.test(value) ? value.replace(regexUnescapedHtml, function (character) {\n    return htmlEscapes[character];\n  }) : value;\n}\n\nexport default escape;","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/**\n * This implementation is taken from Lodash implementation.\n * See: https://github.com/lodash/lodash/blob/master/isPlainObject.js\n */\nfunction getTag(value) {\n  if (value === null) {\n    return value === undefined ? '[object Undefined]' : '[object Null]';\n  }\n\n  return Object.prototype.toString.call(value);\n}\n\nfunction isObjectLike(value) {\n  return _typeof(value) === 'object' && value !== null;\n}\n/**\n * Checks if `value` is a plain object.\n *\n * A plain object is an object created by the `Object`\n * constructor or with a `[[Prototype]]` of `null`.\n */\n\n\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || getTag(value) !== '[object Object]') {\n    return false;\n  }\n\n  if (Object.getPrototypeOf(value) === null) {\n    return true;\n  }\n\n  var proto = value;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(value) === proto;\n}\n\nexport default isPlainObject;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport escape from './escape';\nimport isPlainObject from './isPlainObject';\nexport var TAG_PLACEHOLDER = {\n  highlightPreTag: '__ais-highlight__',\n  highlightPostTag: '__/ais-highlight__'\n};\nexport var TAG_REPLACEMENT = {\n  highlightPreTag: '<mark>',\n  highlightPostTag: '</mark>'\n};\n\nfunction replaceTagsAndEscape(value) {\n  return escape(value).replace(new RegExp(TAG_PLACEHOLDER.highlightPreTag, 'g'), TAG_REPLACEMENT.highlightPreTag).replace(new RegExp(TAG_PLACEHOLDER.highlightPostTag, 'g'), TAG_REPLACEMENT.highlightPostTag);\n}\n\nfunction recursiveEscape(input) {\n  if (isPlainObject(input) && typeof input.value !== 'string') {\n    return Object.keys(input).reduce(function (acc, key) {\n      return _objectSpread(_objectSpread({}, acc), {}, _defineProperty({}, key, recursiveEscape(input[key])));\n    }, {});\n  }\n\n  if (Array.isArray(input)) {\n    return input.map(recursiveEscape);\n  }\n\n  return _objectSpread(_objectSpread({}, input), {}, {\n    value: replaceTagsAndEscape(input.value)\n  });\n}\n\nexport function escapeHits(hits) {\n  if (hits.__escaped === undefined) {\n    // We don't override the value on hit because it will mutate the raw results\n    // instead we make a shallow copy and we assign the escaped values on it.\n    hits = hits.map(function (_ref) {\n      var hit = _extends({}, _ref);\n\n      if (hit._highlightResult) {\n        hit._highlightResult = recursiveEscape(hit._highlightResult);\n      }\n\n      if (hit._snippetResult) {\n        hit._snippetResult = recursiveEscape(hit._snippetResult);\n      }\n\n      return hit;\n    });\n    hits.__escaped = true;\n  }\n\n  return hits;\n}\nexport function escapeFacets(facetHits) {\n  return facetHits.map(function (h) {\n    return _objectSpread(_objectSpread({}, h), {}, {\n      highlighted: replaceTagsAndEscape(h.highlighted)\n    });\n  });\n}","export function serializePayload(payload) {\n  return btoa(encodeURIComponent(JSON.stringify(payload)));\n}\nexport function deserializePayload(payload) {\n  return JSON.parse(decodeURIComponent(atob(payload)));\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport { serializePayload } from '../../lib/utils/serializer';\n\nvar buildPayload = function buildPayload(_ref) {\n  var index = _ref.index,\n      widgetType = _ref.widgetType,\n      methodName = _ref.methodName,\n      args = _ref.args;\n\n  if (args.length === 1 && _typeof(args[0]) === 'object') {\n    return args[0];\n  }\n\n  var eventType = args[0];\n  var hits = args[1];\n  var eventName = args[2];\n\n  if (!hits) {\n    if (process.env.NODE_ENV === 'development') {\n      throw new Error(\"You need to pass hit or hits as the second argument like:\\n  \".concat(methodName, \"(eventType, hit);\\n  \"));\n    } else {\n      return null;\n    }\n  }\n\n  if ((eventType === 'click' || eventType === 'conversion') && !eventName) {\n    if (process.env.NODE_ENV === 'development') {\n      throw new Error(\"You need to pass eventName as the third argument for 'click' or 'conversion' events like:\\n  \".concat(methodName, \"('click', hit, 'Product Purchased');\\n\\n  To learn more about event naming: https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/in-depth/clicks-conversions-best-practices/\\n  \"));\n    } else {\n      return null;\n    }\n  }\n\n  var hitsArray = Array.isArray(hits) ? removeEscapedFromHits(hits) : [hits];\n\n  if (hitsArray.length === 0) {\n    return null;\n  }\n\n  var queryID = hitsArray[0].__queryID;\n  var objectIDs = hitsArray.map(function (hit) {\n    return hit.objectID;\n  });\n  var positions = hitsArray.map(function (hit) {\n    return hit.__position;\n  });\n\n  if (eventType === 'view') {\n    return {\n      insightsMethod: 'viewedObjectIDs',\n      widgetType: widgetType,\n      eventType: eventType,\n      payload: {\n        eventName: eventName || 'Hits Viewed',\n        index: index,\n        objectIDs: objectIDs\n      },\n      hits: hitsArray\n    };\n  } else if (eventType === 'click') {\n    return {\n      insightsMethod: 'clickedObjectIDsAfterSearch',\n      widgetType: widgetType,\n      eventType: eventType,\n      payload: {\n        eventName: eventName,\n        index: index,\n        queryID: queryID,\n        objectIDs: objectIDs,\n        positions: positions\n      },\n      hits: hitsArray\n    };\n  } else if (eventType === 'conversion') {\n    return {\n      insightsMethod: 'convertedObjectIDsAfterSearch',\n      widgetType: widgetType,\n      eventType: eventType,\n      payload: {\n        eventName: eventName,\n        index: index,\n        queryID: queryID,\n        objectIDs: objectIDs\n      },\n      hits: hitsArray\n    };\n  } else if (process.env.NODE_ENV === 'development') {\n    throw new Error(\"eventType(\\\"\".concat(eventType, \"\\\") is not supported.\\n    If you want to send a custom payload, you can pass one object: \").concat(methodName, \"(customPayload);\\n    \"));\n  } else {\n    return null;\n  }\n};\n\nfunction removeEscapedFromHits(hits) {\n  // this returns without `hits.__escaped`\n  // and this way it doesn't mutate the original `hits`\n  return hits.map(function (hit) {\n    return hit;\n  });\n}\n\nexport function createSendEventForHits(_ref2) {\n  var instantSearchInstance = _ref2.instantSearchInstance,\n      index = _ref2.index,\n      widgetType = _ref2.widgetType;\n\n  var sendEventForHits = function sendEventForHits() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var payload = buildPayload({\n      widgetType: widgetType,\n      index: index,\n      methodName: 'sendEvent',\n      args: args\n    });\n\n    if (payload) {\n      instantSearchInstance.sendEventToInsights(payload);\n    }\n  };\n\n  return sendEventForHits;\n}\nexport function createBindEventForHits(_ref3) {\n  var index = _ref3.index,\n      widgetType = _ref3.widgetType;\n\n  var bindEventForHits = function bindEventForHits() {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    var payload = buildPayload({\n      widgetType: widgetType,\n      index: index,\n      methodName: 'bindEvent',\n      args: args\n    });\n    return payload ? \"data-insights-event=\".concat(serializePayload(payload)) : '';\n  };\n\n  return bindEventForHits;\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { escapeHits, TAG_PLACEHOLDER, checkRendering, createDocumentationMessageGenerator, createSendEventForHits, noop, warning } from '../../lib/utils';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'autocomplete',\n  connector: true\n});\n\nvar connectAutocomplete = function connectAutocomplete(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function (widgetParams) {\n    var _ref = widgetParams || {},\n        _ref$escapeHTML = _ref.escapeHTML,\n        escapeHTML = _ref$escapeHTML === void 0 ? true : _ref$escapeHTML;\n\n    process.env.NODE_ENV === 'development' ? warning(!widgetParams.indices, \"\\nThe option `indices` has been removed from the Autocomplete connector.\\n\\nThe indices to target are now inferred from the widgets tree.\\n\".concat(Array.isArray(widgetParams.indices) ? \"\\nAn alternative would be:\\n\\nconst autocomplete = connectAutocomplete(renderer);\\n\\nsearch.addWidgets([\\n  \".concat(widgetParams.indices.map(function (_ref2) {\n      var value = _ref2.value;\n      return \"index({ indexName: '\".concat(value, \"' }),\");\n    }).join('\\n  '), \"\\n  autocomplete()\\n]);\\n\") : '', \"\\n      \")) : void 0;\n    var connectorState = {};\n    return {\n      $$type: 'ais.autocomplete',\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        var renderState = this.getWidgetRenderState(renderOptions);\n        renderState.indices.forEach(function (_ref3) {\n          var sendEvent = _ref3.sendEvent,\n              hits = _ref3.hits;\n          sendEvent('view', hits);\n        });\n        renderFn(_objectSpread(_objectSpread({}, renderState), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          autocomplete: this.getWidgetRenderState(renderOptions)\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref4) {\n        var _this = this;\n\n        var helper = _ref4.helper,\n            scopedResults = _ref4.scopedResults,\n            instantSearchInstance = _ref4.instantSearchInstance;\n\n        if (!connectorState.refine) {\n          connectorState.refine = function (query) {\n            helper.setQuery(query).search();\n          };\n        }\n\n        var indices = scopedResults.map(function (scopedResult) {\n          // We need to escape the hits because highlighting\n          // exposes HTML tags to the end-user.\n          scopedResult.results.hits = escapeHTML ? escapeHits(scopedResult.results.hits) : scopedResult.results.hits;\n          var sendEvent = createSendEventForHits({\n            instantSearchInstance: instantSearchInstance,\n            index: scopedResult.results.index,\n            widgetType: _this.$$type\n          });\n          return {\n            indexId: scopedResult.indexId,\n            indexName: scopedResult.results.index,\n            hits: scopedResult.results.hits,\n            results: scopedResult.results,\n            sendEvent: sendEvent\n          };\n        });\n        return {\n          currentRefinement: helper.state.query || '',\n          indices: indices,\n          refine: connectorState.refine,\n          widgetParams: widgetParams\n        };\n      },\n      getWidgetUiState: function getWidgetUiState(uiState, _ref5) {\n        var searchParameters = _ref5.searchParameters;\n        var query = searchParameters.query || '';\n\n        if (query === '' || uiState && uiState.query === query) {\n          return uiState;\n        }\n\n        return _objectSpread(_objectSpread({}, uiState), {}, {\n          query: query\n        });\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters, _ref6) {\n        var uiState = _ref6.uiState;\n        var parameters = {\n          query: uiState.query || ''\n        };\n\n        if (!escapeHTML) {\n          return searchParameters.setQueryParameters(parameters);\n        }\n\n        return searchParameters.setQueryParameters(_objectSpread(_objectSpread({}, parameters), TAG_PLACEHOLDER));\n      },\n      dispose: function dispose(_ref7) {\n        var state = _ref7.state;\n        unmountFn();\n        var stateWithoutQuery = state.setQueryParameter('query', undefined);\n\n        if (!escapeHTML) {\n          return stateWithoutQuery;\n        }\n\n        return stateWithoutQuery.setQueryParameters(Object.keys(TAG_PLACEHOLDER).reduce(function (acc, key) {\n          return _objectSpread(_objectSpread({}, acc), {}, _defineProperty({}, key, undefined));\n        }, {}));\n      }\n    };\n  };\n};\n\nexport default connectAutocomplete;","<template>\n  <div\n    :class=\"suit()\"\n    v-if=\"state\"\n  >\n    <slot\n      :refine=\"state.refine\"\n      :current-refinement=\"state.currentRefinement\"\n      :indices=\"state.indices\"\n    >\n      <p>This widget doesn't render anything without a filled in default slot.</p>\n      <p>query, function to refine and results are provided.</p>\n      <pre>refine: Function</pre>\n      <pre>currentRefinement: \"{{ state.currentRefinement }}\"</pre>\n      <details>\n        <summary><code>indices</code>:</summary>\n        <pre>{{ state.indices }}</pre>\n      </details>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { createWidgetMixin } from '../mixins/widget';\nimport { connectAutocomplete } from 'instantsearch.js/es/connectors';\nimport { createSuitMixin } from '../mixins/suit';\n\nexport default {\n  name: 'AisAutocomplete',\n  mixins: [\n    createWidgetMixin({ connector: connectAutocomplete }),\n    createSuitMixin({ name: 'Autocomplete' }),\n  ],\n  props: {\n    escapeHTML: {\n      type: Boolean,\n      required: false,\n      default: true,\n    },\n  },\n  computed: {\n    widgetParams() {\n      return {\n        escapeHTML: this.escapeHTML,\n      };\n    },\n  },\n};\n</script>\n","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { checkRendering, warning, createDocumentationMessageGenerator, isEqual, noop } from '../../lib/utils';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'breadcrumb',\n  connector: true\n});\n\nvar connectBreadcrumb = function connectBreadcrumb(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  var connectorState = {};\n  return function (widgetParams) {\n    var _ref = widgetParams || {},\n        attributes = _ref.attributes,\n        _ref$separator = _ref.separator,\n        separator = _ref$separator === void 0 ? ' > ' : _ref$separator,\n        _ref$rootPath = _ref.rootPath,\n        rootPath = _ref$rootPath === void 0 ? null : _ref$rootPath,\n        _ref$transformItems = _ref.transformItems,\n        transformItems = _ref$transformItems === void 0 ? function (items) {\n      return items;\n    } : _ref$transformItems;\n\n    if (!attributes || !Array.isArray(attributes) || attributes.length === 0) {\n      throw new Error(withUsage('The `attributes` option expects an array of strings.'));\n    }\n\n    var _attributes = _slicedToArray(attributes, 1),\n        hierarchicalFacetName = _attributes[0];\n\n    function getRefinedState(state, facetValue) {\n      if (!facetValue) {\n        var breadcrumb = state.getHierarchicalFacetBreadcrumb(hierarchicalFacetName);\n\n        if (breadcrumb.length > 0) {\n          return state.resetPage().toggleFacetRefinement(hierarchicalFacetName, breadcrumb[0]);\n        }\n      }\n\n      return state.resetPage().toggleFacetRefinement(hierarchicalFacetName, facetValue);\n    }\n\n    return {\n      $$type: 'ais.breadcrumb',\n      init: function init(initOptions) {\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: initOptions.instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(renderOptions)), {}, {\n          instantSearchInstance: renderOptions.instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose() {\n        unmountFn();\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          breadcrumb: _objectSpread(_objectSpread({}, renderState.breadcrumb), {}, _defineProperty({}, hierarchicalFacetName, this.getWidgetRenderState(renderOptions)))\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref2) {\n        var helper = _ref2.helper,\n            createURL = _ref2.createURL,\n            results = _ref2.results,\n            state = _ref2.state;\n\n        function getItems() {\n          if (!results) {\n            return [];\n          }\n\n          var _state$hierarchicalFa = _slicedToArray(state.hierarchicalFacets, 1),\n              facetName = _state$hierarchicalFa[0].name;\n\n          var facetValues = results.getFacetValues(facetName, {});\n          var data = Array.isArray(facetValues.data) ? facetValues.data : [];\n          var items = transformItems(shiftItemsValues(prepareItems(data)));\n          return items;\n        }\n\n        var items = getItems();\n\n        if (!connectorState.createURL) {\n          connectorState.createURL = function (facetValue) {\n            return createURL(getRefinedState(helper.state, facetValue));\n          };\n        }\n\n        if (!connectorState.refine) {\n          connectorState.refine = function (facetValue) {\n            helper.setState(getRefinedState(helper.state, facetValue)).search();\n          };\n        }\n\n        return {\n          canRefine: items.length > 0,\n          createURL: connectorState.createURL,\n          items: items,\n          refine: connectorState.refine,\n          widgetParams: widgetParams\n        };\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters) {\n        if (searchParameters.isHierarchicalFacet(hierarchicalFacetName)) {\n          var facet = searchParameters.getHierarchicalFacetByName(hierarchicalFacetName);\n          process.env.NODE_ENV === 'development' ? warning(isEqual(facet.attributes, attributes) && facet.separator === separator && facet.rootPath === rootPath, 'Using Breadcrumb and HierarchicalMenu on the same facet with different options overrides the configuration of the HierarchicalMenu.') : void 0;\n          return searchParameters;\n        }\n\n        return searchParameters.addHierarchicalFacet({\n          name: hierarchicalFacetName,\n          attributes: attributes,\n          separator: separator,\n          rootPath: rootPath\n        });\n      }\n    };\n  };\n};\n\nfunction prepareItems(data) {\n  return data.reduce(function (result, currentItem) {\n    if (currentItem.isRefined) {\n      result.push({\n        label: currentItem.name,\n        value: currentItem.path\n      });\n\n      if (Array.isArray(currentItem.data)) {\n        result = result.concat(prepareItems(currentItem.data));\n      }\n    }\n\n    return result;\n  }, []);\n}\n\nfunction shiftItemsValues(array) {\n  return array.map(function (x, idx) {\n    return {\n      label: x.label,\n      value: idx + 1 === array.length ? null : array[idx + 1].value\n    };\n  });\n}\n\nexport default connectBreadcrumb;","import t from\"vue\";var e=\"instantSearchPanelEmitter\",n=\"PANEL_CHANGE_EVENT\",i=function(){return{props:{emitter:{type:Object,required:!1,default:function(){return new t({name:\"PanelProvider\"})}}},provide:function(){var t;return(t={}).instantSearchPanelEmitter=this.emitter,t},data:function(){return{canRefine:!0}},created:function(){var t=this;this.emitter.$on(\"PANEL_CHANGE_EVENT\",function(e){t.updateCanRefine(e)})},beforeDestroy:function(){this.emitter.$destroy()},methods:{updateCanRefine:function(t){this.canRefine=t}}}},r=function(t){var e=t.mapStateToCanRefine;return{inject:{emitter:{from:\"instantSearchPanelEmitter\",default:function(){return{$emit:function(){}}}}},data:function(){return{state:null,hasAlreadyEmitted:!1}},watch:{state:{immediate:!0,handler:function(t,n){if(t){var i=e(n||{}),r=e(t);this.hasAlreadyEmitted&&i===r||(this.emitter.$emit(\"PANEL_CHANGE_EVENT\",r),this.hasAlreadyEmitted=!0)}}}}}};export{n as PANEL_CHANGE_EVENT,e as PANEL_EMITTER_NAMESPACE,r as createPanelConsumerMixin,i as createPanelProviderMixin};\n//# sourceMappingURL=panel.js.map\n","<template>\n  <div\n    v-if=\"state\"\n    :class=\"[suit(), !state.canRefine && suit('', 'noRefinement')]\"\n  >\n    <slot\n      :items=\"state.items\"\n      :can-refine=\"state.canRefine\"\n      :refine=\"state.refine\"\n      :createURL=\"state.createURL\"\n    >\n      <ul :class=\"suit('list')\">\n        <li :class=\"[suit('item'), !state.items.length && suit('item', 'selected')]\">\n          <a\n            v-if=\"Boolean(state.items.length)\"\n            :href=\"state.createURL()\"\n            :class=\"suit('link')\"\n            @click.prevent=\"state.refine()\"\n          >\n            <slot name=\"rootLabel\">Home</slot>\n          </a>\n          <span v-else>\n            <slot name=\"rootLabel\">Home</slot>\n          </span>\n        </li>\n        <li\n          v-for=\"(item, index) in state.items\"\n          :key=\"item.label\"\n          :class=\"[suit('item'), isLastItem(index) && suit('item', 'selected')]\"\n        >\n          <span\n            :class=\"suit('separator')\"\n            aria-hidden=\"true\"\n          >\n            <slot name=\"separator\">></slot>\n          </span>\n          <a\n            v-if=\"!isLastItem(index)\"\n            :href=\"state.createURL(item.value)\"\n            :class=\"suit('link')\"\n            @click.prevent=\"state.refine(item.value)\"\n          >{{ item.label }}</a>\n          <span v-else>{{ item.label }}</span>\n        </li>\n      </ul>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { connectBreadcrumb } from 'instantsearch.js/es/connectors';\nimport { createPanelConsumerMixin } from '../mixins/panel';\nimport { createSuitMixin } from '../mixins/suit';\nimport { createWidgetMixin } from '../mixins/widget';\n\nexport default {\n  name: 'AisBreadcrumb',\n  mixins: [\n    createWidgetMixin({ connector: connectBreadcrumb }),\n    createPanelConsumerMixin({\n      mapStateToCanRefine: state => Boolean(state.canRefine),\n    }),\n    createSuitMixin({ name: 'Breadcrumb' }),\n  ],\n  props: {\n    attributes: {\n      type: Array,\n      required: true,\n    },\n    separator: {\n      type: String,\n      default: ' > ',\n    },\n    rootPath: {\n      type: String,\n      default: null,\n    },\n    transformItems: {\n      type: Function,\n      default(items) {\n        return items;\n      },\n    },\n  },\n  computed: {\n    widgetParams() {\n      return {\n        attributes: this.attributes,\n        separator: this.separator,\n        rootPath: this.rootPath,\n        transformItems: this.transformItems,\n      };\n    },\n  },\n  methods: {\n    isLastItem(index) {\n      return this.state.items.length - 1 === index;\n    },\n  },\n};\n</script>\n","/**\n * Clears the refinements of a SearchParameters object based on rules provided.\n * The included attributes list is applied before the excluded attributes list. If the list\n * is not provided, this list of all the currently refined attributes is used as included attributes.\n * @param {object} $0 parameters\n * @param {Helper} $0.helper instance of the Helper\n * @param {string[]} [$0.attributesToClear = []] list of parameters to clear\n * @returns {SearchParameters} search parameters with refinements cleared\n */\nfunction clearRefinements(_ref) {\n  var helper = _ref.helper,\n      _ref$attributesToClea = _ref.attributesToClear,\n      attributesToClear = _ref$attributesToClea === void 0 ? [] : _ref$attributesToClea;\n  var finalState = helper.state.setPage(0);\n  finalState = attributesToClear.reduce(function (state, attribute) {\n    if (finalState.isNumericRefined(attribute)) {\n      return state.removeNumericRefinement(attribute);\n    }\n\n    if (finalState.isHierarchicalFacet(attribute)) {\n      return state.removeHierarchicalFacetRefinement(attribute);\n    }\n\n    if (finalState.isDisjunctiveFacet(attribute)) {\n      return state.removeDisjunctiveFacetRefinement(attribute);\n    }\n\n    if (finalState.isConjunctiveFacet(attribute)) {\n      return state.removeFacetRefinement(attribute);\n    }\n\n    return state;\n  }, finalState);\n\n  if (attributesToClear.indexOf('query') !== -1) {\n    finalState = finalState.setQuery('');\n  }\n\n  return finalState;\n}\n\nexport default clearRefinements;","// We aren't using the native `Array.prototype.findIndex` because the refactor away from Lodash is not\n// published as a major version.\n// Relying on the `findIndex` polyfill on user-land, which before was only required for niche use-cases,\n// was decided as too risky.\n// @MAJOR Replace with the native `Array.prototype.findIndex` method\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/findIndex\nfunction findIndex(array, comparator) {\n  if (!Array.isArray(array)) {\n    return -1;\n  }\n\n  for (var i = 0; i < array.length; i++) {\n    if (comparator(array[i])) {\n      return i;\n    }\n  }\n\n  return -1;\n}\n\nexport default findIndex;","function uniq(array) {\n  return array.filter(function (value, index, self) {\n    return self.indexOf(value) === index;\n  });\n}\n\nexport default uniq;","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport findIndex from './findIndex';\nimport uniq from './uniq';\n\nvar mergeWithRest = function mergeWithRest(left, right) {\n  var facets = right.facets,\n      disjunctiveFacets = right.disjunctiveFacets,\n      facetsRefinements = right.facetsRefinements,\n      facetsExcludes = right.facetsExcludes,\n      disjunctiveFacetsRefinements = right.disjunctiveFacetsRefinements,\n      numericRefinements = right.numericRefinements,\n      tagRefinements = right.tagRefinements,\n      hierarchicalFacets = right.hierarchicalFacets,\n      hierarchicalFacetsRefinements = right.hierarchicalFacetsRefinements,\n      ruleContexts = right.ruleContexts,\n      rest = _objectWithoutProperties(right, [\"facets\", \"disjunctiveFacets\", \"facetsRefinements\", \"facetsExcludes\", \"disjunctiveFacetsRefinements\", \"numericRefinements\", \"tagRefinements\", \"hierarchicalFacets\", \"hierarchicalFacetsRefinements\", \"ruleContexts\"]);\n\n  return left.setQueryParameters(rest);\n}; // Merge facets\n\n\nvar mergeFacets = function mergeFacets(left, right) {\n  return right.facets.reduce(function (_, name) {\n    return _.addFacet(name);\n  }, left);\n};\n\nvar mergeDisjunctiveFacets = function mergeDisjunctiveFacets(left, right) {\n  return right.disjunctiveFacets.reduce(function (_, name) {\n    return _.addDisjunctiveFacet(name);\n  }, left);\n};\n\nvar mergeHierarchicalFacets = function mergeHierarchicalFacets(left, right) {\n  return left.setQueryParameters({\n    hierarchicalFacets: right.hierarchicalFacets.reduce(function (facets, facet) {\n      var index = findIndex(facets, function (_) {\n        return _.name === facet.name;\n      });\n\n      if (index === -1) {\n        return facets.concat(facet);\n      }\n\n      var nextFacets = facets.slice();\n      nextFacets.splice(index, 1, facet);\n      return nextFacets;\n    }, left.hierarchicalFacets)\n  });\n}; // Merge facet refinements\n\n\nvar mergeTagRefinements = function mergeTagRefinements(left, right) {\n  return right.tagRefinements.reduce(function (_, value) {\n    return _.addTagRefinement(value);\n  }, left);\n};\n\nvar mergeFacetRefinements = function mergeFacetRefinements(left, right) {\n  return left.setQueryParameters({\n    facetsRefinements: _objectSpread(_objectSpread({}, left.facetsRefinements), right.facetsRefinements)\n  });\n};\n\nvar mergeFacetsExcludes = function mergeFacetsExcludes(left, right) {\n  return left.setQueryParameters({\n    facetsExcludes: _objectSpread(_objectSpread({}, left.facetsExcludes), right.facetsExcludes)\n  });\n};\n\nvar mergeDisjunctiveFacetsRefinements = function mergeDisjunctiveFacetsRefinements(left, right) {\n  return left.setQueryParameters({\n    disjunctiveFacetsRefinements: _objectSpread(_objectSpread({}, left.disjunctiveFacetsRefinements), right.disjunctiveFacetsRefinements)\n  });\n};\n\nvar mergeNumericRefinements = function mergeNumericRefinements(left, right) {\n  return left.setQueryParameters({\n    numericRefinements: _objectSpread(_objectSpread({}, left.numericRefinements), right.numericRefinements)\n  });\n};\n\nvar mergeHierarchicalFacetsRefinements = function mergeHierarchicalFacetsRefinements(left, right) {\n  return left.setQueryParameters({\n    hierarchicalFacetsRefinements: _objectSpread(_objectSpread({}, left.hierarchicalFacetsRefinements), right.hierarchicalFacetsRefinements)\n  });\n};\n\nvar mergeRuleContexts = function mergeRuleContexts(left, right) {\n  var ruleContexts = uniq([].concat(left.ruleContexts).concat(right.ruleContexts).filter(Boolean));\n\n  if (ruleContexts.length > 0) {\n    return left.setQueryParameters({\n      ruleContexts: ruleContexts\n    });\n  }\n\n  return left;\n};\n\nvar merge = function merge() {\n  for (var _len = arguments.length, parameters = new Array(_len), _key = 0; _key < _len; _key++) {\n    parameters[_key] = arguments[_key];\n  }\n\n  return parameters.reduce(function (left, right) {\n    var hierarchicalFacetsRefinementsMerged = mergeHierarchicalFacetsRefinements(left, right);\n    var hierarchicalFacetsMerged = mergeHierarchicalFacets(hierarchicalFacetsRefinementsMerged, right);\n    var tagRefinementsMerged = mergeTagRefinements(hierarchicalFacetsMerged, right);\n    var numericRefinementsMerged = mergeNumericRefinements(tagRefinementsMerged, right);\n    var disjunctiveFacetsRefinementsMerged = mergeDisjunctiveFacetsRefinements(numericRefinementsMerged, right);\n    var facetsExcludesMerged = mergeFacetsExcludes(disjunctiveFacetsRefinementsMerged, right);\n    var facetRefinementsMerged = mergeFacetRefinements(facetsExcludesMerged, right);\n    var disjunctiveFacetsMerged = mergeDisjunctiveFacets(facetRefinementsMerged, right);\n    var ruleContextsMerged = mergeRuleContexts(disjunctiveFacetsMerged, right);\n    var facetsMerged = mergeFacets(ruleContextsMerged, right);\n    return mergeWithRest(facetsMerged, right);\n  });\n};\n\nexport default merge;","// We aren't using the native `Array.prototype.find` because the refactor away from Lodash is not\n// published as a major version.\n// Relying on the `find` polyfill on user-land, which before was only required for niche use-cases,\n// was decided as too risky.\n// @MAJOR Replace with the native `Array.prototype.find` method\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find\nfunction find(items, predicate) {\n  var value;\n\n  for (var i = 0; i < items.length; i++) {\n    value = items[i]; // inlined for performance: if (Call(predicate, thisArg, [value, i, list])) {\n\n    if (predicate(value, i, items)) {\n      return value;\n    }\n  }\n\n  return undefined;\n}\n\nexport default find;","function unescapeRefinement(value) {\n  return String(value).replace(/^\\\\-/, '-');\n}\n\nexport default unescapeRefinement;","import find from './find';\nimport unescapeRefinement from './unescapeRefinement';\n\nfunction getRefinement(state, type, attribute, name) {\n  var resultsFacets = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : [];\n  var res = {\n    type: type,\n    attribute: attribute,\n    name: name\n  };\n  var facet = find(resultsFacets, function (resultsFacet) {\n    return resultsFacet.name === attribute;\n  });\n  var count;\n\n  if (type === 'hierarchical') {\n    (function () {\n      var facetDeclaration = state.getHierarchicalFacetByName(attribute);\n      var nameParts = name.split(facetDeclaration.separator);\n\n      var getFacetRefinement = function getFacetRefinement(facetData) {\n        return function (refinementKey) {\n          return facetData[refinementKey];\n        };\n      };\n\n      var _loop = function _loop(i) {\n        facet = facet && facet.data && find(Object.keys(facet.data).map(getFacetRefinement(facet.data)), function (refinement) {\n          return refinement.name === nameParts[i];\n        });\n      };\n\n      for (var i = 0; facet !== undefined && i < nameParts.length; ++i) {\n        _loop(i);\n      }\n\n      count = facet && facet.count;\n    })();\n  } else {\n    count = facet && facet.data && facet.data[res.name];\n  }\n\n  var exhaustive = facet && facet.exhaustive;\n\n  if (count !== undefined) {\n    res.count = count;\n  }\n\n  if (exhaustive !== undefined) {\n    res.exhaustive = exhaustive;\n  }\n\n  return res;\n}\n\nfunction getRefinements(results, state) {\n  var includesQuery = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var refinements = [];\n  var _state$facetsRefineme = state.facetsRefinements,\n      facetsRefinements = _state$facetsRefineme === void 0 ? {} : _state$facetsRefineme,\n      _state$facetsExcludes = state.facetsExcludes,\n      facetsExcludes = _state$facetsExcludes === void 0 ? {} : _state$facetsExcludes,\n      _state$disjunctiveFac = state.disjunctiveFacetsRefinements,\n      disjunctiveFacetsRefinements = _state$disjunctiveFac === void 0 ? {} : _state$disjunctiveFac,\n      _state$hierarchicalFa = state.hierarchicalFacetsRefinements,\n      hierarchicalFacetsRefinements = _state$hierarchicalFa === void 0 ? {} : _state$hierarchicalFa,\n      _state$numericRefinem = state.numericRefinements,\n      numericRefinements = _state$numericRefinem === void 0 ? {} : _state$numericRefinem,\n      _state$tagRefinements = state.tagRefinements,\n      tagRefinements = _state$tagRefinements === void 0 ? [] : _state$tagRefinements;\n  Object.keys(facetsRefinements).forEach(function (attribute) {\n    var refinementNames = facetsRefinements[attribute];\n    refinementNames.forEach(function (refinementName) {\n      refinements.push(getRefinement(state, 'facet', attribute, refinementName, results.facets));\n    });\n  });\n  Object.keys(facetsExcludes).forEach(function (attribute) {\n    var refinementNames = facetsExcludes[attribute];\n    refinementNames.forEach(function (refinementName) {\n      refinements.push({\n        type: 'exclude',\n        attribute: attribute,\n        name: refinementName,\n        exclude: true\n      });\n    });\n  });\n  Object.keys(disjunctiveFacetsRefinements).forEach(function (attribute) {\n    var refinementNames = disjunctiveFacetsRefinements[attribute];\n    refinementNames.forEach(function (refinementName) {\n      refinements.push(getRefinement(state, 'disjunctive', attribute, // We unescape any disjunctive refined values with `unescapeRefinement` because\n      // they can be escaped on negative numeric values with `escapeRefinement`.\n      unescapeRefinement(refinementName), results.disjunctiveFacets));\n    });\n  });\n  Object.keys(hierarchicalFacetsRefinements).forEach(function (attribute) {\n    var refinementNames = hierarchicalFacetsRefinements[attribute];\n    refinementNames.forEach(function (refinement) {\n      refinements.push(getRefinement(state, 'hierarchical', attribute, refinement, results.hierarchicalFacets));\n    });\n  });\n  Object.keys(numericRefinements).forEach(function (attribute) {\n    var operators = numericRefinements[attribute];\n    Object.keys(operators).forEach(function (operatorOriginal) {\n      var operator = operatorOriginal;\n      var valueOrValues = operators[operator];\n      var refinementNames = Array.isArray(valueOrValues) ? valueOrValues : [valueOrValues];\n      refinementNames.forEach(function (refinementName) {\n        refinements.push({\n          type: 'numeric',\n          attribute: attribute,\n          name: \"\".concat(refinementName),\n          numericValue: refinementName,\n          operator: operator\n        });\n      });\n    });\n  });\n  tagRefinements.forEach(function (refinementName) {\n    refinements.push({\n      type: 'tag',\n      attribute: '_tags',\n      name: refinementName\n    });\n  });\n\n  if (includesQuery && state.query && state.query.trim()) {\n    refinements.push({\n      attribute: 'query',\n      type: 'query',\n      name: state.query,\n      query: state.query\n    });\n  }\n\n  return refinements;\n}\n\nexport default getRefinements;","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { checkRendering, clearRefinements, getRefinements, createDocumentationMessageGenerator, noop, uniq, mergeSearchParameters } from '../../lib/utils';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'clear-refinements',\n  connector: true\n});\n\nvar connectClearRefinements = function connectClearRefinements(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function (widgetParams) {\n    var _ref = widgetParams || {},\n        _ref$includedAttribut = _ref.includedAttributes,\n        includedAttributes = _ref$includedAttribut === void 0 ? [] : _ref$includedAttribut,\n        _ref$excludedAttribut = _ref.excludedAttributes,\n        excludedAttributes = _ref$excludedAttribut === void 0 ? ['query'] : _ref$excludedAttribut,\n        _ref$transformItems = _ref.transformItems,\n        transformItems = _ref$transformItems === void 0 ? function (items) {\n      return items;\n    } : _ref$transformItems;\n\n    if (widgetParams.includedAttributes && widgetParams.excludedAttributes) {\n      throw new Error(withUsage('The options `includedAttributes` and `excludedAttributes` cannot be used together.'));\n    }\n\n    var connectorState = {\n      refine: noop,\n      createURL: function createURL() {\n        return '';\n      },\n      attributesToClear: []\n    };\n\n    var cachedRefine = function cachedRefine() {\n      return connectorState.refine();\n    };\n\n    var cachedCreateURL = function cachedCreateURL() {\n      return connectorState.createURL();\n    };\n\n    return {\n      $$type: 'ais.clearRefinements',\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(renderOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose() {\n        unmountFn();\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          clearRefinements: this.getWidgetRenderState(renderOptions)\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref2) {\n        var createURL = _ref2.createURL,\n            scopedResults = _ref2.scopedResults;\n        connectorState.attributesToClear = scopedResults.reduce(function (results, scopedResult) {\n          return results.concat(getAttributesToClear({\n            scopedResult: scopedResult,\n            includedAttributes: includedAttributes,\n            excludedAttributes: excludedAttributes,\n            transformItems: transformItems\n          }));\n        }, []);\n\n        connectorState.refine = function () {\n          connectorState.attributesToClear.forEach(function (_ref3) {\n            var indexHelper = _ref3.helper,\n                items = _ref3.items;\n            indexHelper.setState(clearRefinements({\n              helper: indexHelper,\n              attributesToClear: items\n            })).search();\n          });\n        };\n\n        connectorState.createURL = function () {\n          return createURL(mergeSearchParameters.apply(void 0, _toConsumableArray(connectorState.attributesToClear.map(function (_ref4) {\n            var indexHelper = _ref4.helper,\n                items = _ref4.items;\n            return clearRefinements({\n              helper: indexHelper,\n              attributesToClear: items\n            });\n          }))));\n        };\n\n        var canRefine = connectorState.attributesToClear.some(function (attributeToClear) {\n          return attributeToClear.items.length > 0;\n        });\n        return {\n          canRefine: canRefine,\n          hasRefinements: canRefine,\n          refine: cachedRefine,\n          createURL: cachedCreateURL,\n          widgetParams: widgetParams\n        };\n      }\n    };\n  };\n};\n\nfunction getAttributesToClear(_ref5) {\n  var scopedResult = _ref5.scopedResult,\n      includedAttributes = _ref5.includedAttributes,\n      excludedAttributes = _ref5.excludedAttributes,\n      transformItems = _ref5.transformItems;\n  var includesQuery = includedAttributes.indexOf('query') !== -1 || excludedAttributes.indexOf('query') === -1;\n  return {\n    helper: scopedResult.helper,\n    items: transformItems(uniq(getRefinements(scopedResult.results, scopedResult.helper.state, includesQuery).map(function (refinement) {\n      return refinement.attribute;\n    }).filter(function (attribute) {\n      return (// If the array is empty (default case), we keep all the attributes\n        includedAttributes.length === 0 || // Otherwise, only add the specified attributes\n        includedAttributes.indexOf(attribute) !== -1\n      );\n    }).filter(function (attribute) {\n      return (// If the query is included, we ignore the default `excludedAttributes = ['query']`\n        attribute === 'query' && includesQuery || // Otherwise, ignore the excluded attributes\n        excludedAttributes.indexOf(attribute) === -1\n      );\n    })))\n  };\n}\n\nexport default connectClearRefinements;","<template>\n  <div\n    v-if=\"state\"\n    :class=\"suit()\"\n  >\n    <slot\n      :can-refine=\"canRefine\"\n      :refine=\"state.refine\"\n      :createURL=\"state.createURL\"\n    >\n      <button\n        type=\"reset\"\n        :class=\"[suit('button'), !canRefine && suit('button', 'disabled')]\"\n        :disabled=\"!canRefine\"\n        @click.prevent=\"state.refine\"\n      >\n        <slot name=\"resetLabel\">Clear refinements</slot>\n      </button>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { connectClearRefinements } from 'instantsearch.js/es/connectors';\nimport { createPanelConsumerMixin } from '../mixins/panel';\nimport { createSuitMixin } from '../mixins/suit';\nimport { createWidgetMixin } from '../mixins/widget';\n\nexport default {\n  name: 'AisClearRefinements',\n  mixins: [\n    createWidgetMixin({ connector: connectClearRefinements }),\n    createPanelConsumerMixin({\n      mapStateToCanRefine: state => Boolean(state.hasRefinements),\n    }),\n    createSuitMixin({ name: 'ClearRefinements' }),\n  ],\n  props: {\n    // explicitly no default, since included and excluded are incompatible\n    // eslint-disable-next-line vue/require-default-prop\n    excludedAttributes: {\n      type: Array,\n    },\n    // explicitly no default, since included and excluded are incompatible\n    // eslint-disable-next-line vue/require-default-prop\n    includedAttributes: {\n      type: Array,\n    },\n    transformItems: {\n      type: Function,\n      default(items) {\n        return items;\n      },\n    },\n  },\n  computed: {\n    widgetParams() {\n      return {\n        includedAttributes: this.includedAttributes,\n        excludedAttributes: this.excludedAttributes,\n        transformItems: this.transformItems,\n      };\n    },\n    canRefine() {\n      return this.state.hasRefinements;\n    },\n  },\n};\n</script>\n","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport algoliasearchHelper from 'algoliasearch-helper';\nimport { createDocumentationMessageGenerator, isPlainObject, mergeSearchParameters, noop } from '../../lib/utils';\n/**\n * Refine the given search parameters.\n */\n\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'configure',\n  connector: true\n});\n\nfunction getInitialSearchParameters(state, widgetParams) {\n  // We leverage the helper internals to remove the `widgetParams` from\n  // the state. The function `setQueryParameters` omits the values that\n  // are `undefined` on the next state.\n  return state.setQueryParameters(Object.keys(widgetParams.searchParameters).reduce(function (acc, key) {\n    return _objectSpread(_objectSpread({}, acc), {}, _defineProperty({}, key, undefined));\n  }, {}));\n}\n\nvar connectConfigure = function connectConfigure() {\n  var renderFn = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : noop;\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  return function (widgetParams) {\n    if (!widgetParams || !isPlainObject(widgetParams.searchParameters)) {\n      throw new Error(withUsage('The `searchParameters` option expects an object.'));\n    }\n\n    var connectorState = {};\n\n    function refine(helper) {\n      return function (searchParameters) {\n        // Merge new `searchParameters` with the ones set from other widgets\n        var actualState = getInitialSearchParameters(helper.state, widgetParams);\n        var nextSearchParameters = mergeSearchParameters(actualState, new algoliasearchHelper.SearchParameters(searchParameters)); // Update original `widgetParams.searchParameters` to the new refined one\n\n        widgetParams.searchParameters = searchParameters; // Trigger a search with the resolved search parameters\n\n        helper.setState(nextSearchParameters).search();\n      };\n    }\n\n    return {\n      $$type: 'ais.configure',\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(renderOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose(_ref) {\n        var state = _ref.state;\n        unmountFn();\n        return getInitialSearchParameters(state, widgetParams);\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        var _renderState$configur;\n\n        var widgetRenderState = this.getWidgetRenderState(renderOptions);\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          configure: _objectSpread(_objectSpread({}, widgetRenderState), {}, {\n            widgetParams: _objectSpread(_objectSpread({}, widgetRenderState.widgetParams), {}, {\n              searchParameters: mergeSearchParameters(new algoliasearchHelper.SearchParameters((_renderState$configur = renderState.configure) === null || _renderState$configur === void 0 ? void 0 : _renderState$configur.widgetParams.searchParameters), new algoliasearchHelper.SearchParameters(widgetRenderState.widgetParams.searchParameters)).getQueryParams()\n            })\n          })\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref2) {\n        var helper = _ref2.helper;\n\n        if (!connectorState.refine) {\n          connectorState.refine = refine(helper);\n        }\n\n        return {\n          refine: connectorState.refine,\n          widgetParams: widgetParams\n        };\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(state, _ref3) {\n        var uiState = _ref3.uiState;\n        return mergeSearchParameters(state, new algoliasearchHelper.SearchParameters(_objectSpread(_objectSpread({}, uiState.configure), widgetParams.searchParameters)));\n      },\n      getWidgetUiState: function getWidgetUiState(uiState) {\n        return _objectSpread(_objectSpread({}, uiState), {}, {\n          configure: _objectSpread(_objectSpread({}, uiState.configure), widgetParams.searchParameters)\n        });\n      }\n    };\n  };\n};\n\nexport default connectConfigure;","import{createSuitMixin as t}from\"../mixins/suit.js\";import{createWidgetMixin as e}from\"../mixins/widget.js\";import{connectConfigure as s}from\"instantsearch.js/es/connectors\";export default{inheritAttrs:!1,name:\"AisConfigure\",mixins:[t({name:\"Configure\"}),e({connector:s})],computed:{widgetParams:function(){return{searchParameters:this.$attrs}}},render:function(t){return this.state&&this.$scopedSlots.default?t(\"div\",{class:this.suit()},[this.$scopedSlots.default({refine:this.state.refine,searchParameters:this.state.widgetParams.searchParameters})]):null}};\n//# sourceMappingURL=Configure.js.map\n","function getPropertyByPath(object, path) {\n  var parts = Array.isArray(path) ? path : path.split('.');\n  return parts.reduce(function (current, key) {\n    return current && current[key];\n  }, object);\n}\n\nexport default getPropertyByPath;","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport algoliasearchHelper from 'algoliasearch-helper';\nimport { createDocumentationMessageGenerator, getObjectType, warning, getPropertyByPath } from '../../lib/utils';\nimport connectConfigure from '../configure/connectConfigure';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'configure-related-items',\n  connector: true\n});\n\nfunction createOptionalFilter(_ref) {\n  var attributeName = _ref.attributeName,\n      attributeValue = _ref.attributeValue,\n      attributeScore = _ref.attributeScore;\n  return \"\".concat(attributeName, \":\").concat(attributeValue, \"<score=\").concat(attributeScore || 1, \">\");\n}\n\nvar connectConfigureRelatedItems = function connectConfigureRelatedItems(renderFn, unmountFn) {\n  return function (widgetParams) {\n    var _ref2 = widgetParams || {},\n        hit = _ref2.hit,\n        matchingPatterns = _ref2.matchingPatterns,\n        _ref2$transformSearch = _ref2.transformSearchParameters,\n        transformSearchParameters = _ref2$transformSearch === void 0 ? function (x) {\n      return x;\n    } : _ref2$transformSearch;\n\n    if (!hit) {\n      throw new Error(withUsage('The `hit` option is required.'));\n    }\n\n    if (!matchingPatterns) {\n      throw new Error(withUsage('The `matchingPatterns` option is required.'));\n    }\n\n    var optionalFilters = Object.keys(matchingPatterns).reduce(function (acc, attributeName) {\n      var attribute = matchingPatterns[attributeName];\n      var attributeValue = getPropertyByPath(hit, attributeName);\n      var attributeScore = attribute.score;\n\n      if (Array.isArray(attributeValue)) {\n        return [].concat(_toConsumableArray(acc), [attributeValue.map(function (attributeSubValue) {\n          return createOptionalFilter({\n            attributeName: attributeName,\n            attributeValue: attributeSubValue,\n            attributeScore: attributeScore\n          });\n        })]);\n      }\n\n      if (typeof attributeValue === 'string') {\n        return [].concat(_toConsumableArray(acc), [createOptionalFilter({\n          attributeName: attributeName,\n          attributeValue: attributeValue,\n          attributeScore: attributeScore\n        })]);\n      }\n\n      process.env.NODE_ENV === 'development' ? warning(false, \"\\nThe `matchingPatterns` option returned a value of type \".concat(getObjectType(attributeValue), \" for the \\\"\").concat(attributeName, \"\\\" key. This value was not sent to Algolia because `optionalFilters` only supports strings and array of strings.\\n\\nYou can remove the \\\"\").concat(attributeName, \"\\\" key from the `matchingPatterns` option.\\n\\nSee https://www.algolia.com/doc/api-reference/api-parameters/optionalFilters/\\n            \")) : void 0;\n      return acc;\n    }, []);\n\n    var searchParameters = _objectSpread({}, transformSearchParameters(new algoliasearchHelper.SearchParameters({\n      sumOrFiltersScores: true,\n      facetFilters: [\"objectID:-\".concat(hit.objectID)],\n      optionalFilters: optionalFilters\n    })));\n\n    var makeWidget = connectConfigure(renderFn, unmountFn);\n    return _objectSpread(_objectSpread({}, makeWidget({\n      searchParameters: searchParameters\n    })), {}, {\n      $$type: 'ais.configureRelatedItems'\n    });\n  };\n};\n\nexport default connectConfigureRelatedItems;","import{createWidgetMixin as t}from\"../mixins/widget.js\";import{EXPERIMENTAL_connectConfigureRelatedItems as e}from\"instantsearch.js/es/connectors\";export default{inheritAttrs:!1,name:\"AisExperimentalConfigureRelatedItems\",mixins:[t({connector:e})],props:{hit:{type:Object,required:!0},matchingPatterns:{type:Object,required:!0},transformSearchParameters:{type:Function,required:!1}},computed:{widgetParams:function(){return{hit:this.hit,matchingPatterns:this.matchingPatterns,transformSearchParameters:this.transformSearchParameters}}},render:function(){return null}};\n//# sourceMappingURL=ConfigureRelatedItems.js.map\n","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { getRefinements, checkRendering, createDocumentationMessageGenerator, noop, warning } from '../../lib/utils';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'current-refinements',\n  connector: true\n});\n\nvar connectCurrentRefinements = function connectCurrentRefinements(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function (widgetParams) {\n    if ((widgetParams || {}).includedAttributes && (widgetParams || {}).excludedAttributes) {\n      throw new Error(withUsage('The options `includedAttributes` and `excludedAttributes` cannot be used together.'));\n    }\n\n    var _ref = widgetParams || {},\n        includedAttributes = _ref.includedAttributes,\n        _ref$excludedAttribut = _ref.excludedAttributes,\n        excludedAttributes = _ref$excludedAttribut === void 0 ? ['query'] : _ref$excludedAttribut,\n        _ref$transformItems = _ref.transformItems,\n        transformItems = _ref$transformItems === void 0 ? function (items) {\n      return items;\n    } : _ref$transformItems;\n\n    return {\n      $$type: 'ais.currentRefinements',\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(renderOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose() {\n        unmountFn();\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          currentRefinements: this.getWidgetRenderState(renderOptions)\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref2) {\n        var results = _ref2.results,\n            scopedResults = _ref2.scopedResults,\n            _createURL = _ref2.createURL,\n            helper = _ref2.helper;\n\n        function getItems() {\n          if (!results) {\n            return transformItems(getRefinementsItems({\n              results: {},\n              helper: helper,\n              includedAttributes: includedAttributes,\n              excludedAttributes: excludedAttributes\n            }));\n          }\n\n          return scopedResults.reduce(function (accResults, scopedResult) {\n            return accResults.concat(transformItems(getRefinementsItems({\n              results: scopedResult.results,\n              helper: scopedResult.helper,\n              includedAttributes: includedAttributes,\n              excludedAttributes: excludedAttributes\n            })));\n          }, []);\n        }\n\n        var items = getItems();\n        return {\n          items: items,\n          canRefine: items.length > 0,\n          refine: function refine(refinement) {\n            return clearRefinement(helper, refinement);\n          },\n          createURL: function createURL(refinement) {\n            return _createURL(clearRefinementFromState(helper.state, refinement));\n          },\n          widgetParams: widgetParams\n        };\n      }\n    };\n  };\n};\n\nfunction getRefinementsItems(_ref3) {\n  var results = _ref3.results,\n      helper = _ref3.helper,\n      includedAttributes = _ref3.includedAttributes,\n      excludedAttributes = _ref3.excludedAttributes;\n  var includesQuery = (includedAttributes || []).indexOf('query') !== -1 || (excludedAttributes || []).indexOf('query') === -1;\n  var filterFunction = includedAttributes ? function (item) {\n    return includedAttributes.indexOf(item.attribute) !== -1;\n  } : function (item) {\n    return excludedAttributes.indexOf(item.attribute) === -1;\n  };\n  var items = getRefinements(results, helper.state, includesQuery).map(normalizeRefinement).filter(filterFunction);\n  return items.reduce(function (allItems, currentItem) {\n    return [].concat(_toConsumableArray(allItems.filter(function (item) {\n      return item.attribute !== currentItem.attribute;\n    })), [{\n      indexName: helper.state.index,\n      attribute: currentItem.attribute,\n      label: currentItem.attribute,\n      refinements: items.filter(function (result) {\n        return result.attribute === currentItem.attribute;\n      }) // We want to keep the order of refinements except the numeric ones.\n      .sort(function (a, b) {\n        return a.type === 'numeric' ? a.value - b.value : 0;\n      }),\n      refine: function refine(refinement) {\n        return clearRefinement(helper, refinement);\n      }\n    }]);\n  }, []);\n}\n\nfunction clearRefinementFromState(state, refinement) {\n  switch (refinement.type) {\n    case 'facet':\n      return state.removeFacetRefinement(refinement.attribute, String(refinement.value));\n\n    case 'disjunctive':\n      return state.removeDisjunctiveFacetRefinement(refinement.attribute, String(refinement.value));\n\n    case 'hierarchical':\n      return state.removeHierarchicalFacetRefinement(refinement.attribute);\n\n    case 'exclude':\n      return state.removeExcludeRefinement(refinement.attribute, String(refinement.value));\n\n    case 'numeric':\n      return state.removeNumericRefinement(refinement.attribute, refinement.operator, String(refinement.value));\n\n    case 'tag':\n      return state.removeTagRefinement(String(refinement.value));\n\n    case 'query':\n      return state.setQueryParameter('query', '');\n\n    default:\n      process.env.NODE_ENV === 'development' ? warning(false, \"The refinement type \\\"\".concat(refinement.type, \"\\\" does not exist and cannot be cleared from the current refinements.\")) : void 0;\n      return state;\n  }\n}\n\nfunction clearRefinement(helper, refinement) {\n  helper.setState(clearRefinementFromState(helper.state, refinement)).search();\n}\n\nfunction getOperatorSymbol(operator) {\n  switch (operator) {\n    case '>=':\n      return '';\n\n    case '<=':\n      return '';\n\n    default:\n      return operator;\n  }\n}\n\nfunction normalizeRefinement(refinement) {\n  var value = refinement.type === 'numeric' ? Number(refinement.name) : refinement.name;\n  var label = refinement.operator ? \"\".concat(getOperatorSymbol(refinement.operator), \" \").concat(refinement.name) : refinement.name;\n  var normalizedRefinement = {\n    attribute: refinement.attribute,\n    type: refinement.type,\n    value: value,\n    label: label\n  };\n\n  if (refinement.operator !== undefined) {\n    normalizedRefinement.operator = refinement.operator;\n  }\n\n  if (refinement.count !== undefined) {\n    normalizedRefinement.count = refinement.count;\n  }\n\n  if (refinement.exhaustive !== undefined) {\n    normalizedRefinement.exhaustive = refinement.exhaustive;\n  }\n\n  return normalizedRefinement;\n}\n\nexport default connectCurrentRefinements;","<template>\n  <div\n    :class=\"[suit(), noRefinement && suit('','noRefinement')]\"\n    v-if=\"state\"\n  >\n    <slot\n      :refine=\"state.refine\"\n      :items=\"state.items\"\n      :createURL=\"state.createURL\"\n    >\n      <ul :class=\"suit('list')\">\n        <li\n          v-for=\"item in state.items\"\n          :key=\"item.attribute\"\n          :class=\"suit('item')\"\n        >\n          <slot\n            name=\"item\"\n            :refine=\"item.refine\"\n            :item=\"item\"\n            :createURL=\"state.createURL\"\n          >\n            <span :class=\"suit('label')\">{{ item.label | capitalize }}: </span>\n            <span\n              v-for=\"refinement in item.refinements\"\n              :key=\"createItemKey(refinement)\"\n              :class=\"suit('category')\"\n            >\n              <slot\n                name=\"refinement\"\n                :refine=\"item.refine\"\n                :refinement=\"refinement\"\n                :createURL=\"state.createURL\"\n              >\n                <span :class=\"suit('categoryLabel')\">\n                  <q v-if=\"refinement.attribute === 'query'\">{{ refinement.label }}</q>\n                  <template v-else>\n                    {{ refinement.label }}\n                  </template>\n                </span>\n                <button\n                  :class=\"suit('delete')\"\n                  @click=\"item.refine(refinement)\"\n                >\n                  \n                </button>\n              </slot>\n            </span>\n          </slot>\n        </li>\n      </ul>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { createWidgetMixin } from '../mixins/widget';\nimport { connectCurrentRefinements } from 'instantsearch.js/es/connectors';\nimport { createPanelConsumerMixin } from '../mixins/panel';\nimport { createSuitMixin } from '../mixins/suit';\n\nexport default {\n  name: 'AisCurrentRefinements',\n  mixins: [\n    createSuitMixin({ name: 'CurrentRefinements' }),\n    createWidgetMixin({ connector: connectCurrentRefinements }),\n    createPanelConsumerMixin({\n      mapStateToCanRefine: state =>\n        Boolean(state.items) && state.items.length > 0,\n    }),\n  ],\n  props: {\n    // no default because included and excluded are incompatible\n    // eslint-disable-next-line vue/require-default-prop\n    includedAttributes: {\n      type: Array,\n    },\n    // no default because included and excluded are incompatible\n    // eslint-disable-next-line vue/require-default-prop\n    excludedAttributes: {\n      type: Array,\n    },\n    transformItems: {\n      type: Function,\n      default(items) {\n        return items;\n      },\n    },\n  },\n  computed: {\n    noRefinement() {\n      return this.state && this.state.items.length === 0;\n    },\n    widgetParams() {\n      return {\n        includedAttributes: this.includedAttributes,\n        excludedAttributes: this.excludedAttributes,\n        transformItems: this.transformItems,\n      };\n    },\n  },\n  methods: {\n    createItemKey({ attribute, value, type, operator }) {\n      return [attribute, type, value, operator].join(':');\n    },\n  },\n  filters: {\n    capitalize(value) {\n      if (!value) return '';\n      return (\n        value\n          .toString()\n          .charAt(0)\n          .toLocaleUpperCase() + value.toString().slice(1)\n      );\n    },\n  },\n};\n</script>\n","export default function isFacetRefined(helper, facet, value) {\n  if (helper.state.isHierarchicalFacet(facet)) {\n    return helper.state.isHierarchicalFacetRefined(facet, value);\n  } else if (helper.state.isConjunctiveFacet(facet)) {\n    return helper.state.isFacetRefined(facet, value);\n  } else {\n    return helper.state.isDisjunctiveFacetRefined(facet, value);\n  }\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport isFacetRefined from './isFacetRefined';\nexport function createSendEventForFacet(_ref) {\n  var instantSearchInstance = _ref.instantSearchInstance,\n      helper = _ref.helper,\n      attribute = _ref.attribute,\n      widgetType = _ref.widgetType;\n\n  var sendEventForFacet = function sendEventForFacet() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var eventType = args[0],\n        facetValue = args[1],\n        _args$ = args[2],\n        eventName = _args$ === void 0 ? 'Filter Applied' : _args$;\n\n    if (args.length === 1 && _typeof(args[0]) === 'object') {\n      instantSearchInstance.sendEventToInsights(args[0]);\n    } else if (eventType === 'click' && (args.length === 2 || args.length === 3)) {\n      if (!isFacetRefined(helper, attribute, facetValue)) {\n        // send event only when the facet is being checked \"ON\"\n        instantSearchInstance.sendEventToInsights({\n          insightsMethod: 'clickedFilters',\n          widgetType: widgetType,\n          eventType: eventType,\n          payload: {\n            eventName: eventName,\n            index: helper.getIndex(),\n            filters: [\"\".concat(attribute, \":\").concat(facetValue)]\n          },\n          attribute: attribute\n        });\n      }\n    } else if (process.env.NODE_ENV === 'development') {\n      throw new Error(\"You need to pass two arguments like:\\n  sendEvent('click', facetValue);\\n\\nIf you want to send a custom payload, you can pass one object: sendEvent(customPayload);\\n\");\n    }\n  };\n\n  return sendEventForFacet;\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { checkRendering, warning, createDocumentationMessageGenerator, createSendEventForFacet, isEqual, noop } from '../../lib/utils';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'hierarchical-menu',\n  connector: true\n});\n\n/**\n * **HierarchicalMenu** connector provides the logic to build a custom widget\n * that will give the user the ability to explore facets in a tree-like structure.\n *\n * This is commonly used for multi-level categorization of products on e-commerce\n * websites. From a UX point of view, we suggest not displaying more than two\n * levels deep.\n *\n * @type {Connector}\n * @param {function(HierarchicalMenuRenderingOptions, boolean)} renderFn Rendering function for the custom **HierarchicalMenu** widget.\n * @param {function} unmountFn Unmount function called when the widget is disposed.\n * @return {function(CustomHierarchicalMenuWidgetParams)} Re-usable widget factory for a custom **HierarchicalMenu** widget.\n */\nvar connectHierarchicalMenu = function connectHierarchicalMenu(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function (widgetParams) {\n    var _ref = widgetParams || {},\n        attributes = _ref.attributes,\n        _ref$separator = _ref.separator,\n        separator = _ref$separator === void 0 ? ' > ' : _ref$separator,\n        _ref$rootPath = _ref.rootPath,\n        rootPath = _ref$rootPath === void 0 ? null : _ref$rootPath,\n        _ref$showParentLevel = _ref.showParentLevel,\n        showParentLevel = _ref$showParentLevel === void 0 ? true : _ref$showParentLevel,\n        _ref$limit = _ref.limit,\n        limit = _ref$limit === void 0 ? 10 : _ref$limit,\n        _ref$showMore = _ref.showMore,\n        showMore = _ref$showMore === void 0 ? false : _ref$showMore,\n        _ref$showMoreLimit = _ref.showMoreLimit,\n        showMoreLimit = _ref$showMoreLimit === void 0 ? 20 : _ref$showMoreLimit,\n        _ref$sortBy = _ref.sortBy,\n        sortBy = _ref$sortBy === void 0 ? ['name:asc'] : _ref$sortBy,\n        _ref$transformItems = _ref.transformItems,\n        transformItems = _ref$transformItems === void 0 ? function (items) {\n      return items;\n    } : _ref$transformItems;\n\n    if (!attributes || !Array.isArray(attributes) || attributes.length === 0) {\n      throw new Error(withUsage('The `attributes` option expects an array of strings.'));\n    }\n\n    if (showMore === true && showMoreLimit <= limit) {\n      throw new Error(withUsage('The `showMoreLimit` option must be greater than `limit`.'));\n    }\n\n    // we need to provide a hierarchicalFacet name for the search state\n    // so that we can always map $hierarchicalFacetName => real attributes\n    // we use the first attribute name\n    var _attributes = _slicedToArray(attributes, 1),\n        hierarchicalFacetName = _attributes[0];\n\n    var sendEvent; // Provide the same function to the `renderFn` so that way the user\n    // has to only bind it once when `isFirstRendering` for instance\n\n    var toggleShowMore = function toggleShowMore() {};\n\n    function cachedToggleShowMore() {\n      toggleShowMore();\n    }\n\n    var _refine;\n\n    var isShowingMore = false;\n\n    function createToggleShowMore(renderOptions, widget) {\n      return function () {\n        isShowingMore = !isShowingMore;\n        widget.render(renderOptions);\n      };\n    }\n\n    function getLimit() {\n      return isShowingMore ? showMoreLimit : limit;\n    }\n\n    function _prepareFacetValues(facetValues) {\n      return facetValues.slice(0, getLimit()).map(function (_ref2) {\n        var label = _ref2.name,\n            value = _ref2.path,\n            data = _ref2.data,\n            subValue = _objectWithoutProperties(_ref2, [\"name\", \"path\", \"data\"]);\n\n        var item = _objectSpread(_objectSpread({}, subValue), {}, {\n          label: label,\n          value: value,\n          data: null\n        });\n\n        if (Array.isArray(data)) {\n          item.data = _prepareFacetValues(data);\n        }\n\n        return item;\n      });\n    }\n\n    return {\n      $$type: 'ais.hierarchicalMenu',\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        toggleShowMore = createToggleShowMore(renderOptions, this);\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(renderOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n\n      /**\n       * @param {Object} param0 cleanup arguments\n       * @param {any} param0.state current search parameters\n       * @returns {any} next search parameters\n       */\n      dispose: function dispose(_ref3) {\n        var state = _ref3.state;\n        unmountFn();\n        return state.removeHierarchicalFacet(hierarchicalFacetName).setQueryParameter('maxValuesPerFacet', undefined);\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          hierarchicalMenu: _objectSpread(_objectSpread({}, renderState.hierarchicalMenu), {}, _defineProperty({}, hierarchicalFacetName, this.getWidgetRenderState(renderOptions)))\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref4) {\n        var results = _ref4.results,\n            state = _ref4.state,\n            createURL = _ref4.createURL,\n            instantSearchInstance = _ref4.instantSearchInstance,\n            helper = _ref4.helper;\n        var items = [];\n        var canToggleShowMore = false; // Bind createURL to this specific attribute\n\n        function _createURL(facetValue) {\n          return createURL(state.resetPage().toggleFacetRefinement(hierarchicalFacetName, facetValue));\n        }\n\n        if (!sendEvent) {\n          sendEvent = createSendEventForFacet({\n            instantSearchInstance: instantSearchInstance,\n            helper: helper,\n            attribute: hierarchicalFacetName,\n            widgetType: this.$$type\n          });\n        }\n\n        if (!_refine) {\n          _refine = function _refine(facetValue) {\n            sendEvent('click', facetValue);\n            helper.toggleFacetRefinement(hierarchicalFacetName, facetValue).search();\n          };\n        }\n\n        if (results) {\n          var facetValues = results.getFacetValues(hierarchicalFacetName, {\n            sortBy: sortBy\n          });\n          var facetItems = facetValues && !Array.isArray(facetValues) && facetValues.data ? facetValues.data : []; // If the limit is the max number of facet retrieved it is impossible to know\n          // if the facets are exhaustive. The only moment we are sure it is exhaustive\n          // is when it is strictly under the number requested unless we know that another\n          // widget has requested more values (maxValuesPerFacet > getLimit()).\n          // Because this is used for making the search of facets unable or not, it is important\n          // to be conservative here.\n\n          var hasExhaustiveItems = (state.maxValuesPerFacet || 0) > getLimit() ? facetItems.length <= getLimit() : facetItems.length < getLimit();\n          canToggleShowMore = showMore && (isShowingMore || !hasExhaustiveItems);\n          items = transformItems(_prepareFacetValues(facetItems));\n        }\n\n        return {\n          items: items,\n          refine: _refine,\n          canRefine: items.length > 0,\n          createURL: _createURL,\n          sendEvent: sendEvent,\n          widgetParams: widgetParams,\n          isShowingMore: isShowingMore,\n          toggleShowMore: cachedToggleShowMore,\n          canToggleShowMore: canToggleShowMore\n        };\n      },\n      getWidgetUiState: function getWidgetUiState(uiState, _ref5) {\n        var searchParameters = _ref5.searchParameters;\n        var path = searchParameters.getHierarchicalFacetBreadcrumb(hierarchicalFacetName);\n\n        if (!path.length) {\n          return uiState;\n        }\n\n        return _objectSpread(_objectSpread({}, uiState), {}, {\n          hierarchicalMenu: _objectSpread(_objectSpread({}, uiState.hierarchicalMenu), {}, _defineProperty({}, hierarchicalFacetName, path))\n        });\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters, _ref6) {\n        var uiState = _ref6.uiState;\n        var values = uiState.hierarchicalMenu && uiState.hierarchicalMenu[hierarchicalFacetName];\n\n        if (searchParameters.isHierarchicalFacet(hierarchicalFacetName)) {\n          var facet = searchParameters.getHierarchicalFacetByName(hierarchicalFacetName);\n          process.env.NODE_ENV === 'development' ? warning(isEqual(facet.attributes, attributes) && facet.separator === separator && facet.rootPath === rootPath, 'Using Breadcrumb and HierarchicalMenu on the same facet with different options overrides the configuration of the HierarchicalMenu.') : void 0;\n        }\n\n        var withFacetConfiguration = searchParameters.removeHierarchicalFacet(hierarchicalFacetName).addHierarchicalFacet({\n          name: hierarchicalFacetName,\n          attributes: attributes,\n          separator: separator,\n          rootPath: rootPath,\n          // @ts-ignore `showParentLevel` is missing in the SearchParameters.HierarchicalFacet declaration\n          showParentLevel: showParentLevel\n        });\n        var currentMaxValuesPerFacet = withFacetConfiguration.maxValuesPerFacet || 0;\n        var nextMaxValuesPerFacet = Math.max(currentMaxValuesPerFacet, showMore ? showMoreLimit : limit);\n        var withMaxValuesPerFacet = withFacetConfiguration.setQueryParameter('maxValuesPerFacet', nextMaxValuesPerFacet);\n\n        if (!values) {\n          return withMaxValuesPerFacet.setQueryParameters({\n            hierarchicalFacetsRefinements: _objectSpread(_objectSpread({}, withMaxValuesPerFacet.hierarchicalFacetsRefinements), {}, _defineProperty({}, hierarchicalFacetName, []))\n          });\n        }\n\n        return withMaxValuesPerFacet.addHierarchicalFacetRefinement(hierarchicalFacetName, values.join(separator));\n      }\n    };\n  };\n};\n\nexport default connectHierarchicalMenu;","<template>\n  <ul\n    :class=\"[\n      suit('list'),\n      level > 0 && suit('list', 'child'),\n      suit('list', `lvl${level}`)\n    ]\"\n  >\n    <li\n      v-for=\"item in items\"\n      :key=\"item.value\"\n      :class=\"[\n        suit('item'),\n        item.data && suit('item', 'parent'),\n        item.isRefined && suit('item', 'selected')\n      ]\"\n    >\n      <a\n        :href=\"createURL(item.value)\"\n        :class=\"suit('link')\"\n        @click.prevent=\"refine(item.value)\"\n      >\n        <span :class=\"suit('label')\">{{ item.label }}</span>\n        <span :class=\"suit('count')\">{{ item.count }}</span>\n      </a>\n\n      <hierarchical-menu-list\n        v-if=\"item.data\"\n        :items=\"item.data\"\n        :level=\"level + 1\"\n        :refine=\"refine\"\n        :createURL=\"createURL\"\n        :suit=\"suit\"\n      />\n    </li>\n  </ul>\n</template>\n\n<script>\nexport default {\n  name: 'HierarchicalMenuList',\n  props: {\n    items: {\n      type: Array,\n      required: true,\n    },\n    level: {\n      type: Number,\n      required: true,\n    },\n    refine: {\n      type: Function,\n      required: true,\n    },\n    createURL: {\n      type: Function,\n      required: true,\n    },\n    suit: {\n      type: Function,\n      required: true,\n    },\n  },\n};\n</script>\n","<template>\n  <div\n    v-if=\"state\"\n    :class=\"[suit(), !canRefine && suit('', 'noRefinement')]\"\n  >\n    <slot\n      :items=\"state.items\"\n      :can-refine=\"canRefine\"\n      :can-toggle-show-more=\"state.canToggleShowMore\"\n      :is-showing-more=\"state.isShowingMore\"\n      :refine=\"state.refine\"\n      :createURL=\"state.createURL\"\n      :toggle-show-more=\"state.toggleShowMore\"\n      :send-event=\"state.sendEvent\"\n    >\n      <hierarchical-menu-list\n        :items=\"state.items\"\n        :level=\"0\"\n        :refine=\"state.refine\"\n        :createURL=\"state.createURL\"\n        :suit=\"suit\"\n      />\n\n      <button\n        v-if=\"showMore\"\n        :class=\"[\n          suit('showMore'),\n          !state.canToggleShowMore && suit('showMore', 'disabled')\n        ]\"\n        :disabled=\"!state.canToggleShowMore\"\n        @click.prevent=\"state.toggleShowMore\"\n      >\n        <slot\n          name=\"showMoreLabel\"\n          :is-showing-more=\"state.isShowingMore\"\n        >{{ state.isShowingMore ? 'Show less' : 'Show more' }}</slot>\n      </button>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { connectHierarchicalMenu } from 'instantsearch.js/es/connectors';\nimport { createWidgetMixin } from '../mixins/widget';\nimport { createPanelConsumerMixin } from '../mixins/panel';\nimport HierarchicalMenuList from './HierarchicalMenuList.vue';\nimport { createSuitMixin } from '../mixins/suit';\n\nconst mapStateToCanRefine = state =>\n  Boolean(state.items) && state.items.length > 0;\n\nexport default {\n  name: 'AisHierarchicalMenu',\n  mixins: [\n    createSuitMixin({ name: 'HierarchicalMenu' }),\n    createWidgetMixin({ connector: connectHierarchicalMenu }),\n    createPanelConsumerMixin({\n      mapStateToCanRefine,\n    }),\n  ],\n  components: {\n    HierarchicalMenuList,\n  },\n  props: {\n    attributes: {\n      type: Array,\n      required: true,\n    },\n    limit: {\n      type: Number,\n      default: 10,\n    },\n    showMoreLimit: {\n      type: Number,\n      default: 20,\n    },\n    showMore: {\n      type: Boolean,\n      default: false,\n    },\n    sortBy: {\n      type: [Array, Function],\n      default() {\n        return ['name:asc'];\n      },\n    },\n    separator: {\n      type: String,\n      default: ' > ',\n    },\n    rootPath: {\n      type: String,\n      default: null,\n    },\n    showParentLevel: {\n      type: Boolean,\n      default: true,\n    },\n    transformItems: {\n      type: Function,\n      default(items) {\n        return items;\n      },\n    },\n  },\n  computed: {\n    widgetParams() {\n      return {\n        attributes: this.attributes,\n        limit: this.limit,\n        showMore: this.showMore,\n        showMoreLimit: this.showMoreLimit,\n        separator: this.separator,\n        rootPath: this.rootPath,\n        showParentLevel: this.showParentLevel,\n        sortBy: this.sortBy,\n        transformItems: this.transformItems,\n      };\n    },\n    canRefine() {\n      return mapStateToCanRefine(this.state);\n    },\n  },\n};\n</script>\n","var t={\"&amp;\":\"&\",\"&lt;\":\"<\",\"&gt;\":\">\",\"&quot;\":'\"',\"&#39;\":\"'\"},e=/&(?:amp|lt|gt|quot|#39);/g,r=RegExp(e.source);function u(u){return u&&r.test(u)?u.replace(e,function(e){return t[e]}):u}export{u as unescape};\n//# sourceMappingURL=unescape.js.map\n","import{getPropertyByPath as i}from\"instantsearch.js/es/lib/utils\";import{unescape as h}from\"./unescape.js\";var t={highlightPreTag:\"__ais-highlight__\",highlightPostTag:\"__/ais-highlight__\"};function r(i){var h=i.preTag,t=i.postTag,r=i.highlightedValue;void 0===r&&(r=\"\");var a=r.split(h),g=a.shift(),e=\"\"===g?[]:[{value:g,isHighlighted:!1}];if(t===h){var l=!0;a.forEach(function(i){e.push({value:i,isHighlighted:l}),l=!l})}else a.forEach(function(i){var h=i.split(t);e.push({value:h[0],isHighlighted:!0}),\"\"!==h[1]&&e.push({value:\" \"===h[1]?\"  \":h[1],isHighlighted:!1})});return e}function a(a){var g=a.preTag;void 0===g&&(g=t.highlightPreTag);var e=a.postTag;void 0===e&&(e=t.highlightPostTag);var l=a.highlightProperty,s=a.attribute,o=a.hit;if(!o)throw new Error(\"`hit`, the matching record, must be provided\");var u=i(o[l],s)||{};return Array.isArray(u)?u.map(function(i){return r({preTag:g,postTag:e,highlightedValue:h(i.value)})}):r({preTag:g,postTag:e,highlightedValue:h(u.value)})}export{a as parseAlgoliaHit};\n//# sourceMappingURL=parseAlgoliaHit.js.map\n","<template>\n  <span :class=\"suit()\">\n    <component\n      v-for=\"({ value, isHighlighted }, index) in parsedHighlights\"\n      :class=\"[isHighlighted && suit('highlighted')]\"\n      :key=\"index\"\n      :is=\"isHighlighted ? highlightedTagName : textNode\"\n    >{{ value }}</component>\n  </span>\n</template>\n\n<script>\nimport { parseAlgoliaHit } from '../util/parseAlgoliaHit';\n\nexport default {\n  name: 'AisHighlighter',\n  props: {\n    hit: {\n      type: Object,\n      required: true,\n    },\n    attribute: {\n      type: String,\n      required: true,\n    },\n    highlightedTagName: {\n      type: String,\n      default: 'mark',\n    },\n    suit: { type: Function, required: true },\n    highlightProperty: { type: String, required: true },\n    preTag: { type: String, required: true },\n    postTag: { type: String, required: true },\n  },\n  data() {\n    return {\n      textNode: {\n        functional: true,\n        render(createElement, context) {\n          const slots = context.slots();\n          return slots.default;\n        },\n      },\n    };\n  },\n  computed: {\n    parsedHighlights() {\n      return parseAlgoliaHit({\n        attribute: this.attribute,\n        hit: this.hit,\n        highlightProperty: this.highlightProperty,\n        preTag: this.preTag,\n        postTag: this.postTag,\n      });\n    },\n  },\n};\n</script>\n","<template>\n  <ais-highlighter\n    :hit=\"hit\"\n    :attribute=\"attribute\"\n    :highlighted-tag-name=\"highlightedTagName\"\n    :suit=\"suit\"\n    highlight-property=\"_highlightResult\"\n    pre-tag=\"<mark>\"\n    post-tag=\"</mark>\"\n  />\n</template>\n\n<script>\nimport { createSuitMixin } from '../mixins/suit';\nimport AisHighlighter from './Highlighter.vue';\n\nexport default {\n  name: 'AisHighlight',\n  mixins: [createSuitMixin({ name: 'Highlight' })],\n  components: { AisHighlighter },\n  props: {\n    hit: {\n      type: Object,\n      required: true,\n    },\n    attribute: {\n      type: String,\n      required: true,\n    },\n    highlightedTagName: {\n      type: String,\n      default: 'mark',\n    },\n  },\n};\n</script>\n","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { uniq, find, createDocumentationMessageGenerator, warning } from '../utils';\n\nvar getSelectedHits = function getSelectedHits(hits, selectedObjectIDs) {\n  return selectedObjectIDs.map(function (objectID) {\n    var hit = find(hits, function (h) {\n      return h.objectID === objectID;\n    });\n\n    if (typeof hit === 'undefined') {\n      throw new Error(\"Could not find objectID \\\"\".concat(objectID, \"\\\" passed to `clickedObjectIDsAfterSearch` in the returned hits. This is necessary to infer the absolute position and the query ID.\"));\n    }\n\n    return hit;\n  });\n};\n\nvar getQueryID = function getQueryID(selectedHits) {\n  var queryIDs = uniq(selectedHits.map(function (hit) {\n    return hit.__queryID;\n  }));\n\n  if (queryIDs.length > 1) {\n    throw new Error('Insights currently allows a single `queryID`. The `objectIDs` provided map to multiple `queryID`s.');\n  }\n\n  var queryID = queryIDs[0];\n\n  if (typeof queryID !== 'string') {\n    throw new Error(\"Could not infer `queryID`. Ensure InstantSearch `clickAnalytics: true` was added with the Configure widget.\\n\\nSee: https://alg.li/lNiZZ7\");\n  }\n\n  return queryID;\n};\n\nvar getPositions = function getPositions(selectedHits) {\n  return selectedHits.map(function (hit) {\n    return hit.__position;\n  });\n};\n\nexport var inferPayload = function inferPayload(_ref) {\n  var method = _ref.method,\n      results = _ref.results,\n      hits = _ref.hits,\n      objectIDs = _ref.objectIDs;\n  var index = results.index;\n  var selectedHits = getSelectedHits(hits, objectIDs);\n  var queryID = getQueryID(selectedHits);\n\n  switch (method) {\n    case 'clickedObjectIDsAfterSearch':\n      {\n        var positions = getPositions(selectedHits);\n        return {\n          index: index,\n          queryID: queryID,\n          objectIDs: objectIDs,\n          positions: positions\n        };\n      }\n\n    case 'convertedObjectIDsAfterSearch':\n      return {\n        index: index,\n        queryID: queryID,\n        objectIDs: objectIDs\n      };\n\n    default:\n      throw new Error(\"Unsupported method passed to insights: \\\"\".concat(method, \"\\\".\"));\n  }\n};\n\nvar wrapInsightsClient = function wrapInsightsClient(aa, results, hits) {\n  return function (method, payload) {\n    process.env.NODE_ENV === 'development' ? warning(false, \"`insights` function has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `insights` middleware.\\n\\nFor more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/\") : void 0;\n\n    if (!aa) {\n      var withInstantSearchUsage = createDocumentationMessageGenerator({\n        name: 'instantsearch'\n      });\n      throw new Error(withInstantSearchUsage('The `insightsClient` option has not been provided to `instantsearch`.'));\n    }\n\n    if (!Array.isArray(payload.objectIDs)) {\n      throw new TypeError('Expected `objectIDs` to be an array.');\n    }\n\n    var inferredPayload = inferPayload({\n      method: method,\n      results: results,\n      hits: hits,\n      objectIDs: payload.objectIDs\n    });\n    aa(method, _objectSpread(_objectSpread({}, inferredPayload), payload));\n  };\n};\n/**\n * @deprecated This function will be still supported in 4.x releases, but not further. It is replaced by the `insights` middleware. For more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/\n * It passes `insights` to `HitsWithInsightsListener` and `InfiniteHitsWithInsightsListener`.\n */\n\n\nexport default function withInsights(connector) {\n  return function (renderFn, unmountFn) {\n    return connector(function (renderOptions, isFirstRender) {\n      var results = renderOptions.results,\n          hits = renderOptions.hits,\n          instantSearchInstance = renderOptions.instantSearchInstance;\n\n      if (results && hits && instantSearchInstance) {\n        var insights = wrapInsightsClient(instantSearchInstance.insightsClient, results, hits);\n        return renderFn(_objectSpread(_objectSpread({}, renderOptions), {}, {\n          insights: insights\n        }), isFirstRender);\n      }\n\n      return renderFn(renderOptions, isFirstRender);\n    }, unmountFn);\n  };\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var addAbsolutePosition = function addAbsolutePosition(hits, page, hitsPerPage) {\n  return hits.map(function (hit, idx) {\n    return _objectSpread(_objectSpread({}, hit), {}, {\n      __position: hitsPerPage * page + idx + 1\n    });\n  });\n};","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport function addQueryID(hits, queryID) {\n  if (!queryID) {\n    return hits;\n  }\n\n  return hits.map(function (hit) {\n    return _objectSpread(_objectSpread({}, hit), {}, {\n      __queryID: queryID\n    });\n  });\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { escapeHits, TAG_PLACEHOLDER, checkRendering, createDocumentationMessageGenerator, addAbsolutePosition, addQueryID, createSendEventForHits, createBindEventForHits, noop } from '../../lib/utils';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'hits',\n  connector: true\n});\n\nvar connectHits = function connectHits(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function (widgetParams) {\n    var _ref = widgetParams || {},\n        _ref$escapeHTML = _ref.escapeHTML,\n        escapeHTML = _ref$escapeHTML === void 0 ? true : _ref$escapeHTML,\n        _ref$transformItems = _ref.transformItems,\n        transformItems = _ref$transformItems === void 0 ? function (items) {\n      return items;\n    } : _ref$transformItems;\n\n    var sendEvent;\n    var bindEvent;\n    return {\n      $$type: 'ais.hits',\n      init: function init(initOptions) {\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: initOptions.instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var renderState = this.getWidgetRenderState(renderOptions);\n        renderState.sendEvent('view', renderState.hits);\n        renderFn(_objectSpread(_objectSpread({}, renderState), {}, {\n          instantSearchInstance: renderOptions.instantSearchInstance\n        }), false);\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          hits: this.getWidgetRenderState(renderOptions)\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref2) {\n        var results = _ref2.results,\n            helper = _ref2.helper,\n            instantSearchInstance = _ref2.instantSearchInstance;\n\n        if (!sendEvent) {\n          sendEvent = createSendEventForHits({\n            instantSearchInstance: instantSearchInstance,\n            index: helper.getIndex(),\n            widgetType: this.$$type\n          });\n        }\n\n        if (!bindEvent) {\n          bindEvent = createBindEventForHits({\n            index: helper.getIndex(),\n            widgetType: this.$$type\n          });\n        }\n\n        if (!results) {\n          return {\n            hits: [],\n            results: undefined,\n            sendEvent: sendEvent,\n            bindEvent: bindEvent,\n            widgetParams: widgetParams\n          };\n        }\n\n        if (escapeHTML && results.hits.length > 0) {\n          results.hits = escapeHits(results.hits);\n        }\n\n        var initialEscaped = results.hits.__escaped;\n        results.hits = addAbsolutePosition(results.hits, results.page, results.hitsPerPage);\n        results.hits = addQueryID(results.hits, results.queryID);\n        results.hits = transformItems(results.hits); // Make sure the escaped tag stays, even after mapping over the hits.\n        // This prevents the hits from being double-escaped if there are multiple\n        // hits widgets mounted on the page.\n\n        results.hits.__escaped = initialEscaped;\n        return {\n          hits: results.hits,\n          results: results,\n          sendEvent: sendEvent,\n          bindEvent: bindEvent,\n          widgetParams: widgetParams\n        };\n      },\n      dispose: function dispose(_ref3) {\n        var state = _ref3.state;\n        unmountFn();\n\n        if (!escapeHTML) {\n          return state;\n        }\n\n        return state.setQueryParameters(Object.keys(TAG_PLACEHOLDER).reduce(function (acc, key) {\n          return _objectSpread(_objectSpread({}, acc), {}, _defineProperty({}, key, undefined));\n        }, {}));\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(state) {\n        if (!escapeHTML) {\n          return state;\n        }\n\n        return state.setQueryParameters(TAG_PLACEHOLDER);\n      }\n    };\n  };\n};\n\nexport default connectHits;","import { withInsights } from '../../lib/insights';\nimport connectHits from './connectHits';\nvar connectHitsWithInsights = withInsights(connectHits);\nexport default connectHitsWithInsights;","<template>\n  <div\n    v-if=\"state\"\n    :class=\"suit()\"\n  >\n    <slot\n      :items=\"items\"\n      :insights=\"state.insights\"\n      :send-event=\"state.sendEvent\"\n    >\n      <ol :class=\"suit('list')\">\n        <li\n          v-for=\"(item, itemIndex) in items\"\n          :key=\"item.objectID\"\n          :class=\"suit('item')\"\n        >\n          <slot\n            name=\"item\"\n            :item=\"item\"\n            :index=\"itemIndex\"\n            :insights=\"state.insights\"\n          >objectID: {{ item.objectID }}, index: {{ itemIndex }}</slot>\n        </li>\n      </ol>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { connectHitsWithInsights } from 'instantsearch.js/es/connectors';\nimport { createWidgetMixin } from '../mixins/widget';\nimport { createSuitMixin } from '../mixins/suit';\n\nexport default {\n  name: 'AisHits',\n  mixins: [\n    createWidgetMixin({ connector: connectHitsWithInsights }),\n    createSuitMixin({ name: 'Hits' }),\n  ],\n  props: {\n    escapeHTML: {\n      type: Boolean,\n      default: true,\n    },\n    transformItems: {\n      type: Function,\n      default(items) {\n        return items;\n      },\n    },\n  },\n  computed: {\n    items() {\n      return this.state.hits;\n    },\n    widgetParams() {\n      return {\n        escapeHTML: this.escapeHTML,\n        transformItems: this.transformItems,\n      };\n    },\n  },\n};\n</script>\n","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { checkRendering, warning, createDocumentationMessageGenerator, noop } from '../../lib/utils';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'hits-per-page',\n  connector: true\n});\n\nvar connectHitsPerPage = function connectHitsPerPage(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function (widgetParams) {\n    var _ref = widgetParams || {},\n        userItems = _ref.items,\n        _ref$transformItems = _ref.transformItems,\n        transformItems = _ref$transformItems === void 0 ? function (items) {\n      return items;\n    } : _ref$transformItems;\n\n    if (!Array.isArray(userItems)) {\n      throw new Error(withUsage('The `items` option expects an array of objects.'));\n    }\n\n    var items = userItems;\n    var defaultItems = items.filter(function (item) {\n      return item.default === true;\n    });\n\n    if (defaultItems.length === 0) {\n      throw new Error(withUsage(\"A default value must be specified in `items`.\"));\n    }\n\n    if (defaultItems.length > 1) {\n      throw new Error(withUsage('More than one default value is specified in `items`.'));\n    }\n\n    var defaultItem = defaultItems[0];\n\n    var normalizeItems = function normalizeItems(_ref2) {\n      var hitsPerPage = _ref2.hitsPerPage;\n      return items.map(function (item) {\n        return _objectSpread(_objectSpread({}, item), {}, {\n          isRefined: Number(item.value) === Number(hitsPerPage)\n        });\n      });\n    };\n\n    var connectorState = {\n      getRefine: function getRefine(helper) {\n        return function (value) {\n          return !value && value !== 0 ? helper.setQueryParameter('hitsPerPage', undefined).search() : helper.setQueryParameter('hitsPerPage', value).search();\n        };\n      },\n      createURLFactory: function createURLFactory(_ref3) {\n        var state = _ref3.state,\n            createURL = _ref3.createURL;\n        return function (value) {\n          return createURL(state.resetPage().setQueryParameter('hitsPerPage', !value && value !== 0 ? undefined : value));\n        };\n      }\n    };\n    return {\n      $$type: 'ais.hitsPerPage',\n      init: function init(initOptions) {\n        var state = initOptions.state,\n            instantSearchInstance = initOptions.instantSearchInstance;\n        var isCurrentInOptions = items.some(function (item) {\n          return Number(state.hitsPerPage) === Number(item.value);\n        });\n\n        if (!isCurrentInOptions) {\n          process.env.NODE_ENV === 'development' ? warning(state.hitsPerPage !== undefined, \"\\n`hitsPerPage` is not defined.\\nThe option `hitsPerPage` needs to be set using the `configure` widget.\\n\\nLearn more: https://www.algolia.com/doc/api-reference/widgets/hits-per-page/js/\\n            \") : void 0;\n          process.env.NODE_ENV === 'development' ? warning(false, \"\\nThe `items` option of `hitsPerPage` does not contain the \\\"hits per page\\\" value coming from the state: \".concat(state.hitsPerPage, \".\\n\\nYou may want to add another entry to the `items` option with this value.\")) : void 0;\n          items = [// The helper will convert the empty string to `undefined`.\n          {\n            value: '',\n            label: ''\n          }].concat(_toConsumableArray(items));\n        }\n\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose(_ref4) {\n        var state = _ref4.state;\n        unmountFn();\n        return state.setQueryParameter('hitsPerPage', undefined);\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          hitsPerPage: this.getWidgetRenderState(renderOptions)\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref5) {\n        var state = _ref5.state,\n            results = _ref5.results,\n            createURL = _ref5.createURL,\n            helper = _ref5.helper;\n        return {\n          items: transformItems(normalizeItems(state)),\n          refine: connectorState.getRefine(helper),\n          createURL: connectorState.createURLFactory({\n            state: state,\n            createURL: createURL\n          }),\n          hasNoResults: results ? results.nbHits === 0 : true,\n          widgetParams: widgetParams\n        };\n      },\n      getWidgetUiState: function getWidgetUiState(uiState, _ref6) {\n        var searchParameters = _ref6.searchParameters;\n        var hitsPerPage = searchParameters.hitsPerPage;\n\n        if (hitsPerPage === undefined || hitsPerPage === defaultItem.value) {\n          return uiState;\n        }\n\n        return _objectSpread(_objectSpread({}, uiState), {}, {\n          hitsPerPage: hitsPerPage\n        });\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters, _ref7) {\n        var uiState = _ref7.uiState;\n        return searchParameters.setQueryParameters({\n          hitsPerPage: uiState.hitsPerPage || defaultItem.value\n        });\n      }\n    };\n  };\n};\n\nexport default connectHitsPerPage;","<template>\n  <div\n    v-if=\"state\"\n    :class=\"suit()\"\n  >\n    <slot\n      :items=\"state.items\"\n      :refine=\"state.refine\"\n      :hasNoResults=\"state.hasNoResults\"\n    >\n      <select\n        :class=\"suit('select')\"\n        v-model=\"selected\"\n        @change=\"handleChange\"\n      >\n        <option\n          v-for=\"item in state.items\"\n          :key=\"item.value\"\n          :class=\"suit('option')\"\n          :value=\"item.value\"\n        >{{ item.label }}</option>\n      </select>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { connectHitsPerPage } from 'instantsearch.js/es/connectors';\nimport { createPanelConsumerMixin } from '../mixins/panel';\nimport { createWidgetMixin } from '../mixins/widget';\nimport { createSuitMixin } from '../mixins/suit';\n\nexport default {\n  name: 'AisHitsPerPage',\n  mixins: [\n    createSuitMixin({ name: 'HitsPerPage' }),\n    createWidgetMixin({ connector: connectHitsPerPage }),\n    createPanelConsumerMixin({\n      mapStateToCanRefine: state => state.hasNoResults === false,\n    }),\n  ],\n  props: {\n    items: {\n      type: Array,\n      required: true,\n      default: () => [],\n    },\n    transformItems: {\n      type: Function,\n      default(items) {\n        return items;\n      },\n    },\n  },\n  data() {\n    return {\n      selected: this.items.find(item => item.default === true).value,\n    };\n  },\n  computed: {\n    widgetParams() {\n      return {\n        items: this.items,\n        transformItems: this.transformItems,\n      };\n    },\n  },\n  methods: {\n    handleChange() {\n      this.state.refine(this.selected);\n    },\n  },\n};\n</script>\n","var resolveSearchParameters = function resolveSearchParameters(current) {\n  var parent = current.getParent();\n  var states = [current.getHelper().state];\n\n  while (parent !== null) {\n    states = [parent.getHelper().state].concat(states);\n    parent = parent.getParent();\n  }\n\n  return states;\n};\n\nexport default resolveSearchParameters;","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport algoliasearchHelper from 'algoliasearch-helper';\nimport { checkIndexUiState, createDocumentationMessageGenerator, resolveSearchParameters, mergeSearchParameters, warning } from '../../lib/utils';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'index-widget'\n});\nexport function isIndexWidget(widget) {\n  return widget.$$type === 'ais.index';\n}\n/**\n * This is the same content as helper._change / setState, but allowing for extra\n * UiState to be synchronized.\n * see: https://github.com/algolia/algoliasearch-helper-js/blob/6b835ffd07742f2d6b314022cce6848f5cfecd4a/src/algoliasearch.helper.js#L1311-L1324\n */\n\nfunction privateHelperSetState(helper, _ref) {\n  var state = _ref.state,\n      isPageReset = _ref.isPageReset,\n      _uiState = _ref._uiState;\n\n  if (state !== helper.state) {\n    helper.state = state;\n    helper.emit('change', {\n      state: helper.state,\n      results: helper.lastResults,\n      isPageReset: isPageReset,\n      _uiState: _uiState\n    });\n  }\n}\n\nfunction getLocalWidgetsUiState(widgets, widgetStateOptions) {\n  var initialUiState = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  return widgets.reduce(function (uiState, widget) {\n    if (isIndexWidget(widget)) {\n      return uiState;\n    }\n\n    if (!widget.getWidgetUiState && !widget.getWidgetState) {\n      return uiState;\n    }\n\n    if (widget.getWidgetUiState) {\n      return widget.getWidgetUiState(uiState, widgetStateOptions);\n    }\n\n    return widget.getWidgetState(uiState, widgetStateOptions);\n  }, initialUiState);\n}\n\nfunction getLocalWidgetsSearchParameters(widgets, widgetSearchParametersOptions) {\n  var initialSearchParameters = widgetSearchParametersOptions.initialSearchParameters,\n      rest = _objectWithoutProperties(widgetSearchParametersOptions, [\"initialSearchParameters\"]);\n\n  return widgets.filter(function (widget) {\n    return !isIndexWidget(widget);\n  }).reduce(function (state, widget) {\n    if (!widget.getWidgetSearchParameters) {\n      return state;\n    }\n\n    return widget.getWidgetSearchParameters(state, rest);\n  }, initialSearchParameters);\n}\n\nfunction resetPageFromWidgets(widgets) {\n  var indexWidgets = widgets.filter(isIndexWidget);\n\n  if (indexWidgets.length === 0) {\n    return;\n  }\n\n  indexWidgets.forEach(function (widget) {\n    var widgetHelper = widget.getHelper();\n    privateHelperSetState(widgetHelper, {\n      state: widgetHelper.state.resetPage(),\n      isPageReset: true\n    });\n    resetPageFromWidgets(widget.getWidgets());\n  });\n}\n\nfunction resolveScopedResultsFromWidgets(widgets) {\n  var indexWidgets = widgets.filter(isIndexWidget);\n  return indexWidgets.reduce(function (scopedResults, current) {\n    return scopedResults.concat.apply(scopedResults, [{\n      indexId: current.getIndexId(),\n      results: current.getResults(),\n      helper: current.getHelper()\n    }].concat(_toConsumableArray(resolveScopedResultsFromWidgets(current.getWidgets()))));\n  }, []);\n}\n\nvar index = function index(widgetParams) {\n  if (widgetParams === undefined || widgetParams.indexName === undefined) {\n    throw new Error(withUsage('The `indexName` option is required.'));\n  }\n\n  var indexName = widgetParams.indexName,\n      _widgetParams$indexId = widgetParams.indexId,\n      indexId = _widgetParams$indexId === void 0 ? indexName : _widgetParams$indexId;\n  var localWidgets = [];\n  var localUiState = {};\n  var localInstantSearchInstance = null;\n  var localParent = null;\n  var helper = null;\n  var derivedHelper = null;\n  return {\n    $$type: 'ais.index',\n    $$widgetType: 'ais.index',\n    getIndexName: function getIndexName() {\n      return indexName;\n    },\n    getIndexId: function getIndexId() {\n      return indexId;\n    },\n    getHelper: function getHelper() {\n      return helper;\n    },\n    getResults: function getResults() {\n      return derivedHelper && derivedHelper.lastResults;\n    },\n    getScopedResults: function getScopedResults() {\n      var widgetParent = this.getParent(); // If the widget is the root, we consider itself as the only sibling.\n\n      var widgetSiblings = widgetParent ? widgetParent.getWidgets() : [this];\n      return resolveScopedResultsFromWidgets(widgetSiblings);\n    },\n    getParent: function getParent() {\n      return localParent;\n    },\n    createURL: function createURL(nextState) {\n      return localInstantSearchInstance._createURL(_defineProperty({}, indexId, getLocalWidgetsUiState(localWidgets, {\n        searchParameters: nextState,\n        helper: helper\n      })));\n    },\n    getWidgets: function getWidgets() {\n      return localWidgets;\n    },\n    addWidgets: function addWidgets(widgets) {\n      var _this = this;\n\n      if (!Array.isArray(widgets)) {\n        throw new Error(withUsage('The `addWidgets` method expects an array of widgets.'));\n      }\n\n      if (widgets.some(function (widget) {\n        return typeof widget.init !== 'function' && typeof widget.render !== 'function';\n      })) {\n        throw new Error(withUsage('The widget definition expects a `render` and/or an `init` method.'));\n      }\n\n      localWidgets = localWidgets.concat(widgets);\n\n      if (localInstantSearchInstance && Boolean(widgets.length)) {\n        privateHelperSetState(helper, {\n          state: getLocalWidgetsSearchParameters(localWidgets, {\n            uiState: localUiState,\n            initialSearchParameters: helper.state\n          }),\n          _uiState: localUiState\n        }); // We compute the render state before calling `init` in a separate loop\n        // to construct the whole render state object that is then passed to\n        // `init`.\n\n        widgets.forEach(function (widget) {\n          if (widget.getRenderState) {\n            var renderState = widget.getRenderState(localInstantSearchInstance.renderState[_this.getIndexId()] || {}, {\n              uiState: localInstantSearchInstance._initialUiState,\n              helper: _this.getHelper(),\n              parent: _this,\n              instantSearchInstance: localInstantSearchInstance,\n              state: helper.state,\n              renderState: localInstantSearchInstance.renderState,\n              templatesConfig: localInstantSearchInstance.templatesConfig,\n              createURL: _this.createURL,\n              scopedResults: [],\n              searchMetadata: {\n                isSearchStalled: localInstantSearchInstance._isSearchStalled\n              }\n            });\n            storeRenderState({\n              renderState: renderState,\n              instantSearchInstance: localInstantSearchInstance,\n              parent: _this\n            });\n          }\n        });\n        widgets.forEach(function (widget) {\n          if (widget.init) {\n            widget.init({\n              helper: helper,\n              parent: _this,\n              uiState: localInstantSearchInstance._initialUiState,\n              instantSearchInstance: localInstantSearchInstance,\n              state: helper.state,\n              renderState: localInstantSearchInstance.renderState,\n              templatesConfig: localInstantSearchInstance.templatesConfig,\n              createURL: _this.createURL,\n              scopedResults: [],\n              searchMetadata: {\n                isSearchStalled: localInstantSearchInstance._isSearchStalled\n              }\n            });\n          }\n        });\n        localInstantSearchInstance.scheduleSearch();\n      }\n\n      return this;\n    },\n    removeWidgets: function removeWidgets(widgets) {\n      var _this2 = this;\n\n      if (!Array.isArray(widgets)) {\n        throw new Error(withUsage('The `removeWidgets` method expects an array of widgets.'));\n      }\n\n      if (widgets.some(function (widget) {\n        return typeof widget.dispose !== 'function';\n      })) {\n        throw new Error(withUsage('The widget definition expects a `dispose` method.'));\n      }\n\n      localWidgets = localWidgets.filter(function (widget) {\n        return widgets.indexOf(widget) === -1;\n      });\n\n      if (localInstantSearchInstance && Boolean(widgets.length)) {\n        var nextState = widgets.reduce(function (state, widget) {\n          // the `dispose` method exists at this point we already assert it\n          var next = widget.dispose({\n            helper: helper,\n            state: state,\n            parent: _this2\n          });\n          return next || state;\n        }, helper.state);\n        localUiState = getLocalWidgetsUiState(localWidgets, {\n          searchParameters: nextState,\n          helper: helper\n        });\n        helper.setState(getLocalWidgetsSearchParameters(localWidgets, {\n          uiState: localUiState,\n          initialSearchParameters: nextState\n        }));\n\n        if (localWidgets.length) {\n          localInstantSearchInstance.scheduleSearch();\n        }\n      }\n\n      return this;\n    },\n    init: function init(_ref2) {\n      var _this3 = this;\n\n      var instantSearchInstance = _ref2.instantSearchInstance,\n          parent = _ref2.parent,\n          uiState = _ref2.uiState;\n\n      if (helper !== null) {\n        // helper is already initialized, therefore we do not need to set up\n        // any listeners\n        return;\n      }\n\n      localInstantSearchInstance = instantSearchInstance;\n      localParent = parent;\n      localUiState = uiState[indexId] || {}; // The `mainHelper` is already defined at this point. The instance is created\n      // inside InstantSearch at the `start` method, which occurs before the `init`\n      // step.\n\n      var mainHelper = instantSearchInstance.mainHelper;\n      var parameters = getLocalWidgetsSearchParameters(localWidgets, {\n        uiState: localUiState,\n        initialSearchParameters: new algoliasearchHelper.SearchParameters({\n          index: indexName\n        })\n      }); // This Helper is only used for state management we do not care about the\n      // `searchClient`. Only the \"main\" Helper created at the `InstantSearch`\n      // level is aware of the client.\n\n      helper = algoliasearchHelper({}, parameters.index, parameters); // We forward the call to `search` to the \"main\" instance of the Helper\n      // which is responsible for managing the queries (it's the only one that is\n      // aware of the `searchClient`).\n\n      helper.search = function () {\n        if (instantSearchInstance.onStateChange) {\n          instantSearchInstance.onStateChange({\n            uiState: instantSearchInstance.mainIndex.getWidgetUiState({}),\n            setUiState: instantSearchInstance.setUiState.bind(instantSearchInstance)\n          }); // We don't trigger a search when controlled because it becomes the\n          // responsibility of `setUiState`.\n\n          return mainHelper;\n        }\n\n        return mainHelper.search();\n      };\n\n      helper.searchWithoutTriggeringOnStateChange = function () {\n        return mainHelper.search();\n      }; // We use the same pattern for the `searchForFacetValues`.\n\n\n      helper.searchForFacetValues = function (facetName, facetValue, maxFacetHits, userState) {\n        var state = helper.state.setQueryParameters(userState);\n        return mainHelper.searchForFacetValues(facetName, facetValue, maxFacetHits, state);\n      };\n\n      derivedHelper = mainHelper.derive(function () {\n        return mergeSearchParameters.apply(void 0, _toConsumableArray(resolveSearchParameters(_this3)));\n      }); // Subscribe to the Helper state changes for the page before widgets\n      // are initialized. This behavior mimics the original one of the Helper.\n      // It makes sense to replicate it at the `init` step. We have another\n      // listener on `change` below, once `init` is done.\n\n      helper.on('change', function (_ref3) {\n        var isPageReset = _ref3.isPageReset;\n\n        if (isPageReset) {\n          resetPageFromWidgets(localWidgets);\n        }\n      });\n      derivedHelper.on('search', function () {\n        // The index does not manage the \"staleness\" of the search. This is the\n        // responsibility of the main instance. It does not make sense to manage\n        // it at the index level because it's either: all of them or none of them\n        // that are stalled. The queries are performed into a single network request.\n        instantSearchInstance.scheduleStalledRender();\n\n        if (process.env.NODE_ENV === 'development') {\n          checkIndexUiState({\n            index: _this3,\n            indexUiState: localUiState\n          });\n        }\n      });\n      derivedHelper.on('result', function (_ref4) {\n        var results = _ref4.results;\n        // The index does not render the results it schedules a new render\n        // to let all the other indices emit their own results. It allows us to\n        // run the render process in one pass.\n        instantSearchInstance.scheduleRender(); // the derived helper is the one which actually searches, but the helper\n        // which is exposed e.g. via instance.helper, doesn't search, and thus\n        // does not have access to lastResults, which it used to in pre-federated\n        // search behavior.\n\n        helper.lastResults = results;\n      }); // We compute the render state before calling `init` in a separate loop\n      // to construct the whole render state object that is then passed to\n      // `init`.\n\n      localWidgets.forEach(function (widget) {\n        if (widget.getRenderState) {\n          var renderState = widget.getRenderState(instantSearchInstance.renderState[_this3.getIndexId()] || {}, {\n            uiState: uiState,\n            helper: helper,\n            parent: _this3,\n            instantSearchInstance: instantSearchInstance,\n            state: helper.state,\n            renderState: instantSearchInstance.renderState,\n            templatesConfig: instantSearchInstance.templatesConfig,\n            createURL: _this3.createURL,\n            scopedResults: [],\n            searchMetadata: {\n              isSearchStalled: instantSearchInstance._isSearchStalled\n            }\n          });\n          storeRenderState({\n            renderState: renderState,\n            instantSearchInstance: instantSearchInstance,\n            parent: _this3\n          });\n        }\n      });\n      localWidgets.forEach(function (widget) {\n        process.env.NODE_ENV === 'development' ? warning( // if it has NO getWidgetState or if it has getWidgetUiState, we don't warn\n        // aka we warn if there's _only_ getWidgetState\n        !widget.getWidgetState || Boolean(widget.getWidgetUiState), 'The `getWidgetState` method is renamed `getWidgetUiState` and will no longer exist under that name in InstantSearch.js 5.x. Please use `getWidgetUiState` instead.') : void 0;\n\n        if (widget.init) {\n          widget.init({\n            uiState: uiState,\n            helper: helper,\n            parent: _this3,\n            instantSearchInstance: instantSearchInstance,\n            state: helper.state,\n            renderState: instantSearchInstance.renderState,\n            templatesConfig: instantSearchInstance.templatesConfig,\n            createURL: _this3.createURL,\n            scopedResults: [],\n            searchMetadata: {\n              isSearchStalled: instantSearchInstance._isSearchStalled\n            }\n          });\n        }\n      }); // Subscribe to the Helper state changes for the `uiState` once widgets\n      // are initialized. Until the first render, state changes are part of the\n      // configuration step. This is mainly for backward compatibility with custom\n      // widgets. When the subscription happens before the `init` step, the (static)\n      // configuration of the widget is pushed in the URL. That's what we want to avoid.\n      // https://github.com/algolia/instantsearch.js/pull/994/commits/4a672ae3fd78809e213de0368549ef12e9dc9454\n\n      helper.on('change', function (event) {\n        var state = event.state;\n        var _uiState = event._uiState;\n        localUiState = getLocalWidgetsUiState(localWidgets, {\n          searchParameters: state,\n          helper: helper\n        }, _uiState || {}); // We don't trigger an internal change when controlled because it\n        // becomes the responsibility of `setUiState`.\n\n        if (!instantSearchInstance.onStateChange) {\n          instantSearchInstance.onInternalStateChange();\n        }\n      });\n    },\n    render: function render(_ref5) {\n      var _this4 = this;\n\n      var instantSearchInstance = _ref5.instantSearchInstance;\n\n      if (!this.getResults()) {\n        return;\n      }\n\n      localWidgets.forEach(function (widget) {\n        if (widget.getRenderState) {\n          var renderState = widget.getRenderState(instantSearchInstance.renderState[_this4.getIndexId()] || {}, {\n            helper: _this4.getHelper(),\n            parent: _this4,\n            instantSearchInstance: instantSearchInstance,\n            results: _this4.getResults(),\n            scopedResults: _this4.getScopedResults(),\n            state: _this4.getResults()._state,\n            renderState: instantSearchInstance.renderState,\n            templatesConfig: instantSearchInstance.templatesConfig,\n            createURL: _this4.createURL,\n            searchMetadata: {\n              isSearchStalled: instantSearchInstance._isSearchStalled\n            }\n          });\n          storeRenderState({\n            renderState: renderState,\n            instantSearchInstance: instantSearchInstance,\n            parent: _this4\n          });\n        }\n      });\n      localWidgets.forEach(function (widget) {\n        // At this point, all the variables used below are set. Both `helper`\n        // and `derivedHelper` have been created at the `init` step. The attribute\n        // `lastResults` might be `null` though. It's possible that a stalled render\n        // happens before the result e.g with a dynamically added index the request might\n        // be delayed. The render is triggered for the complete tree but some parts do\n        // not have results yet.\n        if (widget.render) {\n          widget.render({\n            helper: helper,\n            parent: _this4,\n            instantSearchInstance: instantSearchInstance,\n            results: _this4.getResults(),\n            scopedResults: _this4.getScopedResults(),\n            state: _this4.getResults()._state,\n            renderState: instantSearchInstance.renderState,\n            templatesConfig: instantSearchInstance.templatesConfig,\n            createURL: _this4.createURL,\n            searchMetadata: {\n              isSearchStalled: instantSearchInstance._isSearchStalled\n            }\n          });\n        }\n      });\n    },\n    dispose: function dispose() {\n      var _this5 = this;\n\n      localWidgets.forEach(function (widget) {\n        if (widget.dispose) {\n          // The dispose function is always called once the instance is started\n          // (it's an effect of `removeWidgets`). The index is initialized and\n          // the Helper is available. We don't care about the return value of\n          // `dispose` because the index is removed. We can't call `removeWidgets`\n          // because we want to keep the widgets on the instance, to allow idempotent\n          // operations on `add` & `remove`.\n          widget.dispose({\n            helper: helper,\n            state: helper.state,\n            parent: _this5\n          });\n        }\n      });\n      localInstantSearchInstance = null;\n      localParent = null;\n      helper.removeAllListeners();\n      helper = null;\n      derivedHelper.detach();\n      derivedHelper = null;\n    },\n    getWidgetUiState: function getWidgetUiState(uiState) {\n      return localWidgets.filter(isIndexWidget).reduce(function (previousUiState, innerIndex) {\n        return innerIndex.getWidgetUiState(previousUiState);\n      }, _objectSpread(_objectSpread({}, uiState), {}, _defineProperty({}, this.getIndexId(), localUiState)));\n    },\n    getWidgetState: function getWidgetState(uiState) {\n      process.env.NODE_ENV === 'development' ? warning(false, 'The `getWidgetState` method is renamed `getWidgetUiState` and will no longer exist under that name in InstantSearch.js 5.x. Please use `getWidgetUiState` instead.') : void 0;\n      return this.getWidgetUiState(uiState);\n    },\n    getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters, _ref6) {\n      var uiState = _ref6.uiState;\n      return getLocalWidgetsSearchParameters(localWidgets, {\n        uiState: uiState,\n        initialSearchParameters: searchParameters\n      });\n    },\n    refreshUiState: function refreshUiState() {\n      localUiState = getLocalWidgetsUiState(localWidgets, {\n        searchParameters: this.getHelper().state,\n        helper: this.getHelper()\n      });\n    }\n  };\n};\n\nexport default index;\n\nfunction storeRenderState(_ref7) {\n  var renderState = _ref7.renderState,\n      instantSearchInstance = _ref7.instantSearchInstance,\n      parent = _ref7.parent;\n  var parentIndexName = parent ? parent.getIndexId() : instantSearchInstance.mainIndex.getIndexId();\n  instantSearchInstance.renderState = _objectSpread(_objectSpread({}, instantSearchInstance.renderState), {}, _defineProperty({}, parentIndexName, _objectSpread(_objectSpread({}, instantSearchInstance.renderState[parentIndexName]), renderState)));\n}","import{createSuitMixin as e}from\"../mixins/suit.js\";import{createWidgetMixin as i}from\"../mixins/widget.js\";import n from\"instantsearch.js/es/widgets/index/index\";export default{name:\"AisIndex\",mixins:[e({name:\"Index\"}),i({connector:function(){return n}})],provide:function(){var e=this;return{$_ais_getParentIndex:function(){return e.widget}}},props:{indexName:{type:String,required:!0},indexId:{type:String,required:!1}},render:function(e){return e(\"div\",{},this.$slots.default)},computed:{widgetParams:function(){return{indexName:this.indexName,indexId:this.indexId}}}};\n//# sourceMappingURL=Index.js.map\n","export default '4.22.0';","var NAMESPACE = 'ais';\nexport var component = function component(componentName) {\n  return function () {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        descendantName = _ref.descendantName,\n        modifierName = _ref.modifierName;\n\n    var descendent = descendantName ? \"-\".concat(descendantName) : '';\n    var modifier = modifierName ? \"--\".concat(modifierName) : '';\n    return \"\".concat(NAMESPACE, \"-\").concat(componentName).concat(descendent).concat(modifier);\n  };\n};","import { component } from '../lib/suit';\nimport { getPropertyByPath, TAG_REPLACEMENT } from '../lib/utils';\nvar suit = component('Highlight');\nexport default function highlight(_ref) {\n  var attribute = _ref.attribute,\n      _ref$highlightedTagNa = _ref.highlightedTagName,\n      highlightedTagName = _ref$highlightedTagNa === void 0 ? 'mark' : _ref$highlightedTagNa,\n      hit = _ref.hit,\n      _ref$cssClasses = _ref.cssClasses,\n      cssClasses = _ref$cssClasses === void 0 ? {} : _ref$cssClasses;\n\n  var _ref2 = getPropertyByPath(hit._highlightResult, attribute) || {},\n      _ref2$value = _ref2.value,\n      attributeValue = _ref2$value === void 0 ? '' : _ref2$value; // cx is not used, since it would be bundled as a dependency for Vue & Angular\n\n\n  var className = suit({\n    descendantName: 'highlighted'\n  }) + (cssClasses.highlighted ? \" \".concat(cssClasses.highlighted) : '');\n  return attributeValue.replace(new RegExp(TAG_REPLACEMENT.highlightPreTag, 'g'), \"<\".concat(highlightedTagName, \" class=\\\"\").concat(className, \"\\\">\")).replace(new RegExp(TAG_REPLACEMENT.highlightPostTag, 'g'), \"</\".concat(highlightedTagName, \">\"));\n}","import { TAG_REPLACEMENT } from './escape-highlight';\nexport default function concatHighlightedParts(parts) {\n  var highlightPreTag = TAG_REPLACEMENT.highlightPreTag,\n      highlightPostTag = TAG_REPLACEMENT.highlightPostTag;\n  return parts.map(function (part) {\n    return part.isHighlighted ? highlightPreTag + part.value + highlightPostTag : part.value;\n  }).join('');\n}","/**\n * This implementation is taken from Lodash implementation.\n * See: https://github.com/lodash/lodash/blob/4.17.11-npm/unescape.js\n */\n// Used to map HTML entities to characters.\nvar htmlEscapes = {\n  '&amp;': '&',\n  '&lt;': '<',\n  '&gt;': '>',\n  '&quot;': '\"',\n  '&#39;': \"'\"\n}; // Used to match HTML entities and HTML characters.\n\nvar regexEscapedHtml = /&(amp|quot|lt|gt|#39);/g;\nvar regexHasEscapedHtml = RegExp(regexEscapedHtml.source);\n/**\n * Converts the HTML entities \"&\", \"<\", \">\", '\"', and \"'\" in `string` to their\n * characters.\n */\n\nexport default function unescape(value) {\n  return value && regexHasEscapedHtml.test(value) ? value.replace(regexEscapedHtml, function (character) {\n    return htmlEscapes[character];\n  }) : value;\n}","import unescape from './unescape';\nvar hasAlphanumeric = new RegExp(/\\w/i);\nexport default function getHighlightFromSiblings(parts, i) {\n  var _parts, _parts2;\n\n  var current = parts[i];\n  var isNextHighlighted = ((_parts = parts[i + 1]) === null || _parts === void 0 ? void 0 : _parts.isHighlighted) || true;\n  var isPreviousHighlighted = ((_parts2 = parts[i - 1]) === null || _parts2 === void 0 ? void 0 : _parts2.isHighlighted) || true;\n\n  if (!hasAlphanumeric.test(unescape(current.value)) && isPreviousHighlighted === isNextHighlighted) {\n    return isPreviousHighlighted;\n  }\n\n  return current.isHighlighted;\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport getHighlightFromSiblings from './getHighlightFromSiblings';\nexport default function reverseHighlightedParts(parts) {\n  if (!parts.some(function (part) {\n    return part.isHighlighted;\n  })) {\n    return parts.map(function (part) {\n      return _objectSpread(_objectSpread({}, part), {}, {\n        isHighlighted: false\n      });\n    });\n  }\n\n  return parts.map(function (part, i) {\n    return _objectSpread(_objectSpread({}, part), {}, {\n      isHighlighted: !getHighlightFromSiblings(parts, i)\n    });\n  });\n}","import { TAG_REPLACEMENT } from './escape-highlight';\nexport default function getHighlightedParts(highlightedValue) {\n  var highlightPostTag = TAG_REPLACEMENT.highlightPostTag,\n      highlightPreTag = TAG_REPLACEMENT.highlightPreTag;\n  var splitByPreTag = highlightedValue.split(highlightPreTag);\n  var firstValue = splitByPreTag.shift();\n  var elements = !firstValue ? [] : [{\n    value: firstValue,\n    isHighlighted: false\n  }];\n  splitByPreTag.forEach(function (split) {\n    var splitByPostTag = split.split(highlightPostTag);\n    elements.push({\n      value: splitByPostTag[0],\n      isHighlighted: true\n    });\n\n    if (splitByPostTag[1] !== '') {\n      elements.push({\n        value: splitByPostTag[1],\n        isHighlighted: false\n      });\n    }\n  });\n  return elements;\n}","import { TAG_REPLACEMENT, getPropertyByPath, getHighlightedParts, reverseHighlightedParts, concatHighlightedParts } from '../lib/utils';\nimport { component } from '../lib/suit';\nvar suit = component('ReverseHighlight');\nexport default function reverseHighlight(_ref) {\n  var attribute = _ref.attribute,\n      _ref$highlightedTagNa = _ref.highlightedTagName,\n      highlightedTagName = _ref$highlightedTagNa === void 0 ? 'mark' : _ref$highlightedTagNa,\n      hit = _ref.hit,\n      _ref$cssClasses = _ref.cssClasses,\n      cssClasses = _ref$cssClasses === void 0 ? {} : _ref$cssClasses;\n\n  var _ref2 = getPropertyByPath(hit._highlightResult, attribute) || {},\n      _ref2$value = _ref2.value,\n      attributeValue = _ref2$value === void 0 ? '' : _ref2$value; // cx is not used, since it would be bundled as a dependency for Vue & Angular\n\n\n  var className = suit({\n    descendantName: 'highlighted'\n  }) + (cssClasses.highlighted ? \" \".concat(cssClasses.highlighted) : '');\n  var reverseHighlightedValue = concatHighlightedParts(reverseHighlightedParts(getHighlightedParts(attributeValue)));\n  return reverseHighlightedValue.replace(new RegExp(TAG_REPLACEMENT.highlightPreTag, 'g'), \"<\".concat(highlightedTagName, \" class=\\\"\").concat(className, \"\\\">\")).replace(new RegExp(TAG_REPLACEMENT.highlightPostTag, 'g'), \"</\".concat(highlightedTagName, \">\"));\n}","import { component } from '../lib/suit';\nimport { TAG_REPLACEMENT, getPropertyByPath } from '../lib/utils';\nvar suit = component('Snippet');\nexport default function snippet(_ref) {\n  var attribute = _ref.attribute,\n      _ref$highlightedTagNa = _ref.highlightedTagName,\n      highlightedTagName = _ref$highlightedTagNa === void 0 ? 'mark' : _ref$highlightedTagNa,\n      hit = _ref.hit,\n      _ref$cssClasses = _ref.cssClasses,\n      cssClasses = _ref$cssClasses === void 0 ? {} : _ref$cssClasses;\n\n  var _ref2 = getPropertyByPath(hit._snippetResult, attribute) || {},\n      _ref2$value = _ref2.value,\n      attributeValue = _ref2$value === void 0 ? '' : _ref2$value; // cx is not used, since it would be bundled as a dependency for Vue & Angular\n\n\n  var className = suit({\n    descendantName: 'highlighted'\n  }) + (cssClasses.highlighted ? \" \".concat(cssClasses.highlighted) : '');\n  return attributeValue.replace(new RegExp(TAG_REPLACEMENT.highlightPreTag, 'g'), \"<\".concat(highlightedTagName, \" class=\\\"\").concat(className, \"\\\">\")).replace(new RegExp(TAG_REPLACEMENT.highlightPostTag, 'g'), \"</\".concat(highlightedTagName, \">\"));\n}","import { TAG_REPLACEMENT, getPropertyByPath, getHighlightedParts, reverseHighlightedParts, concatHighlightedParts } from '../lib/utils';\nimport { component } from '../lib/suit';\nvar suit = component('ReverseSnippet');\nexport default function reverseSnippet(_ref) {\n  var attribute = _ref.attribute,\n      _ref$highlightedTagNa = _ref.highlightedTagName,\n      highlightedTagName = _ref$highlightedTagNa === void 0 ? 'mark' : _ref$highlightedTagNa,\n      hit = _ref.hit,\n      _ref$cssClasses = _ref.cssClasses,\n      cssClasses = _ref$cssClasses === void 0 ? {} : _ref$cssClasses;\n\n  var _ref2 = getPropertyByPath(hit._snippetResult, attribute) || {},\n      _ref2$value = _ref2.value,\n      attributeValue = _ref2$value === void 0 ? '' : _ref2$value; // cx is not used, since it would be bundled as a dependency for Vue & Angular\n\n\n  var className = suit({\n    descendantName: 'highlighted'\n  }) + (cssClasses.highlighted ? \" \".concat(cssClasses.highlighted) : '');\n  var reverseHighlightedValue = concatHighlightedParts(reverseHighlightedParts(getHighlightedParts(attributeValue)));\n  return reverseHighlightedValue.replace(new RegExp(TAG_REPLACEMENT.highlightPreTag, 'g'), \"<\".concat(highlightedTagName, \" class=\\\"\").concat(className, \"\\\">\")).replace(new RegExp(TAG_REPLACEMENT.highlightPostTag, 'g'), \"</\".concat(highlightedTagName, \">\"));\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport { warning, serializePayload, deserializePayload } from '../lib/utils';\nexport function readDataAttributes(domElement) {\n  var method = domElement.getAttribute('data-insights-method');\n  var serializedPayload = domElement.getAttribute('data-insights-payload');\n\n  if (typeof serializedPayload !== 'string') {\n    throw new Error('The insights helper expects `data-insights-payload` to be a base64-encoded JSON string.');\n  }\n\n  try {\n    var payload = deserializePayload(serializedPayload);\n    return {\n      method: method,\n      payload: payload\n    };\n  } catch (error) {\n    throw new Error('The insights helper was unable to parse `data-insights-payload`.');\n  }\n}\nexport function hasDataAttributes(domElement) {\n  return domElement.hasAttribute('data-insights-method');\n}\nexport function writeDataAttributes(_ref) {\n  var method = _ref.method,\n      payload = _ref.payload;\n\n  if (_typeof(payload) !== 'object') {\n    throw new Error(\"The insights helper expects the payload to be an object.\");\n  }\n\n  var serializedPayload;\n\n  try {\n    serializedPayload = serializePayload(payload);\n  } catch (error) {\n    throw new Error(\"Could not JSON serialize the payload object.\");\n  }\n\n  return \"data-insights-method=\\\"\".concat(method, \"\\\" data-insights-payload=\\\"\").concat(serializedPayload, \"\\\"\");\n}\n/**\n * @deprecated This function will be still supported in 4.x releases, but not further. It is replaced by the `insights` middleware. For more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/\n */\n\nexport default function insights(method, payload) {\n  process.env.NODE_ENV === 'development' ? warning(false, \"`insights` function has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `insights` middleware.\\n\\nFor more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/\") : void 0;\n  return writeDataAttributes({\n    method: method,\n    payload: payload\n  });\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { highlight as _highlight, reverseHighlight as _reverseHighlight, snippet as _snippet, reverseSnippet as _reverseSnippet, insights as _insights } from '../helpers';\nexport default function hoganHelpers(_ref) {\n  var numberLocale = _ref.numberLocale;\n  return {\n    formatNumber: function formatNumber(value, render) {\n      return Number(render(value)).toLocaleString(numberLocale);\n    },\n    highlight: function highlight(options, render) {\n      try {\n        var highlightOptions = JSON.parse(options);\n        return render(_highlight(_objectSpread(_objectSpread({}, highlightOptions), {}, {\n          hit: this\n        })));\n      } catch (error) {\n        throw new Error(\"\\nThe highlight helper expects a JSON object of the format:\\n{ \\\"attribute\\\": \\\"name\\\", \\\"highlightedTagName\\\": \\\"mark\\\" }\");\n      }\n    },\n    reverseHighlight: function reverseHighlight(options, render) {\n      try {\n        var reverseHighlightOptions = JSON.parse(options);\n        return render(_reverseHighlight(_objectSpread(_objectSpread({}, reverseHighlightOptions), {}, {\n          hit: this\n        })));\n      } catch (error) {\n        throw new Error(\"\\n  The reverseHighlight helper expects a JSON object of the format:\\n  { \\\"attribute\\\": \\\"name\\\", \\\"highlightedTagName\\\": \\\"mark\\\" }\");\n      }\n    },\n    snippet: function snippet(options, render) {\n      try {\n        var snippetOptions = JSON.parse(options);\n        return render(_snippet(_objectSpread(_objectSpread({}, snippetOptions), {}, {\n          hit: this\n        })));\n      } catch (error) {\n        throw new Error(\"\\nThe snippet helper expects a JSON object of the format:\\n{ \\\"attribute\\\": \\\"name\\\", \\\"highlightedTagName\\\": \\\"mark\\\" }\");\n      }\n    },\n    reverseSnippet: function reverseSnippet(options, render) {\n      try {\n        var reverseSnippetOptions = JSON.parse(options);\n        return render(_reverseSnippet(_objectSpread(_objectSpread({}, reverseSnippetOptions), {}, {\n          hit: this\n        })));\n      } catch (error) {\n        throw new Error(\"\\n  The reverseSnippet helper expects a JSON object of the format:\\n  { \\\"attribute\\\": \\\"name\\\", \\\"highlightedTagName\\\": \\\"mark\\\" }\");\n      }\n    },\n    insights: function insights(options, render) {\n      try {\n        var _JSON$parse = JSON.parse(options),\n            method = _JSON$parse.method,\n            payload = _JSON$parse.payload;\n\n        return render(_insights(method, _objectSpread({\n          objectIDs: [this.objectID]\n        }, payload)));\n      } catch (error) {\n        throw new Error(\"\\nThe insights helper expects a JSON object of the format:\\n{ \\\"method\\\": \\\"method-name\\\", \\\"payload\\\": { \\\"eventName\\\": \\\"name of the event\\\" } }\");\n      }\n    }\n  };\n}","var nextMicroTask = Promise.resolve();\n\nvar defer = function defer(callback) {\n  var progress = null;\n  var cancelled = false;\n\n  var fn = function fn() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (progress !== null) {\n      return;\n    }\n\n    progress = nextMicroTask.then(function () {\n      progress = null;\n\n      if (cancelled) {\n        cancelled = false;\n        return;\n      }\n\n      callback.apply(void 0, args);\n    });\n  };\n\n  fn.wait = function () {\n    if (progress === null) {\n      throw new Error('The deferred function should be called before calling `wait()`');\n    }\n\n    return progress;\n  };\n\n  fn.cancel = function () {\n    if (progress === null) {\n      return;\n    }\n\n    cancelled = true;\n  };\n\n  return fn;\n};\n\nexport default defer;","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction getIndexStateWithoutConfigure(uiState) {\n  var configure = uiState.configure,\n      trackedUiState = _objectWithoutProperties(uiState, [\"configure\"]);\n\n  return trackedUiState;\n} // technically a URL could contain any key, since users provide it,\n// which is why the input to this function is UiState, not something\n// which excludes \"configure\" as this function does.\n\n\nexport default function simpleStateMapping() {\n  return {\n    stateToRoute: function stateToRoute(uiState) {\n      return Object.keys(uiState).reduce(function (state, indexId) {\n        return _objectSpread(_objectSpread({}, state), {}, _defineProperty({}, indexId, getIndexStateWithoutConfigure(uiState[indexId])));\n      }, {});\n    },\n    routeToState: function routeToState() {\n      var routeState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      return Object.keys(routeState).reduce(function (state, indexId) {\n        return _objectSpread(_objectSpread({}, state), {}, _defineProperty({}, indexId, getIndexStateWithoutConfigure(routeState[indexId])));\n      }, {});\n    }\n  };\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport qs from 'qs';\n\nvar defaultCreateURL = function defaultCreateURL(_ref) {\n  var qsModule = _ref.qsModule,\n      routeState = _ref.routeState,\n      location = _ref.location;\n  var protocol = location.protocol,\n      hostname = location.hostname,\n      _location$port = location.port,\n      port = _location$port === void 0 ? '' : _location$port,\n      pathname = location.pathname,\n      hash = location.hash;\n  var queryString = qsModule.stringify(routeState);\n  var portWithPrefix = port === '' ? '' : \":\".concat(port); // IE <= 11 has no proper `location.origin` so we cannot rely on it.\n\n  if (!queryString) {\n    return \"\".concat(protocol, \"//\").concat(hostname).concat(portWithPrefix).concat(pathname).concat(hash);\n  }\n\n  return \"\".concat(protocol, \"//\").concat(hostname).concat(portWithPrefix).concat(pathname, \"?\").concat(queryString).concat(hash);\n};\n\nvar defaultParseURL = function defaultParseURL(_ref2) {\n  var qsModule = _ref2.qsModule,\n      location = _ref2.location;\n  // `qs` by default converts arrays with more than 20 items to an object.\n  // We want to avoid this because the data structure manipulated can therefore vary.\n  // Setting the limit to `100` seems a good number because the engine's default is 100\n  // (it can go up to 1000 but it is very unlikely to select more than 100 items in the UI).\n  //\n  // Using an `arrayLimit` of `n` allows `n + 1` items.\n  //\n  // See:\n  //   - https://github.com/ljharb/qs#parsing-arrays\n  //   - https://www.algolia.com/doc/api-reference/api-parameters/maxValuesPerFacet/\n  return qsModule.parse(location.search.slice(1), {\n    arrayLimit: 99\n  });\n};\n\nvar setWindowTitle = function setWindowTitle(title) {\n  if (title) {\n    window.document.title = title;\n  }\n};\n\nvar BrowserHistory = /*#__PURE__*/function () {\n  /**\n   * Initializes a new storage provider that syncs the search state to the URL\n   * using web APIs (`window.location.pushState` and `onpopstate` event).\n   */\n  function BrowserHistory() {\n    var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        windowTitle = _ref3.windowTitle,\n        _ref3$writeDelay = _ref3.writeDelay,\n        writeDelay = _ref3$writeDelay === void 0 ? 400 : _ref3$writeDelay,\n        _ref3$createURL = _ref3.createURL,\n        createURL = _ref3$createURL === void 0 ? defaultCreateURL : _ref3$createURL,\n        _ref3$parseURL = _ref3.parseURL,\n        parseURL = _ref3$parseURL === void 0 ? defaultParseURL : _ref3$parseURL;\n\n    _classCallCheck(this, BrowserHistory);\n\n    _defineProperty(this, \"windowTitle\", void 0);\n\n    _defineProperty(this, \"writeDelay\", void 0);\n\n    _defineProperty(this, \"_createURL\", void 0);\n\n    _defineProperty(this, \"parseURL\", void 0);\n\n    _defineProperty(this, \"writeTimer\", void 0);\n\n    this.windowTitle = windowTitle;\n    this.writeTimer = undefined;\n    this.writeDelay = writeDelay;\n    this._createURL = createURL;\n    this.parseURL = parseURL;\n    var title = this.windowTitle && this.windowTitle(this.read());\n    setWindowTitle(title);\n  }\n  /**\n   * Reads the URL and returns a syncable UI search state.\n   */\n\n\n  _createClass(BrowserHistory, [{\n    key: \"read\",\n    value: function read() {\n      return this.parseURL({\n        qsModule: qs,\n        location: window.location\n      });\n    }\n    /**\n     * Pushes a search state into the URL.\n     */\n\n  }, {\n    key: \"write\",\n    value: function write(routeState) {\n      var _this = this;\n\n      var url = this.createURL(routeState);\n      var title = this.windowTitle && this.windowTitle(routeState);\n\n      if (this.writeTimer) {\n        window.clearTimeout(this.writeTimer);\n      }\n\n      this.writeTimer = window.setTimeout(function () {\n        setWindowTitle(title);\n        window.history.pushState(routeState, title || '', url);\n        _this.writeTimer = undefined;\n      }, this.writeDelay);\n    }\n    /**\n     * Sets a callback on the `onpopstate` event of the history API of the current page.\n     * It enables the URL sync to keep track of the changes.\n     */\n\n  }, {\n    key: \"onUpdate\",\n    value: function onUpdate(callback) {\n      var _this2 = this;\n\n      this._onPopState = function (event) {\n        if (_this2.writeTimer) {\n          window.clearTimeout(_this2.writeTimer);\n          _this2.writeTimer = undefined;\n        }\n\n        var routeState = event.state; // At initial load, the state is read from the URL without update.\n        // Therefore the state object is not available.\n        // In this case, we fallback and read the URL.\n\n        if (!routeState) {\n          callback(_this2.read());\n        } else {\n          callback(routeState);\n        }\n      };\n\n      window.addEventListener('popstate', this._onPopState);\n    }\n    /**\n     * Creates a complete URL from a given syncable UI state.\n     *\n     * It always generates the full URL, not a relative one.\n     * This allows to handle cases like using a <base href>.\n     * See: https://github.com/algolia/instantsearch.js/issues/790\n     */\n\n  }, {\n    key: \"createURL\",\n    value: function createURL(routeState) {\n      return this._createURL({\n        qsModule: qs,\n        routeState: routeState,\n        location: window.location\n      });\n    }\n    /**\n     * Removes the event listener and cleans up the URL.\n     */\n\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      if (this._onPopState) {\n        window.removeEventListener('popstate', this._onPopState);\n      }\n\n      if (this.writeTimer) {\n        window.clearTimeout(this.writeTimer);\n      }\n\n      this.write({});\n    }\n  }]);\n\n  return BrowserHistory;\n}();\n\nexport default function (props) {\n  return new BrowserHistory(props);\n}","function isPrimitive(obj) {\n  return obj !== Object(obj);\n}\n\nfunction isEqual(first, second) {\n  if (first === second) {\n    return true;\n  }\n\n  if (isPrimitive(first) || isPrimitive(second) || typeof first === 'function' || typeof second === 'function') {\n    return first === second;\n  }\n\n  if (Object.keys(first).length !== Object.keys(second).length) {\n    return false;\n  }\n\n  for (var _i = 0, _Object$keys = Object.keys(first); _i < _Object$keys.length; _i++) {\n    var key = _Object$keys[_i];\n\n    if (!(key in second)) {\n      return false;\n    }\n\n    if (!isEqual(first[key], second[key])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport default isEqual;","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport simpleStateMapping from '../lib/stateMappings/simple';\nimport historyRouter from '../lib/routers/history';\nimport { isEqual } from '../lib/utils';\nexport var createRouterMiddleware = function createRouterMiddleware() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _props$router = props.router,\n      router = _props$router === void 0 ? historyRouter() : _props$router,\n      _props$stateMapping = props.stateMapping,\n      stateMapping = _props$stateMapping === void 0 ? simpleStateMapping() : _props$stateMapping;\n  return function (_ref) {\n    var instantSearchInstance = _ref.instantSearchInstance;\n\n    function topLevelCreateURL(nextState) {\n      var uiState = Object.keys(nextState).reduce(function (acc, indexId) {\n        return _objectSpread(_objectSpread({}, acc), {}, _defineProperty({}, indexId, nextState[indexId]));\n      }, instantSearchInstance.mainIndex.getWidgetUiState({}));\n      var route = stateMapping.stateToRoute(uiState);\n      return router.createURL(route);\n    }\n\n    instantSearchInstance._createURL = topLevelCreateURL;\n    instantSearchInstance._initialUiState = _objectSpread(_objectSpread({}, instantSearchInstance._initialUiState), stateMapping.routeToState(router.read()));\n    var lastRouteState = undefined;\n    return {\n      onStateChange: function onStateChange(_ref2) {\n        var uiState = _ref2.uiState;\n        var routeState = stateMapping.stateToRoute(uiState);\n\n        if (lastRouteState === undefined || !isEqual(lastRouteState, routeState)) {\n          router.write(routeState);\n          lastRouteState = routeState;\n        }\n      },\n      subscribe: function subscribe() {\n        router.onUpdate(function (route) {\n          instantSearchInstance.setUiState(stateMapping.routeToState(route));\n        });\n      },\n      unsubscribe: function unsubscribe() {\n        router.dispose();\n      }\n    };\n  };\n};","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction extractPayload(widgets, instantSearchInstance, payload) {\n  var parent = instantSearchInstance.mainIndex;\n  var initOptions = {\n    instantSearchInstance: instantSearchInstance,\n    parent: parent,\n    scopedResults: [],\n    state: parent.getHelper().state,\n    helper: parent.getHelper(),\n    createURL: parent.createURL,\n    uiState: instantSearchInstance._initialUiState,\n    renderState: instantSearchInstance.renderState,\n    templatesConfig: instantSearchInstance.templatesConfig,\n    searchMetadata: {\n      isSearchStalled: instantSearchInstance._isSearchStalled\n    }\n  };\n  widgets.forEach(function (widget) {\n    var widgetParams = {};\n\n    if (widget.getWidgetRenderState) {\n      var renderState = widget.getWidgetRenderState(initOptions);\n\n      if (renderState && _typeof(renderState.widgetParams) === 'object') {\n        widgetParams = renderState.widgetParams;\n      }\n    } // since we destructure in all widgets, the parameters with defaults are set to \"undefined\"\n\n\n    var params = Object.keys(widgetParams).filter(function (key) {\n      return widgetParams[key] !== undefined;\n    });\n    payload.widgets.push({\n      type: widget.$$type,\n      widgetType: widget.$$widgetType,\n      params: params\n    });\n\n    if (widget.$$type === 'ais.index') {\n      extractPayload(widget.getWidgets(), instantSearchInstance, payload);\n    }\n  });\n}\n\nexport function isMetadataEnabled() {\n  return typeof window !== 'undefined' && window.navigator.userAgent.indexOf('Algolia Crawler') > -1;\n}\n/**\n * Exposes the metadata of mounted widgets in a custom\n * `<meta name=\"instantsearch:widgets\" />` tag. The metadata per widget is:\n * - applied parameters\n * - widget name\n * - connector name\n */\n\nexport function createMetadataMiddleware() {\n  return function (_ref) {\n    var instantSearchInstance = _ref.instantSearchInstance;\n    var payload = {\n      widgets: []\n    };\n    var payloadContainer = document.createElement('meta');\n    var refNode = document.querySelector('head');\n    payloadContainer.name = 'instantsearch:widgets';\n    return {\n      onStateChange: function onStateChange() {},\n      subscribe: function subscribe() {\n        // using setTimeout here to delay extraction until widgets have been added in a tick (e.g. Vue)\n        setTimeout(function () {\n          var client = instantSearchInstance.client;\n          payload.ua = client.transporter && client.transporter.userAgent ? client.transporter.userAgent.value : client._ua;\n          extractPayload(instantSearchInstance.mainIndex.getWidgets(), instantSearchInstance, payload);\n          payloadContainer.content = JSON.stringify(payload);\n          refNode.appendChild(payloadContainer);\n        }, 0);\n      },\n      unsubscribe: function unsubscribe() {\n        payloadContainer.remove();\n      }\n    };\n  };\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport algoliasearchHelper from 'algoliasearch-helper';\nimport EventEmitter from 'events';\nimport index, { isIndexWidget } from '../widgets/index/index';\nimport version from './version';\nimport createHelpers from './createHelpers';\nimport { createDocumentationMessageGenerator, createDocumentationLink, defer, noop, warning, checkIndexUiState } from './utils';\nimport { createRouterMiddleware } from '../middlewares/createRouterMiddleware';\nimport { createMetadataMiddleware, isMetadataEnabled } from '../middlewares/createMetadataMiddleware';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'instantsearch'\n});\n\nfunction defaultCreateURL() {\n  return '#';\n}\n/**\n * Global options for an InstantSearch instance.\n */\n\n\n/**\n * The actual implementation of the InstantSearch. This is\n * created using the `instantsearch` factory function.\n * It emits the 'render' event every time a search is done\n */\nvar InstantSearch = /*#__PURE__*/function (_EventEmitter) {\n  _inherits(InstantSearch, _EventEmitter);\n\n  var _super = _createSuper(InstantSearch);\n\n  function InstantSearch(options) {\n    var _this;\n\n    _classCallCheck(this, InstantSearch);\n\n    _this = _super.call(this);\n\n    _defineProperty(_assertThisInitialized(_this), \"client\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"indexName\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"insightsClient\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"onStateChange\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"helper\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"mainHelper\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"mainIndex\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"started\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"templatesConfig\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"renderState\", {});\n\n    _defineProperty(_assertThisInitialized(_this), \"_stalledSearchDelay\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_searchStalledTimer\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_isSearchStalled\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_initialUiState\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_createURL\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_searchFunction\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_mainHelperSearch\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"middleware\", []);\n\n    _defineProperty(_assertThisInitialized(_this), \"sendEventToInsights\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"scheduleSearch\", defer(function () {\n      if (_this.started) {\n        _this.mainHelper.search();\n      }\n    }));\n\n    _defineProperty(_assertThisInitialized(_this), \"scheduleRender\", defer(function () {\n      if (!_this.mainHelper.hasPendingRequests()) {\n        clearTimeout(_this._searchStalledTimer);\n        _this._searchStalledTimer = null;\n        _this._isSearchStalled = false;\n      }\n\n      _this.mainIndex.render({\n        instantSearchInstance: _assertThisInitialized(_this)\n      });\n\n      _this.emit('render');\n    }));\n\n    _defineProperty(_assertThisInitialized(_this), \"onInternalStateChange\", defer(function () {\n      var nextUiState = _this.mainIndex.getWidgetUiState({});\n\n      _this.middleware.forEach(function (_ref) {\n        var instance = _ref.instance;\n        instance.onStateChange({\n          uiState: nextUiState\n        });\n      });\n    }));\n\n    var _options$indexName = options.indexName,\n        indexName = _options$indexName === void 0 ? null : _options$indexName,\n        numberLocale = options.numberLocale,\n        _options$initialUiSta = options.initialUiState,\n        initialUiState = _options$initialUiSta === void 0 ? {} : _options$initialUiSta,\n        _options$routing = options.routing,\n        routing = _options$routing === void 0 ? null : _options$routing,\n        searchFunction = options.searchFunction,\n        _options$stalledSearc = options.stalledSearchDelay,\n        stalledSearchDelay = _options$stalledSearc === void 0 ? 200 : _options$stalledSearc,\n        _options$searchClient = options.searchClient,\n        searchClient = _options$searchClient === void 0 ? null : _options$searchClient,\n        _options$insightsClie = options.insightsClient,\n        insightsClient = _options$insightsClie === void 0 ? null : _options$insightsClie,\n        _options$onStateChang = options.onStateChange,\n        onStateChange = _options$onStateChang === void 0 ? null : _options$onStateChang;\n\n    if (indexName === null) {\n      throw new Error(withUsage('The `indexName` option is required.'));\n    }\n\n    if (searchClient === null) {\n      throw new Error(withUsage('The `searchClient` option is required.'));\n    }\n\n    if (typeof searchClient.search !== 'function') {\n      throw new Error(\"The `searchClient` must implement a `search` method.\\n\\nSee: https://www.algolia.com/doc/guides/building-search-ui/going-further/backend-search/in-depth/backend-instantsearch/js/\");\n    }\n\n    if (typeof searchClient.addAlgoliaAgent === 'function') {\n      searchClient.addAlgoliaAgent(\"instantsearch.js (\".concat(version, \")\"));\n    }\n\n    process.env.NODE_ENV === 'development' ? warning(insightsClient === null, \"`insightsClient` property has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `insights` middleware.\\n\\nFor more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/\") : void 0;\n\n    if (insightsClient && typeof insightsClient !== 'function') {\n      throw new Error(withUsage('The `insightsClient` option should be a function.'));\n    }\n\n    process.env.NODE_ENV === 'development' ? warning(!options.searchParameters, \"The `searchParameters` option is deprecated and will not be supported in InstantSearch.js 4.x.\\n\\nYou can replace it with the `configure` widget:\\n\\n```\\nsearch.addWidgets([\\n  configure(\".concat(JSON.stringify(options.searchParameters, null, 2), \")\\n]);\\n```\\n\\nSee \").concat(createDocumentationLink({\n      name: 'configure'\n    }))) : void 0;\n    _this.client = searchClient;\n    _this.insightsClient = insightsClient;\n    _this.indexName = indexName;\n    _this.helper = null;\n    _this.mainHelper = null;\n    _this.mainIndex = index({\n      indexName: indexName\n    });\n    _this.onStateChange = onStateChange;\n    _this.started = false;\n    _this.templatesConfig = {\n      helpers: createHelpers({\n        numberLocale: numberLocale\n      }),\n      compileOptions: {}\n    };\n    _this._stalledSearchDelay = stalledSearchDelay;\n    _this._searchStalledTimer = null;\n    _this._isSearchStalled = false;\n    _this._createURL = defaultCreateURL;\n    _this._initialUiState = initialUiState;\n\n    if (searchFunction) {\n      _this._searchFunction = searchFunction;\n    }\n\n    _this.sendEventToInsights = noop;\n\n    if (routing) {\n      var routerOptions = typeof routing === 'boolean' ? undefined : routing;\n\n      _this.use(createRouterMiddleware(routerOptions));\n    }\n\n    if (isMetadataEnabled()) {\n      _this.use(createMetadataMiddleware());\n    }\n\n    return _this;\n  }\n  /**\n   * Hooks a middleware into the InstantSearch lifecycle.\n   */\n\n\n  _createClass(InstantSearch, [{\n    key: \"use\",\n    value: function use() {\n      var _this2 = this;\n\n      for (var _len = arguments.length, middleware = new Array(_len), _key = 0; _key < _len; _key++) {\n        middleware[_key] = arguments[_key];\n      }\n\n      var newMiddlewareList = middleware.map(function (fn) {\n        var newMiddleware = _objectSpread({\n          subscribe: noop,\n          unsubscribe: noop,\n          onStateChange: noop\n        }, fn({\n          instantSearchInstance: _this2\n        }));\n\n        _this2.middleware.push({\n          creator: fn,\n          instance: newMiddleware\n        });\n\n        return newMiddleware;\n      }); // If the instance has already started, we directly subscribe the\n      // middleware so they're notified of changes.\n\n      if (this.started) {\n        newMiddlewareList.forEach(function (m) {\n          m.subscribe();\n        });\n      }\n\n      return this;\n    }\n    /**\n     * Removes a middleware from the InstantSearch lifecycle.\n     */\n\n  }, {\n    key: \"unuse\",\n    value: function unuse() {\n      for (var _len2 = arguments.length, middlewareToUnuse = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        middlewareToUnuse[_key2] = arguments[_key2];\n      }\n\n      this.middleware.filter(function (m) {\n        return middlewareToUnuse.includes(m.creator);\n      }).forEach(function (m) {\n        return m.instance.unsubscribe();\n      });\n      this.middleware = this.middleware.filter(function (m) {\n        return !middlewareToUnuse.includes(m.creator);\n      });\n      return this;\n    } // @major we shipped with EXPERIMENTAL_use, but have changed that to just `use` now\n\n  }, {\n    key: \"EXPERIMENTAL_use\",\n    value: function EXPERIMENTAL_use() {\n      process.env.NODE_ENV === 'development' ? warning(false, 'The middleware API is now considered stable, so we recommend replacing `EXPERIMENTAL_use` with `use` before upgrading to the next major version.') : void 0;\n      return this.use.apply(this, arguments);\n    }\n    /**\n     * Adds a widget to the search instance.\n     * A widget can be added either before or after InstantSearch has started.\n     * @param widget The widget to add to InstantSearch.\n     *\n     * @deprecated This method will still be supported in 4.x releases, but not further. It is replaced by `addWidgets([widget])`.\n     */\n\n  }, {\n    key: \"addWidget\",\n    value: function addWidget(widget) {\n      process.env.NODE_ENV === 'development' ? warning(false, 'addWidget will still be supported in 4.x releases, but not further. It is replaced by `addWidgets([widget])`') : void 0;\n      return this.addWidgets([widget]);\n    }\n    /**\n     * Adds multiple widgets to the search instance.\n     * Widgets can be added either before or after InstantSearch has started.\n     * @param widgets The array of widgets to add to InstantSearch.\n     */\n\n  }, {\n    key: \"addWidgets\",\n    value: function addWidgets(widgets) {\n      if (!Array.isArray(widgets)) {\n        throw new Error(withUsage('The `addWidgets` method expects an array of widgets. Please use `addWidget`.'));\n      }\n\n      if (widgets.some(function (widget) {\n        return typeof widget.init !== 'function' && typeof widget.render !== 'function';\n      })) {\n        throw new Error(withUsage('The widget definition expects a `render` and/or an `init` method.'));\n      }\n\n      this.mainIndex.addWidgets(widgets);\n      return this;\n    }\n    /**\n     * Removes a widget from the search instance.\n     * @deprecated This method will still be supported in 4.x releases, but not further. It is replaced by `removeWidgets([widget])`\n     * @param widget The widget instance to remove from InstantSearch.\n     *\n     * The widget must implement a `dispose()` method to clear its state.\n     */\n\n  }, {\n    key: \"removeWidget\",\n    value: function removeWidget(widget) {\n      process.env.NODE_ENV === 'development' ? warning(false, 'removeWidget will still be supported in 4.x releases, but not further. It is replaced by `removeWidgets([widget])`') : void 0;\n      return this.removeWidgets([widget]);\n    }\n    /**\n     * Removes multiple widgets from the search instance.\n     * @param widgets Array of widgets instances to remove from InstantSearch.\n     *\n     * The widgets must implement a `dispose()` method to clear their states.\n     */\n\n  }, {\n    key: \"removeWidgets\",\n    value: function removeWidgets(widgets) {\n      if (!Array.isArray(widgets)) {\n        throw new Error(withUsage('The `removeWidgets` method expects an array of widgets. Please use `removeWidget`.'));\n      }\n\n      if (widgets.some(function (widget) {\n        return typeof widget.dispose !== 'function';\n      })) {\n        throw new Error(withUsage('The widget definition expects a `dispose` method.'));\n      }\n\n      this.mainIndex.removeWidgets(widgets);\n      return this;\n    }\n    /**\n     * Ends the initialization of InstantSearch.js and triggers the\n     * first search. This method should be called after all widgets have been added\n     * to the instance of InstantSearch.js. InstantSearch.js also supports adding and removing\n     * widgets after the start as an **EXPERIMENTAL** feature.\n     */\n\n  }, {\n    key: \"start\",\n    value: function start() {\n      var _this3 = this;\n\n      if (this.started) {\n        throw new Error(withUsage('The `start` method has already been called once.'));\n      } // This Helper is used for the queries, we don't care about its state. The\n      // states are managed at the `index` level. We use this Helper to create\n      // DerivedHelper scoped into the `index` widgets.\n\n\n      var mainHelper = algoliasearchHelper(this.client, this.indexName);\n\n      mainHelper.search = function () {\n        // This solution allows us to keep the exact same API for the users but\n        // under the hood, we have a different implementation. It should be\n        // completely transparent for the rest of the codebase. Only this module\n        // is impacted.\n        return mainHelper.searchOnlyWithDerivedHelpers();\n      };\n\n      if (this._searchFunction) {\n        // this client isn't used to actually search, but required for the helper\n        // to not throw errors\n        var fakeClient = {\n          search: function search() {\n            return new Promise(noop);\n          }\n        };\n        this._mainHelperSearch = mainHelper.search.bind(mainHelper);\n\n        mainHelper.search = function () {\n          var mainIndexHelper = _this3.mainIndex.getHelper();\n\n          var searchFunctionHelper = algoliasearchHelper(fakeClient, mainIndexHelper.state.index, mainIndexHelper.state);\n          searchFunctionHelper.once('search', function (_ref2) {\n            var state = _ref2.state;\n            mainIndexHelper.overrideStateWithoutTriggeringChangeEvent(state);\n\n            _this3._mainHelperSearch();\n          }); // Forward state changes from `searchFunctionHelper` to `mainIndexHelper`\n\n          searchFunctionHelper.on('change', function (_ref3) {\n            var state = _ref3.state;\n            mainIndexHelper.setState(state);\n          });\n\n          _this3._searchFunction(searchFunctionHelper);\n\n          return mainHelper;\n        };\n      } // Only the \"main\" Helper emits the `error` event vs the one for `search`\n      // and `results` that are also emitted on the derived one.\n\n\n      mainHelper.on('error', function (_ref4) {\n        var error = _ref4.error;\n\n        _this3.emit('error', {\n          error: error\n        });\n      });\n      this.mainHelper = mainHelper;\n      this.mainIndex.init({\n        instantSearchInstance: this,\n        parent: null,\n        uiState: this._initialUiState\n      });\n      this.middleware.forEach(function (_ref5) {\n        var instance = _ref5.instance;\n        instance.subscribe();\n      });\n      mainHelper.search(); // Keep the previous reference for legacy purpose, some pattern use\n      // the direct Helper access `search.helper` (e.g multi-index).\n\n      this.helper = this.mainIndex.getHelper(); // track we started the search if we add more widgets,\n      // to init them directly after add\n\n      this.started = true;\n    }\n    /**\n     * Removes all widgets without triggering a search afterwards. This is an **EXPERIMENTAL** feature,\n     * if you find an issue with it, please\n     * [open an issue](https://github.com/algolia/instantsearch.js/issues/new?title=Problem%20with%20dispose).\n     * @return {undefined} This method does not return anything\n     */\n\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      this.scheduleSearch.cancel();\n      this.scheduleRender.cancel();\n      clearTimeout(this._searchStalledTimer);\n      this.removeWidgets(this.mainIndex.getWidgets());\n      this.mainIndex.dispose(); // You can not start an instance two times, therefore a disposed instance\n      // needs to set started as false otherwise this can not be restarted at a\n      // later point.\n\n      this.started = false; // The helper needs to be reset to perform the next search from a fresh state.\n      // If not reset, it would use the state stored before calling `dispose()`.\n\n      this.removeAllListeners();\n      this.mainHelper.removeAllListeners();\n      this.mainHelper = null;\n      this.helper = null;\n      this.middleware.forEach(function (_ref6) {\n        var instance = _ref6.instance;\n        instance.unsubscribe();\n      });\n    }\n  }, {\n    key: \"scheduleStalledRender\",\n    value: function scheduleStalledRender() {\n      var _this4 = this;\n\n      if (!this._searchStalledTimer) {\n        this._searchStalledTimer = setTimeout(function () {\n          _this4._isSearchStalled = true;\n\n          _this4.scheduleRender();\n        }, this._stalledSearchDelay);\n      }\n    }\n  }, {\n    key: \"setUiState\",\n    value: function setUiState(uiState) {\n      if (!this.mainHelper) {\n        throw new Error(withUsage('The `start` method needs to be called before `setUiState`.'));\n      } // We refresh the index UI state to update the local UI state that the\n      // main index passes to the function form of `setUiState`.\n\n\n      this.mainIndex.refreshUiState();\n      var nextUiState = typeof uiState === 'function' ? uiState(this.mainIndex.getWidgetUiState({})) : uiState;\n\n      var setIndexHelperState = function setIndexHelperState(indexWidget) {\n        if (process.env.NODE_ENV === 'development') {\n          checkIndexUiState({\n            index: indexWidget,\n            indexUiState: nextUiState[indexWidget.getIndexId()]\n          });\n        }\n\n        indexWidget.getHelper().setState(indexWidget.getWidgetSearchParameters(indexWidget.getHelper().state, {\n          uiState: nextUiState[indexWidget.getIndexId()]\n        }));\n        indexWidget.getWidgets().filter(isIndexWidget).forEach(setIndexHelperState);\n      };\n\n      setIndexHelperState(this.mainIndex);\n      this.scheduleSearch();\n    }\n  }, {\n    key: \"getUiState\",\n    value: function getUiState() {\n      if (this.started) {\n        // We refresh the index UI state to make sure changes from `refine` are taken in account\n        this.mainIndex.refreshUiState();\n      }\n\n      return this.mainIndex.getWidgetUiState({});\n    }\n  }, {\n    key: \"createURL\",\n    value: function createURL() {\n      var nextState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      if (!this.started) {\n        throw new Error(withUsage('The `start` method needs to be called before `createURL`.'));\n      }\n\n      return this._createURL(nextState);\n    }\n  }, {\n    key: \"refresh\",\n    value: function refresh() {\n      if (!this.mainHelper) {\n        throw new Error(withUsage('The `start` method needs to be called before `refresh`.'));\n      }\n\n      this.mainHelper.clearCache().search();\n    }\n  }]);\n\n  return InstantSearch;\n}(EventEmitter);\n\nexport default InstantSearch;","import { warning } from '../lib/utils';\nexport var ANONYMOUS_TOKEN_COOKIE_KEY = '_ALGOLIA';\n\nfunction getCookie(name) {\n  var prefix = \"\".concat(name, \"=\");\n  var cookies = document.cookie.split(';');\n\n  for (var i = 0; i < cookies.length; i++) {\n    var cookie = cookies[i];\n\n    while (cookie.charAt(0) === ' ') {\n      cookie = cookie.substring(1);\n    }\n\n    if (cookie.indexOf(prefix) === 0) {\n      return cookie.substring(prefix.length, cookie.length);\n    }\n  }\n\n  return undefined;\n}\n\nexport function getInsightsAnonymousUserTokenInternal() {\n  return getCookie(ANONYMOUS_TOKEN_COOKIE_KEY);\n}\n/**\n * @deprecated This function will be still supported in 4.x releases, but not further. It is replaced by the `insights` middleware. For more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/\n */\n\nexport default function getInsightsAnonymousUserToken() {\n  process.env.NODE_ENV === 'development' ? warning(false, \"`getInsightsAnonymousUserToken` function has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `insights` middleware.\\n\\nFor more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/\") : void 0;\n  return getInsightsAnonymousUserTokenInternal();\n}","function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport { isEqual } from '../utils';\n\nfunction getStateWithoutPage(state) {\n  var _ref = state || {},\n      page = _ref.page,\n      rest = _objectWithoutProperties(_ref, [\"page\"]);\n\n  return rest;\n}\n\nvar KEY = 'ais.infiniteHits';\n\nfunction hasSessionStorage() {\n  return typeof window !== 'undefined' && typeof window.sessionStorage !== 'undefined';\n}\n\nexport default function createInfiniteHitsSessionStorageCache() {\n  return {\n    read: function read(_ref2) {\n      var state = _ref2.state;\n\n      if (!hasSessionStorage()) {\n        return null;\n      }\n\n      try {\n        var cache = JSON.parse( // @ts-expect-error JSON.parse() requires a string, but it actually accepts null, too.\n        window.sessionStorage.getItem(KEY));\n        return cache && isEqual(cache.state, getStateWithoutPage(state)) ? cache.hits : null;\n      } catch (error) {\n        if (error instanceof SyntaxError) {\n          try {\n            window.sessionStorage.removeItem(KEY);\n          } catch (err) {// do nothing\n          }\n        }\n\n        return null;\n      }\n    },\n    write: function write(_ref3) {\n      var state = _ref3.state,\n          hits = _ref3.hits;\n\n      if (!hasSessionStorage()) {\n        return;\n      }\n\n      try {\n        window.sessionStorage.setItem(KEY, JSON.stringify({\n          state: getStateWithoutPage(state),\n          hits: hits\n        }));\n      } catch (error) {// do nothing\n      }\n    }\n  };\n}","import InstantSearch from './lib/InstantSearch';\nimport version from './lib/version';\nimport { snippet, reverseSnippet, highlight, reverseHighlight, insights, getInsightsAnonymousUserToken } from './helpers';\nimport { createInfiniteHitsSessionStorageCache } from './lib/infiniteHitsCache';\n\nvar instantsearch = function instantsearch(options) {\n  return new InstantSearch(options);\n};\n\ninstantsearch.version = version;\ninstantsearch.snippet = snippet;\ninstantsearch.reverseSnippet = reverseSnippet;\ninstantsearch.highlight = highlight;\ninstantsearch.reverseHighlight = reverseHighlight;\ninstantsearch.insights = insights;\ninstantsearch.getInsightsAnonymousUserToken = getInsightsAnonymousUserToken;\ninstantsearch.createInfiniteHitsSessionStorageCache = createInfiniteHitsSessionStorageCache;\nObject.defineProperty(instantsearch, 'widgets', {\n  get: function get() {\n    throw new ReferenceError(\"\\\"instantsearch.widgets\\\" are not available from the ES build.\\n\\nTo import the widgets:\\n\\nimport { searchBox } from 'instantsearch.js/es/widgets'\");\n  }\n});\nObject.defineProperty(instantsearch, 'connectors', {\n  get: function get() {\n    throw new ReferenceError(\"\\\"instantsearch.connectors\\\" are not available from the ES build.\\n\\nTo import the connectors:\\n\\nimport { connectSearchBox } from 'instantsearch.js/es/connectors'\");\n  }\n});\nexport default instantsearch;\n","var r=\"3.7.0\";export{r as version};\n//# sourceMappingURL=package.json.js.map\n","function e(e){for(var r=arguments,n=1;n<arguments.length;n++){var o=null!=r[n]?r[n]:{},c=Object.keys(o);\"function\"==typeof Object.getOwnPropertySymbols&&(c=c.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),c.forEach(function(r){t(e,r,o[r])})}return e}function t(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}export{e as _objectSpread};\n//# sourceMappingURL=polyfills.js.map\n","import{createSuitMixin as n}from\"../mixins/suit.js\";import t from\"vue\";import{version as e}from\"../../package.json.js\";import{_objectSpread as a}from\"./polyfills.js\";var i=function(i){return a({mixins:[n({name:\"InstantSearch\"})],provide:function(){return{$_ais_instantSearchInstance:this.instantSearchInstance}},watch:{searchClient:function(n){this.instantSearchInstance.helper.setClient(n).search()},indexName:function(n){this.instantSearchInstance.helper.setIndex(n).search()},stalledSearchDelay:function(n){this.instantSearchInstance._stalledSearchDelay=n},routing:function(){throw new Error(\"routing configuration can not be changed dynamically at this point.\\n\\nPlease open a new issue: https://github.com/algolia/vue-instantsearch/issues/new?template=feature.md\")},searchFunction:function(n){this.instantSearchInstance._searchFunction=n},middlewares:{immediate:!0,handler:function(n,t){var e=this;(t||[]).filter(function(t){return-1===(n||[]).indexOf(t)}).forEach(function(n){e.instantSearchInstance.unuse(n)}),(n||[]).filter(function(n){return-1===(t||[]).indexOf(n)}).forEach(function(n){e.instantSearchInstance.use(n)})}}},created:function(){var n=this.instantSearchInstance.client;\"function\"==typeof n.addAlgoliaAgent&&(n.addAlgoliaAgent(\"Vue (\"+t.version+\")\"),n.addAlgoliaAgent(\"Vue InstantSearch (\"+e+\")\"))},mounted:function(){var n=this;this.$nextTick(function(){n.instantSearchInstance.started||n.instantSearchInstance.start()})},beforeDestroy:function(){this.instantSearchInstance.started&&this.instantSearchInstance.dispose(),this.instantSearchInstance.__initialSearchResults=void 0}},i)};export{i as createInstantSearchComponent};\n//# sourceMappingURL=createInstantSearchComponent.js.map\n","import{warn as e}from\"../util/warn.js\";import t from\"instantsearch.js/es\";import{createInstantSearchComponent as i}from\"../util/createInstantSearchComponent.js\";var n=\"Vue InstantSearch: You used the prop api-key or app-id.\\nThese have been replaced by search-client.\\n\\nSee more info here: https://www.algolia.com/doc/api-reference/widgets/instantsearch/vue/#widget-param-search-client\";export default i({name:\"AisInstantSearch\",props:{searchClient:{type:Object,required:!0},insightsClient:{type:Function,required:!1},indexName:{type:String,required:!0},routing:{default:null,validator:function(t){return!(\"boolean\"==typeof t||!t.router&&!t.stateMapping)||(e(\"The `routing` option expects an object with `router` and/or `stateMapping`.\\n\\nSee https://www.algolia.com/doc/api-reference/widgets/instantsearch/vue/#widget-param-routing\"),!1)}},stalledSearchDelay:{type:Number,default:200},searchFunction:{type:Function,default:null},initialUiState:{type:Object,required:!1},apiKey:{type:String,default:null,validator:function(t){return t&&e(n),!1}},appId:{type:String,default:null,validator:function(t){return t&&e(n),!1}},middlewares:{type:Array,default:null}},data:function(){return{instantSearchInstance:t({searchClient:this.searchClient,insightsClient:this.insightsClient,indexName:this.indexName,routing:this.routing,stalledSearchDelay:this.stalledSearchDelay,searchFunction:this.searchFunction,initialUiState:this.initialUiState})}},render:function(e){var t;return e(\"div\",{class:(t={},t[this.suit()]=!0,t[this.suit(\"\",\"ssr\")]=!1,t)},this.$slots.default)}});\n//# sourceMappingURL=InstantSearch.js.map\n","import{createInstantSearchComponent as t}from\"../util/createInstantSearchComponent.js\";export default t({name:\"AisInstantSearchSsr\",inject:{$_ais_ssrInstantSearchInstance:{default:function(){throw new Error(\"`createServerRootMixin` is required when using SSR.\")}}},data:function(){return{instantSearchInstance:this.$_ais_ssrInstantSearchInstance}},render:function(t){var n;return t(\"div\",{class:(n={},n[this.suit()]=!0,n[this.suit(\"\",\"ssr\")]=!0,n)},this.$slots.default)}});\n//# sourceMappingURL=InstantSearchSsr.js.map\n","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport { escapeHits, TAG_PLACEHOLDER, checkRendering, createDocumentationMessageGenerator, isEqual, addAbsolutePosition, addQueryID, noop, createSendEventForHits, createBindEventForHits } from '../../lib/utils';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'infinite-hits',\n  connector: true\n});\n\nfunction getStateWithoutPage(state) {\n  var _ref = state || {},\n      page = _ref.page,\n      rest = _objectWithoutProperties(_ref, [\"page\"]);\n\n  return rest;\n}\n\nfunction getInMemoryCache() {\n  var cachedHits = null;\n  var cachedState = null;\n  return {\n    read: function read(_ref2) {\n      var state = _ref2.state;\n      return isEqual(cachedState, getStateWithoutPage(state)) ? cachedHits : null;\n    },\n    write: function write(_ref3) {\n      var state = _ref3.state,\n          hits = _ref3.hits;\n      cachedState = getStateWithoutPage(state);\n      cachedHits = hits;\n    }\n  };\n}\n\nfunction extractHitsFromCachedHits(cachedHits) {\n  return Object.keys(cachedHits).map(Number).sort(function (a, b) {\n    return a - b;\n  }).reduce(function (acc, page) {\n    return acc.concat(cachedHits[page]);\n  }, []);\n}\n\nvar connectInfiniteHits = function connectInfiniteHits(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function (widgetParams) {\n    var _ref4 = widgetParams || {},\n        _ref4$escapeHTML = _ref4.escapeHTML,\n        escapeHTML = _ref4$escapeHTML === void 0 ? true : _ref4$escapeHTML,\n        _ref4$transformItems = _ref4.transformItems,\n        transformItems = _ref4$transformItems === void 0 ? function (items) {\n      return items;\n    } : _ref4$transformItems,\n        _ref4$cache = _ref4.cache,\n        cache = _ref4$cache === void 0 ? getInMemoryCache() : _ref4$cache;\n\n    var showPrevious;\n    var showMore;\n    var sendEvent;\n    var bindEvent;\n\n    var getFirstReceivedPage = function getFirstReceivedPage(state, cachedHits) {\n      var _state$page = state.page,\n          page = _state$page === void 0 ? 0 : _state$page;\n      var pages = Object.keys(cachedHits).map(Number);\n\n      if (pages.length === 0) {\n        return page;\n      } else {\n        return Math.min.apply(Math, [page].concat(_toConsumableArray(pages)));\n      }\n    };\n\n    var getLastReceivedPage = function getLastReceivedPage(state, cachedHits) {\n      var _state$page2 = state.page,\n          page = _state$page2 === void 0 ? 0 : _state$page2;\n      var pages = Object.keys(cachedHits).map(Number);\n\n      if (pages.length === 0) {\n        return page;\n      } else {\n        return Math.max.apply(Math, [page].concat(_toConsumableArray(pages)));\n      }\n    };\n\n    var getShowPrevious = function getShowPrevious(helper) {\n      return function () {\n        // Using the helper's `overrideStateWithoutTriggeringChangeEvent` method\n        // avoid updating the browser URL when the user displays the previous page.\n        helper.overrideStateWithoutTriggeringChangeEvent(_objectSpread(_objectSpread({}, helper.state), {}, {\n          page: getFirstReceivedPage(helper.state, cache.read({\n            state: helper.state\n          }) || {}) - 1\n        })).searchWithoutTriggeringOnStateChange();\n      };\n    };\n\n    var getShowMore = function getShowMore(helper) {\n      return function () {\n        helper.setPage(getLastReceivedPage(helper.state, cache.read({\n          state: helper.state\n        }) || {}) + 1).search();\n      };\n    };\n\n    return {\n      $$type: 'ais.infiniteHits',\n      init: function init(initOptions) {\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: initOptions.instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        var widgetRenderState = this.getWidgetRenderState(renderOptions);\n        sendEvent('view', widgetRenderState.currentPageHits);\n        renderFn(_objectSpread(_objectSpread({}, widgetRenderState), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          infiniteHits: this.getWidgetRenderState(renderOptions)\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref5) {\n        var results = _ref5.results,\n            helper = _ref5.helper,\n            state = _ref5.state,\n            instantSearchInstance = _ref5.instantSearchInstance;\n        var isFirstPage;\n        var currentPageHits = [];\n        var cachedHits = cache.read({\n          state: state\n        }) || {};\n\n        if (!results) {\n          showPrevious = getShowPrevious(helper);\n          showMore = getShowMore(helper);\n          sendEvent = createSendEventForHits({\n            instantSearchInstance: instantSearchInstance,\n            index: helper.getIndex(),\n            widgetType: this.$$type\n          });\n          bindEvent = createBindEventForHits({\n            index: helper.getIndex(),\n            widgetType: this.$$type\n          });\n          isFirstPage = helper.state.page === undefined || getFirstReceivedPage(helper.state, cachedHits) === 0;\n        } else {\n          var _state$page3 = state.page,\n              _page = _state$page3 === void 0 ? 0 : _state$page3;\n\n          if (escapeHTML && results.hits.length > 0) {\n            results.hits = escapeHits(results.hits);\n          }\n\n          var initialEscaped = results.hits.__escaped;\n          results.hits = addAbsolutePosition(results.hits, results.page, results.hitsPerPage);\n          results.hits = addQueryID(results.hits, results.queryID);\n          results.hits = transformItems(results.hits); // Make sure the escaped tag stays after mapping over the hits.\n          // This prevents the hits from being double-escaped if there are multiple\n          // hits widgets mounted on the page.\n\n          results.hits.__escaped = initialEscaped;\n\n          if (cachedHits[_page] === undefined) {\n            cachedHits[_page] = results.hits;\n            cache.write({\n              state: state,\n              hits: cachedHits\n            });\n          }\n\n          currentPageHits = results.hits;\n          isFirstPage = getFirstReceivedPage(state, cachedHits) === 0;\n        }\n\n        var hits = extractHitsFromCachedHits(cachedHits);\n        var isLastPage = results ? results.nbPages <= getLastReceivedPage(state, cachedHits) + 1 : true;\n        return {\n          hits: hits,\n          currentPageHits: currentPageHits,\n          sendEvent: sendEvent,\n          bindEvent: bindEvent,\n          results: results,\n          showPrevious: showPrevious,\n          showMore: showMore,\n          isFirstPage: isFirstPage,\n          isLastPage: isLastPage,\n          widgetParams: widgetParams\n        };\n      },\n      dispose: function dispose(_ref6) {\n        var state = _ref6.state;\n        unmountFn();\n        var stateWithoutPage = state.setQueryParameter('page', undefined);\n\n        if (!escapeHTML) {\n          return stateWithoutPage;\n        }\n\n        return stateWithoutPage.setQueryParameters(Object.keys(TAG_PLACEHOLDER).reduce(function (acc, key) {\n          return _objectSpread(_objectSpread({}, acc), {}, _defineProperty({}, key, undefined));\n        }, {}));\n      },\n      getWidgetUiState: function getWidgetUiState(uiState, _ref7) {\n        var searchParameters = _ref7.searchParameters;\n        var page = searchParameters.page || 0;\n\n        if (!page) {\n          // return without adding `page` to uiState\n          // because we don't want `page=1` in the URL\n          return uiState;\n        }\n\n        return _objectSpread(_objectSpread({}, uiState), {}, {\n          // The page in the UI state is incremented by one\n          // to expose the user value (not `0`).\n          page: page + 1\n        });\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters, _ref8) {\n        var uiState = _ref8.uiState;\n        var widgetSearchParameters = searchParameters;\n\n        if (escapeHTML) {\n          widgetSearchParameters = searchParameters.setQueryParameters(TAG_PLACEHOLDER);\n        } // The page in the search parameters is decremented by one\n        // to get to the actual parameter value from the UI state.\n\n\n        var page = uiState.page ? uiState.page - 1 : 0;\n        return widgetSearchParameters.setQueryParameter('page', page);\n      }\n    };\n  };\n};\n\nexport default connectInfiniteHits;","import { withInsights } from '../../lib/insights';\nimport connectInfiniteHits from './connectInfiniteHits';\nvar connectInfiniteHitsWithInsights = withInsights(connectInfiniteHits);\nexport default connectInfiniteHitsWithInsights;","<template>\n  <div\n    v-if=\"state\"\n    :class=\"suit()\"\n  >\n\n    <slot\n      v-if=\"showPrevious\"\n      name=\"loadPrevious\"\n      :refine-previous=\"refinePrevious\"\n      :page=\"state.results.page\"\n      :is-first-page=\"state.isFirstPage\"\n    >\n      <button\n        :class=\"[suit('loadPrevious'), state.isFirstPage && suit('loadPrevious', 'disabled')]\"\n        :disabled=\"state.isFirstPage\"\n        @click=\"refinePrevious()\"\n      >Show previous results</button>\n    </slot>\n\n    <slot\n      :items=\"items\"\n      :results=\"state.results\"\n      :is-last-page=\"state.isLastPage\"\n      :refine-previous=\"refinePrevious\"\n      :refine-next=\"refineNext\"\n      :refine=\"refineNext\"\n      :insights=\"state.insights\"\n      :send-event=\"state.sendEvent\"\n    >\n      <ol :class=\"suit('list')\">\n        <li\n          v-for=\"(item, index) in items\"\n          :class=\"suit('item')\"\n          :key=\"item.objectID\"\n        >\n          <slot\n            name=\"item\"\n            :item=\"item\"\n            :index=\"index\"\n            :insights=\"state.insights\"\n          >objectID: {{ item.objectID }}, index: {{ index }}</slot>\n        </li>\n      </ol>\n\n      <slot\n        name=\"loadMore\"\n        :refine-next=\"refineNext\"\n        :refine=\"refineNext\"\n        :page=\"state.results.page\"\n        :is-last-page=\"state.isLastPage\"\n      >\n        <button\n          :class=\"[suit('loadMore'), state.isLastPage && suit('loadMore', 'disabled')]\"\n          :disabled=\"state.isLastPage\"\n          @click=\"refineNext()\"\n        >Show more results</button>\n      </slot>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { createWidgetMixin } from '../mixins/widget';\nimport { connectInfiniteHitsWithInsights } from 'instantsearch.js/es/connectors';\nimport { createSuitMixin } from '../mixins/suit';\n\nexport default {\n  name: 'AisInfiniteHits',\n  mixins: [\n    createWidgetMixin({ connector: connectInfiniteHitsWithInsights }),\n    createSuitMixin({ name: 'InfiniteHits' }),\n  ],\n  props: {\n    showPrevious: {\n      type: Boolean,\n      default: false,\n    },\n    escapeHTML: {\n      type: Boolean,\n      default: true,\n    },\n    transformItems: {\n      type: Function,\n      default(items) {\n        return items;\n      },\n    },\n    cache: {\n      type: Object,\n      default: undefined,\n    },\n  },\n  computed: {\n    widgetParams() {\n      return {\n        showPrevious: this.showPrevious,\n        escapeHTML: this.escapeHTML,\n        transformItems: this.transformItems,\n        cache: this.cache,\n      };\n    },\n    items() {\n      // Fixes InstantSearch.js connectors API: every list\n      // of things must be called `items`\n      return this.state.hits;\n    },\n  },\n  methods: {\n    refinePrevious() {\n      this.state.showPrevious();\n    },\n    refineNext() {\n      this.state.showMore();\n    },\n  },\n};\n</script>\n","function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { checkRendering, createDocumentationMessageGenerator, createSendEventForFacet, noop } from '../../lib/utils';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'menu',\n  connector: true\n});\n\n/**\n * **Menu** connector provides the logic to build a widget that will give the user the ability to choose a single value for a specific facet. The typical usage of menu is for navigation in categories.\n *\n * This connector provides a `toggleShowMore()` function to display more or less items and a `refine()`\n * function to select an item. While selecting a new element, the `refine` will also unselect the\n * one that is currently selected.\n *\n * **Requirement:** the attribute passed as `attribute` must be present in \"attributes for faceting\" on the Algolia dashboard or configured as attributesForFaceting via a set settings call to the Algolia API.\n */\nvar connectMenu = function connectMenu(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function (widgetParams) {\n    var _ref = widgetParams || {},\n        attribute = _ref.attribute,\n        _ref$limit = _ref.limit,\n        limit = _ref$limit === void 0 ? 10 : _ref$limit,\n        _ref$showMore = _ref.showMore,\n        showMore = _ref$showMore === void 0 ? false : _ref$showMore,\n        _ref$showMoreLimit = _ref.showMoreLimit,\n        showMoreLimit = _ref$showMoreLimit === void 0 ? 20 : _ref$showMoreLimit,\n        _ref$sortBy = _ref.sortBy,\n        sortBy = _ref$sortBy === void 0 ? ['isRefined', 'name:asc'] : _ref$sortBy,\n        _ref$transformItems = _ref.transformItems,\n        transformItems = _ref$transformItems === void 0 ? function (items) {\n      return items;\n    } : _ref$transformItems;\n\n    if (!attribute) {\n      throw new Error(withUsage('The `attribute` option is required.'));\n    }\n\n    if (showMore === true && showMoreLimit <= limit) {\n      throw new Error(withUsage('The `showMoreLimit` option must be greater than `limit`.'));\n    }\n\n    var sendEvent;\n\n    var _createURL;\n\n    var _refine; // Provide the same function to the `renderFn` so that way the user\n    // has to only bind it once when `isFirstRendering` for instance\n\n\n    var isShowingMore = false;\n\n    var toggleShowMore = function toggleShowMore() {};\n\n    function createToggleShowMore(renderOptions, widget) {\n      return function () {\n        isShowingMore = !isShowingMore;\n        widget.render(renderOptions);\n      };\n    }\n\n    function cachedToggleShowMore() {\n      toggleShowMore();\n    }\n\n    function getLimit() {\n      return isShowingMore ? showMoreLimit : limit;\n    }\n\n    return {\n      $$type: 'ais.menu',\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(renderOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose(_ref2) {\n        var state = _ref2.state;\n        unmountFn();\n        return state.removeHierarchicalFacet(attribute).setQueryParameter('maxValuesPerFacet', undefined);\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          menu: _objectSpread(_objectSpread({}, renderState.menu), {}, _defineProperty({}, attribute, this.getWidgetRenderState(renderOptions)))\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(renderOptions) {\n        var results = renderOptions.results,\n            createURL = renderOptions.createURL,\n            instantSearchInstance = renderOptions.instantSearchInstance,\n            helper = renderOptions.helper;\n        var items = [];\n        var canToggleShowMore = false;\n\n        if (!sendEvent) {\n          sendEvent = createSendEventForFacet({\n            instantSearchInstance: instantSearchInstance,\n            helper: helper,\n            attribute: attribute,\n            widgetType: this.$$type\n          });\n        }\n\n        if (!_createURL) {\n          _createURL = function _createURL(facetValue) {\n            return createURL(helper.state.resetPage().toggleFacetRefinement(attribute, facetValue));\n          };\n        }\n\n        if (!_refine) {\n          _refine = function _refine(facetValue) {\n            var _helper$getHierarchic = helper.getHierarchicalFacetBreadcrumb(attribute),\n                _helper$getHierarchic2 = _slicedToArray(_helper$getHierarchic, 1),\n                refinedItem = _helper$getHierarchic2[0];\n\n            sendEvent('click', facetValue ? facetValue : refinedItem);\n            helper.toggleFacetRefinement(attribute, facetValue ? facetValue : refinedItem).search();\n          };\n        }\n\n        if (renderOptions.results) {\n          toggleShowMore = createToggleShowMore(renderOptions, this);\n        }\n\n        if (results) {\n          var facetValues = results.getFacetValues(attribute, {\n            sortBy: sortBy\n          });\n          var facetItems = facetValues && !Array.isArray(facetValues) && facetValues.data ? facetValues.data : [];\n          canToggleShowMore = showMore && (isShowingMore || facetItems.length > getLimit());\n          items = transformItems(facetItems.slice(0, getLimit()).map(function (_ref3) {\n            var label = _ref3.name,\n                value = _ref3.path,\n                item = _objectWithoutProperties(_ref3, [\"name\", \"path\"]);\n\n            return _objectSpread(_objectSpread({}, item), {}, {\n              label: label,\n              value: value\n            });\n          }));\n        }\n\n        return {\n          items: items,\n          createURL: _createURL,\n          refine: _refine,\n          sendEvent: sendEvent,\n          canRefine: items.length > 0,\n          widgetParams: widgetParams,\n          isShowingMore: isShowingMore,\n          toggleShowMore: cachedToggleShowMore,\n          canToggleShowMore: canToggleShowMore\n        };\n      },\n      getWidgetUiState: function getWidgetUiState(uiState, _ref4) {\n        var searchParameters = _ref4.searchParameters;\n\n        var _searchParameters$get = searchParameters.getHierarchicalFacetBreadcrumb(attribute),\n            _searchParameters$get2 = _slicedToArray(_searchParameters$get, 1),\n            value = _searchParameters$get2[0];\n\n        if (!value) {\n          return uiState;\n        }\n\n        return _objectSpread(_objectSpread({}, uiState), {}, {\n          menu: _objectSpread(_objectSpread({}, uiState.menu), {}, _defineProperty({}, attribute, value))\n        });\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters, _ref5) {\n        var uiState = _ref5.uiState;\n        var value = uiState.menu && uiState.menu[attribute];\n        var withFacetConfiguration = searchParameters.removeHierarchicalFacet(attribute).addHierarchicalFacet({\n          name: attribute,\n          attributes: [attribute]\n        });\n        var currentMaxValuesPerFacet = withFacetConfiguration.maxValuesPerFacet || 0;\n        var nextMaxValuesPerFacet = Math.max(currentMaxValuesPerFacet, showMore ? showMoreLimit : limit);\n        var withMaxValuesPerFacet = withFacetConfiguration.setQueryParameter('maxValuesPerFacet', nextMaxValuesPerFacet);\n\n        if (!value) {\n          return withMaxValuesPerFacet.setQueryParameters({\n            hierarchicalFacetsRefinements: _objectSpread(_objectSpread({}, withMaxValuesPerFacet.hierarchicalFacetsRefinements), {}, _defineProperty({}, attribute, []))\n          });\n        }\n\n        return withMaxValuesPerFacet.addHierarchicalFacetRefinement(attribute, value);\n      }\n    };\n  };\n};\n\nexport default connectMenu;","<template>\n  <div\n    v-if=\"state\"\n    :class=\"[suit(), !state.canRefine && suit('', 'noRefinement')]\"\n  >\n    <slot\n      :items=\"state.items\"\n      :can-refine=\"state.canRefine\"\n      :can-toggle-show-more=\"state.canToggleShowMore\"\n      :is-showing-more=\"state.isShowingMore\"\n      :refine=\"state.refine\"\n      :createURL=\"state.createURL\"\n      :toggle-show-more=\"state.toggleShowMore\"\n      :send-event=\"state.sendEvent\"\n    >\n      <ul :class=\"suit('list')\">\n        <li\n          v-for=\"item in state.items\"\n          :key=\"item.value\"\n          :class=\"[suit('item'), item.isRefined && suit('item', 'selected')]\"\n        >\n          <a\n            :href=\"state.createURL(item.value)\"\n            :class=\"suit('link')\"\n            @click.prevent=\"state.refine(item.value)\"\n          >\n            <span :class=\"suit('label')\">{{ item.label }}</span>\n            <span :class=\"suit('count')\">{{ item.count }}</span>\n          </a>\n        </li>\n      </ul>\n\n      <button\n        v-if=\"showShowMoreButton\"\n        :class=\"[suit('showMore'), !state.canToggleShowMore && suit('showMore', 'disabled')]\"\n        :disabled=\"!state.canToggleShowMore\"\n        @click.prevent=\"state.toggleShowMore()\"\n      >\n        <slot\n          name=\"showMoreLabel\"\n          :is-showing-more=\"state.isShowingMore\"\n        >{{ state.isShowingMore ? 'Show less' : 'Show more' }}</slot>\n      </button>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { connectMenu } from 'instantsearch.js/es/connectors';\nimport { createPanelConsumerMixin } from '../mixins/panel';\nimport { createWidgetMixin } from '../mixins/widget';\nimport { createSuitMixin } from '../mixins/suit';\n\nexport default {\n  name: 'AisMenu',\n  mixins: [\n    createSuitMixin({ name: 'Menu' }),\n    createWidgetMixin({ connector: connectMenu }),\n    createPanelConsumerMixin({\n      mapStateToCanRefine: state => Boolean(state.canRefine),\n    }),\n  ],\n  props: {\n    attribute: {\n      type: String,\n      required: true,\n    },\n    // TODO: implement searchable in connector\n    // searchable: {\n    //   type: Boolean,\n    //   default: false,\n    // },\n    limit: {\n      type: Number,\n      default: 10,\n    },\n    showMoreLimit: {\n      type: Number,\n      default: 20,\n    },\n    showMore: {\n      type: Boolean,\n      default: false,\n    },\n    sortBy: {\n      type: [Array, Function],\n      default() {\n        return ['count:desc', 'name:asc'];\n      },\n    },\n    transformItems: {\n      type: Function,\n      default(items) {\n        return items;\n      },\n    },\n  },\n  computed: {\n    widgetParams() {\n      return {\n        attribute: this.attribute,\n        limit: this.limit,\n        showMore: this.showMore,\n        showMoreLimit: this.showMoreLimit,\n        sortBy: this.sortBy,\n        transformItems: this.transformItems,\n      };\n    },\n    showShowMoreButton() {\n      return this.state.canRefine && this.showMore;\n    },\n  },\n};\n</script>\n","<template>\n  <div\n    :class=\"[suit(), !state.canRefine && suit('', 'noRefinement')]\"\n    v-if=\"state\"\n  >\n    <slot\n      :items=\"state.items\"\n      :can-refine=\"state.canRefine\"\n      :refine=\"refine\"\n      :createURL=\"state.createURL\"\n      :send-event=\"state.sendEvent\"\n    >\n      <select\n        :class=\"suit('select')\"\n        @change=\"refine($event.currentTarget.value)\"\n      >\n        <option\n          :class=\"suit('option')\"\n          value=\"\"\n        >\n          <slot name=\"defaultOption\">See all</slot>\n        </option>\n        <option\n          v-for=\"item in state.items\"\n          :key=\"item.value\"\n          :class=\"suit('option')\"\n          :value=\"item.value\"\n          :selected=\"item.isRefined\"\n        >\n          <slot\n            name=\"item\"\n            :item=\"item\"\n          >{{ item.label }} ({{ item.count }})</slot>\n        </option>\n      </select>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { connectMenu } from 'instantsearch.js/es/connectors';\nimport { createPanelConsumerMixin } from '../mixins/panel';\nimport { createWidgetMixin } from '../mixins/widget';\nimport { createSuitMixin } from '../mixins/suit';\n\nexport default {\n  name: 'AisMenuSelect',\n  mixins: [\n    createSuitMixin({ name: 'MenuSelect' }),\n    createWidgetMixin({ connector: connectMenu }),\n    createPanelConsumerMixin({\n      mapStateToCanRefine: state => Boolean(state.canRefine),\n    }),\n  ],\n  props: {\n    attribute: {\n      type: String,\n      required: true,\n    },\n    limit: {\n      type: Number,\n      default: 10,\n    },\n    sortBy: {\n      type: [Array, Function],\n      default() {\n        return ['name:asc'];\n      },\n    },\n    transformItems: {\n      type: Function,\n      default(items) {\n        return items;\n      },\n    },\n  },\n  computed: {\n    widgetParams() {\n      return {\n        attribute: this.attribute,\n        limit: this.limit,\n        sortBy: this.sortBy,\n        transformItems: this.transformItems,\n      };\n    },\n  },\n  methods: {\n    refine(value) {\n      this.state.refine(value);\n    },\n  },\n};\n</script>\n","export function convertNumericRefinementsToFilters(state, attribute) {\n  if (!state) {\n    return null;\n  }\n\n  var filtersObj = state.numericRefinements[attribute];\n  /*\n    filtersObj === {\n      \"<=\": [10],\n      \"=\": [],\n      \">=\": [5]\n    }\n  */\n\n  var filters = [];\n  Object.keys(filtersObj).filter(function (operator) {\n    return Array.isArray(filtersObj[operator]) && filtersObj[operator].length > 0;\n  }).forEach(function (operator) {\n    filtersObj[operator].forEach(function (value) {\n      filters.push(\"\".concat(attribute).concat(operator).concat(value));\n    });\n  });\n  return filters;\n}","// This is the `Number.isFinite()` polyfill recommended by MDN.\n// We do not provide any tests for this function.\n// See: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isFinite#Polyfill\nfunction isFiniteNumber(value) {\n  return typeof value === 'number' && isFinite(value);\n}\n\nexport default isFiniteNumber;","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { checkRendering, createDocumentationMessageGenerator, isFiniteNumber, convertNumericRefinementsToFilters, noop } from '../../lib/utils';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'numeric-menu',\n  connector: true\n});\nvar $$type = 'ais.numericMenu';\n\nvar createSendEvent = function createSendEvent(_ref) {\n  var instantSearchInstance = _ref.instantSearchInstance,\n      helper = _ref.helper,\n      attribute = _ref.attribute;\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (args.length === 1) {\n      instantSearchInstance.sendEventToInsights(args[0]);\n      return;\n    }\n\n    var eventType = args[0],\n        facetValue = args[1],\n        _args$ = args[2],\n        eventName = _args$ === void 0 ? 'Filter Applied' : _args$;\n\n    if (eventType !== 'click') {\n      return;\n    } // facetValue === \"%7B%22start%22:5,%22end%22:10%7D\"\n\n\n    var filters = convertNumericRefinementsToFilters(getRefinedState(helper.state, attribute, facetValue), attribute);\n\n    if (filters && filters.length > 0) {\n      /*\n          filters === [\"price<=10\", \"price>=5\"]\n        */\n      instantSearchInstance.sendEventToInsights({\n        insightsMethod: 'clickedFilters',\n        widgetType: $$type,\n        eventType: eventType,\n        payload: {\n          eventName: eventName,\n          index: helper.getIndex(),\n          filters: filters\n        },\n        attribute: attribute\n      });\n    }\n  };\n};\n\nvar connectNumericMenu = function connectNumericMenu(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function (widgetParams) {\n    var _ref2 = widgetParams || {},\n        _ref2$attribute = _ref2.attribute,\n        attribute = _ref2$attribute === void 0 ? '' : _ref2$attribute,\n        _ref2$items = _ref2.items,\n        items = _ref2$items === void 0 ? [] : _ref2$items,\n        _ref2$transformItems = _ref2.transformItems,\n        transformItems = _ref2$transformItems === void 0 ? function (x) {\n      return x;\n    } : _ref2$transformItems;\n\n    if (attribute === '') {\n      throw new Error(withUsage('The `attribute` option is required.'));\n    }\n\n    if (!items || items.length === 0) {\n      throw new Error(withUsage('The `items` option expects an array of objects.'));\n    }\n\n    var prepareItems = function prepareItems(state) {\n      return items.map(function (_ref3) {\n        var start = _ref3.start,\n            end = _ref3.end,\n            label = _ref3.label;\n        return {\n          label: label,\n          value: encodeURI(JSON.stringify({\n            start: start,\n            end: end\n          })),\n          isRefined: isRefined(state, attribute, {\n            start: start,\n            end: end,\n            label: label\n          })\n        };\n      });\n    };\n\n    var connectorState = {};\n    return {\n      $$type: $$type,\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(renderOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose(_ref4) {\n        var state = _ref4.state;\n        unmountFn();\n        return state.clearRefinements(attribute);\n      },\n      getWidgetUiState: function getWidgetUiState(uiState, _ref5) {\n        var searchParameters = _ref5.searchParameters;\n        var values = searchParameters.getNumericRefinements(attribute);\n        var equal = values['='] && values['='][0];\n\n        if (equal || equal === 0) {\n          return _objectSpread(_objectSpread({}, uiState), {}, {\n            numericMenu: _objectSpread(_objectSpread({}, uiState.numericMenu), {}, _defineProperty({}, attribute, \"\".concat(values['='])))\n          });\n        }\n\n        var min = values['>='] && values['>='][0] || '';\n        var max = values['<='] && values['<='][0] || '';\n\n        if (min === '' && max === '') {\n          return uiState;\n        }\n\n        return _objectSpread(_objectSpread({}, uiState), {}, {\n          numericMenu: _objectSpread(_objectSpread({}, uiState.numericMenu), {}, _defineProperty({}, attribute, \"\".concat(min, \":\").concat(max)))\n        });\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters, _ref6) {\n        var uiState = _ref6.uiState;\n        var value = uiState.numericMenu && uiState.numericMenu[attribute];\n        var withoutRefinements = searchParameters.clearRefinements(attribute);\n\n        if (!value) {\n          return withoutRefinements.setQueryParameters({\n            numericRefinements: _objectSpread(_objectSpread({}, withoutRefinements.numericRefinements), {}, _defineProperty({}, attribute, {}))\n          });\n        }\n\n        var isExact = value.indexOf(':') === -1;\n\n        if (isExact) {\n          return withoutRefinements.addNumericRefinement(attribute, '=', Number(value));\n        }\n\n        var _value$split$map = value.split(':').map(parseFloat),\n            _value$split$map2 = _slicedToArray(_value$split$map, 2),\n            min = _value$split$map2[0],\n            max = _value$split$map2[1];\n\n        var withMinRefinement = isFiniteNumber(min) ? withoutRefinements.addNumericRefinement(attribute, '>=', min) : withoutRefinements;\n        var withMaxRefinement = isFiniteNumber(max) ? withMinRefinement.addNumericRefinement(attribute, '<=', max) : withMinRefinement;\n        return withMaxRefinement;\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          numericMenu: _objectSpread(_objectSpread({}, renderState.numericMenu), {}, _defineProperty({}, attribute, this.getWidgetRenderState(renderOptions)))\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref7) {\n        var results = _ref7.results,\n            state = _ref7.state,\n            instantSearchInstance = _ref7.instantSearchInstance,\n            helper = _ref7.helper,\n            createURL = _ref7.createURL;\n\n        if (!connectorState.refine) {\n          connectorState.refine = function (facetValue) {\n            var refinedState = getRefinedState(helper.state, attribute, facetValue);\n            connectorState.sendEvent('click', facetValue);\n            helper.setState(refinedState).search();\n          };\n        }\n\n        if (!connectorState.createURL) {\n          connectorState.createURL = function (newState) {\n            return function (facetValue) {\n              return createURL(getRefinedState(newState, attribute, facetValue));\n            };\n          };\n        }\n\n        if (!connectorState.sendEvent) {\n          connectorState.sendEvent = createSendEvent({\n            instantSearchInstance: instantSearchInstance,\n            helper: helper,\n            attribute: attribute\n          });\n        }\n\n        return {\n          createURL: connectorState.createURL(state),\n          items: transformItems(prepareItems(state)),\n          hasNoResults: results ? results.nbHits === 0 : true,\n          refine: connectorState.refine,\n          sendEvent: connectorState.sendEvent,\n          widgetParams: widgetParams\n        };\n      }\n    };\n  };\n};\n\nfunction isRefined(state, attribute, option) {\n  // @TODO: same as another spot, why is this mixing arrays & elements?\n  var currentRefinements = state.getNumericRefinements(attribute);\n\n  if (option.start !== undefined && option.end !== undefined) {\n    if (option.start === option.end) {\n      return hasNumericRefinement(currentRefinements, '=', option.start);\n    }\n  }\n\n  if (option.start !== undefined) {\n    return hasNumericRefinement(currentRefinements, '>=', option.start);\n  }\n\n  if (option.end !== undefined) {\n    return hasNumericRefinement(currentRefinements, '<=', option.end);\n  }\n\n  if (option.start === undefined && option.end === undefined) {\n    return Object.keys(currentRefinements).every(function (operator) {\n      return (currentRefinements[operator] || []).length === 0;\n    });\n  }\n\n  return false;\n}\n\nfunction getRefinedState(state, attribute, facetValue) {\n  var resolvedState = state;\n  var refinedOption = JSON.parse(decodeURI(facetValue)); // @TODO: why is array / element mixed here & hasRefinements; seems wrong?\n\n  var currentRefinements = resolvedState.getNumericRefinements(attribute);\n\n  if (refinedOption.start === undefined && refinedOption.end === undefined) {\n    return resolvedState.removeNumericRefinement(attribute);\n  }\n\n  if (!isRefined(resolvedState, attribute, refinedOption)) {\n    resolvedState = resolvedState.removeNumericRefinement(attribute);\n  }\n\n  if (refinedOption.start !== undefined && refinedOption.end !== undefined) {\n    if (refinedOption.start > refinedOption.end) {\n      throw new Error('option.start should be > to option.end');\n    }\n\n    if (refinedOption.start === refinedOption.end) {\n      if (hasNumericRefinement(currentRefinements, '=', refinedOption.start)) {\n        resolvedState = resolvedState.removeNumericRefinement(attribute, '=', refinedOption.start);\n      } else {\n        resolvedState = resolvedState.addNumericRefinement(attribute, '=', refinedOption.start);\n      }\n\n      return resolvedState;\n    }\n  }\n\n  if (refinedOption.start !== undefined) {\n    if (hasNumericRefinement(currentRefinements, '>=', refinedOption.start)) {\n      resolvedState = resolvedState.removeNumericRefinement(attribute, '>=', refinedOption.start);\n    } else {\n      resolvedState = resolvedState.addNumericRefinement(attribute, '>=', refinedOption.start);\n    }\n  }\n\n  if (refinedOption.end !== undefined) {\n    if (hasNumericRefinement(currentRefinements, '<=', refinedOption.end)) {\n      resolvedState = resolvedState.removeNumericRefinement(attribute, '<=', refinedOption.end);\n    } else {\n      resolvedState = resolvedState.addNumericRefinement(attribute, '<=', refinedOption.end);\n    }\n  }\n\n  if (typeof resolvedState.page === 'number') {\n    resolvedState.page = 0;\n  }\n\n  return resolvedState;\n}\n\nfunction hasNumericRefinement(currentRefinements, operator, value) {\n  return currentRefinements[operator] !== undefined && currentRefinements[operator].includes(value);\n}\n\nexport default connectNumericMenu;","<template>\n  <div\n    v-if=\"state\"\n    :class=\"[suit(), !canRefine && suit('', 'noRefinement')]\"\n  >\n    <slot\n      :items=\"state.items\"\n      :can-refine=\"canRefine\"\n      :refine=\"state.refine\"\n      :createURL=\"state.createURL\"\n      :send-event=\"state.sendEvent\"\n    >\n      <ul :class=\"[suit('list')]\">\n        <li\n          v-for=\"item in state.items\"\n          :key=\"item.label\"\n          :class=\"[suit('item'), item.isRefined && suit('item', 'selected')]\"\n        >\n          <label :class=\"suit('label')\">\n            <input\n              type=\"radio\"\n              :class=\"suit('radio')\"\n              :name=\"attribute\"\n              :value=\"item.value\"\n              :checked=\"item.isRefined\"\n              @change=\"state.refine($event.target.value)\"\n            >\n            <span :class=\"suit('labelText')\">{{ item.label }}</span>\n          </label>\n        </li>\n      </ul>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { connectNumericMenu } from 'instantsearch.js/es/connectors';\nimport { createPanelConsumerMixin } from '../mixins/panel';\nimport { createWidgetMixin } from '../mixins/widget';\nimport { createSuitMixin } from '../mixins/suit';\n\nexport default {\n  name: 'AisNumericMenu',\n  mixins: [\n    createWidgetMixin({ connector: connectNumericMenu }),\n    createSuitMixin({ name: 'NumericMenu' }),\n    createPanelConsumerMixin({\n      mapStateToCanRefine: state => state.hasNoResults === false,\n    }),\n  ],\n  props: {\n    attribute: {\n      type: String,\n      required: true,\n    },\n    items: {\n      type: Array,\n      required: true,\n    },\n    transformItems: {\n      type: Function,\n      default(items) {\n        return items;\n      },\n    },\n  },\n  computed: {\n    widgetParams() {\n      return {\n        attribute: this.attribute,\n        transformItems: this.transformItems,\n        items: this.items,\n      };\n    },\n    canRefine() {\n      return !this.state.hasNoResults;\n    },\n  },\n};\n</script>\n","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction range(_ref) {\n  var _ref$start = _ref.start,\n      start = _ref$start === void 0 ? 0 : _ref$start,\n      end = _ref.end,\n      _ref$step = _ref.step,\n      step = _ref$step === void 0 ? 1 : _ref$step;\n  // We can't divide by 0 so we re-assign the step to 1 if it happens.\n  var limitStep = step === 0 ? 1 : step; // In some cases the array to create has a decimal length.\n  // We therefore need to round the value.\n  // Example:\n  //   { start: 1, end: 5000, step: 500 }\n  //   => Array length = (5000 - 1) / 500 = 9.998\n\n  var arrayLength = Math.round((end - start) / limitStep);\n  return _toConsumableArray(Array(arrayLength)).map(function (_, current) {\n    return start + current * limitStep;\n  });\n}\n\nexport default range;","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { range } from '../../lib/utils';\n\nvar Paginator = /*#__PURE__*/function () {\n  function Paginator(params) {\n    _classCallCheck(this, Paginator);\n\n    _defineProperty(this, \"currentPage\", void 0);\n\n    _defineProperty(this, \"total\", void 0);\n\n    _defineProperty(this, \"padding\", void 0);\n\n    this.currentPage = params.currentPage;\n    this.total = params.total;\n    this.padding = params.padding;\n  }\n\n  _createClass(Paginator, [{\n    key: \"pages\",\n    value: function pages() {\n      var total = this.total,\n          currentPage = this.currentPage,\n          padding = this.padding;\n      if (total === 0) return [0];\n      var totalDisplayedPages = this.nbPagesDisplayed(padding, total);\n\n      if (totalDisplayedPages === total) {\n        return range({\n          end: total\n        });\n      }\n\n      var paddingLeft = this.calculatePaddingLeft(currentPage, padding, total, totalDisplayedPages);\n      var paddingRight = totalDisplayedPages - paddingLeft;\n      var first = currentPage - paddingLeft;\n      var last = currentPage + paddingRight;\n      return range({\n        start: first,\n        end: last\n      });\n    }\n  }, {\n    key: \"nbPagesDisplayed\",\n    value: function nbPagesDisplayed(padding, total) {\n      return Math.min(2 * padding + 1, total);\n    }\n  }, {\n    key: \"calculatePaddingLeft\",\n    value: function calculatePaddingLeft(current, padding, total, totalDisplayedPages) {\n      if (current <= padding) {\n        return current;\n      }\n\n      if (current >= total - padding) {\n        return totalDisplayedPages - (total - current);\n      }\n\n      return padding;\n    }\n  }, {\n    key: \"isLastPage\",\n    value: function isLastPage() {\n      return this.currentPage === this.total - 1 || this.total === 0;\n    }\n  }, {\n    key: \"isFirstPage\",\n    value: function isFirstPage() {\n      return this.currentPage === 0;\n    }\n  }]);\n\n  return Paginator;\n}();\n\nexport default Paginator;","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { checkRendering, createDocumentationMessageGenerator, noop } from '../../lib/utils';\nimport Paginator from './Paginator';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'pagination',\n  connector: true\n});\n\n/**\n * **Pagination** connector provides the logic to build a widget that will let the user\n * choose the current page of the results.\n *\n * When using the pagination with Algolia, you should be aware that the engine won't provide you pages\n * beyond the 1000th hits by default. You can find more information on the [Algolia documentation](https://www.algolia.com/doc/guides/searching/pagination/#pagination-limitations).\n */\nvar connectPagination = function connectPagination(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function (widgetParams) {\n    var _ref = widgetParams || {},\n        totalPages = _ref.totalPages,\n        _ref$padding = _ref.padding,\n        padding = _ref$padding === void 0 ? 3 : _ref$padding;\n\n    var pager = new Paginator({\n      currentPage: 0,\n      total: 0,\n      padding: padding\n    });\n    var connectorState = {};\n\n    function getMaxPage(_ref2) {\n      var nbPages = _ref2.nbPages;\n      return totalPages !== undefined ? Math.min(totalPages, nbPages) : nbPages;\n    }\n\n    return {\n      $$type: 'ais.pagination',\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(renderOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose(_ref3) {\n        var state = _ref3.state;\n        unmountFn();\n        return state.setQueryParameter('page', undefined);\n      },\n      getWidgetUiState: function getWidgetUiState(uiState, _ref4) {\n        var searchParameters = _ref4.searchParameters;\n        var page = searchParameters.page || 0;\n\n        if (!page) {\n          return uiState;\n        }\n\n        return _objectSpread(_objectSpread({}, uiState), {}, {\n          page: page + 1\n        });\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters, _ref5) {\n        var uiState = _ref5.uiState;\n        var page = uiState.page ? uiState.page - 1 : 0;\n        return searchParameters.setQueryParameter('page', page);\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref6) {\n        var results = _ref6.results,\n            helper = _ref6.helper,\n            createURL = _ref6.createURL;\n\n        if (!connectorState.refine) {\n          connectorState.refine = function (page) {\n            helper.setPage(page);\n            helper.search();\n          };\n        }\n\n        if (!connectorState.createURL) {\n          connectorState.createURL = function (state) {\n            return function (page) {\n              return createURL(state.setPage(page));\n            };\n          };\n        }\n\n        var state = helper.state;\n        var page = state.page || 0;\n        var nbPages = getMaxPage(results || {\n          nbPages: 0\n        });\n        pager.currentPage = page;\n        pager.total = nbPages;\n        return {\n          createURL: connectorState.createURL(state),\n          refine: connectorState.refine,\n          canRefine: nbPages > 1,\n          currentRefinement: page,\n          nbHits: (results === null || results === void 0 ? void 0 : results.nbHits) || 0,\n          nbPages: nbPages,\n          pages: results ? pager.pages() : [],\n          isFirstPage: pager.isFirstPage(),\n          isLastPage: pager.isLastPage(),\n          widgetParams: widgetParams\n        };\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          pagination: this.getWidgetRenderState(renderOptions)\n        });\n      }\n    };\n  };\n};\n\nexport default connectPagination;","<template>\n  <div\n    v-if=\"state\"\n    :class=\"suit()\"\n  >\n    <slot\n      :refine=\"refine\"\n      :createURL=\"state.createURL\"\n      :current-refinement=\"state.currentRefinement\"\n      :nb-hits=\"state.nbHits\"\n      :nb-pages=\"state.nbPages\"\n      :pages=\"state.pages\"\n      :is-first-page=\"state.isFirstPage\"\n      :is-last-page=\"state.isLastPage\"\n    >\n      <ul :class=\"suit('list')\">\n        <li\n          :class=\"{\n            [suit('item')]: true,\n            [suit('item', 'firstPage')]: true,\n            [suit('item', 'disabled')]: state.isFirstPage,\n          }\"\n          v-if=\"showFirst\"\n        >\n          <slot\n            name=\"first\"\n            :createURL=\"() => state.createURL(0)\"\n            :is-first-page=\"state.isFirstPage\"\n            :refine=\"() => refine(0)\"\n          >\n            <template v-if=\"!state.isFirstPage\">\n              <a\n                :class=\"suit('link')\"\n                aria-label=\"First\"\n                :href=\"state.createURL(0)\"\n                @click.prevent=\"refine(0)\"\n              ></a>\n            </template>\n            <template v-else>\n              <span\n                :class=\"suit('link')\"\n                aria-label=\"First\"\n              ></span>\n            </template>\n          </slot>\n        </li>\n        <li\n          :class=\"{\n            [suit('item')]: true,\n            [suit('item', 'previousPage')]: true,\n            [suit('item', 'disabled')]: state.isFirstPage,\n          }\"\n          v-if=\"showPrevious\"\n        >\n          <slot\n            name=\"previous\"\n            :createURL=\"() => state.createURL(state.currentRefinement - 1)\"\n            :is-first-page=\"state.isFirstPage\"\n            :refine=\"() => refine(state.currentRefinement - 1)\"\n          >\n            <template v-if=\"!state.isFirstPage\">\n              <a\n                :class=\"suit('link')\"\n                aria-label=\"Previous\"\n                :href=\"state.createURL(state.currentRefinement - 1)\"\n                @click.prevent=\"refine(state.currentRefinement - 1)\"\n              ></a>\n            </template>\n            <template v-else>\n              <span\n                :class=\"suit('link')\"\n                aria-label=\"Previous\"\n              ></span>\n            </template>\n          </slot>\n        </li>\n\n        <li\n          :class=\"{\n            [suit('item')]: true,\n            [suit('item', 'selected')]: state.currentRefinement === page\n          }\"\n          v-for=\"page in state.pages\"\n          :key=\"page\"\n        >\n          <slot\n            name=\"item\"\n            :page=\"page\"\n            :createURL=\"() => state.createURL(page)\"\n            :is-first-page=\"state.isFirstPage\"\n            :is-last-page=\"state.isLastPage\"\n            :refine=\"() => refine(page)\"\n          >\n            <a\n              :class=\"suit('link')\"\n              :href=\"state.createURL(page)\"\n              @click.prevent=\"refine(page)\"\n            >{{ page + 1 }}</a>\n          </slot>\n        </li>\n\n        <li\n          :class=\"{\n            [suit('item')]: true,\n            [suit('item','nextPage')]: true,\n            [suit('item','disabled')]: state.isLastPage\n          }\"\n          v-if=\"showNext\"\n        >\n          <slot\n            name=\"next\"\n            :createURL=\"() => state.createURL(state.currentRefinement + 1)\"\n            :is-last-page=\"state.isLastPage\"\n            :refine=\"() => refine(state.currentRefinement + 1)\"\n          >\n            <template v-if=\"!state.isLastPage\">\n              <a\n                :class=\"suit('link')\"\n                aria-label=\"Next\"\n                :href=\"state.createURL(state.currentRefinement + 1)\"\n                @click.prevent=\"refine(state.currentRefinement + 1)\"\n              ></a>\n            </template>\n            <template v-else>\n              <span\n                :class=\"suit('link')\"\n                aria-label=\"Next\"\n              ></span>\n            </template>\n          </slot>\n        </li>\n        <li\n          :class=\"{\n            [suit('item')]: true,\n            [suit('item','lastPage')]: true,\n            [suit('item','disabled')]: state.isLastPage,\n          }\"\n          v-if=\"showLast\"\n        >\n          <slot\n            name=\"last\"\n            :createURL=\"() => state.createURL(state.nbPages - 1)\"\n            :is-last-page=\"state.isLastPage\"\n            :refine=\"() => refine(state.nbPages - 1)\"\n          >\n            <template v-if=\"!state.isLastPage\">\n              <a\n                :class=\"suit('link')\"\n                aria-label=\"Last\"\n                :href=\"state.createURL(state.nbPages - 1)\"\n                @click.prevent=\"refine(state.nbPages - 1)\"\n              ></a>\n            </template>\n            <template v-else>\n              <span\n                :class=\"suit('link')\"\n                aria-label=\"Last\"\n              ></span>\n            </template>\n          </slot>\n        </li>\n      </ul>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { connectPagination } from 'instantsearch.js/es/connectors';\nimport { createPanelConsumerMixin } from '../mixins/panel';\nimport { createWidgetMixin } from '../mixins/widget';\nimport { createSuitMixin } from '../mixins/suit';\n\nexport default {\n  name: 'AisPagination',\n  mixins: [\n    createSuitMixin({ name: 'Pagination' }),\n    createWidgetMixin({ connector: connectPagination }),\n    createPanelConsumerMixin({\n      mapStateToCanRefine: state => state.nbPages > 1,\n    }),\n  ],\n  props: {\n    padding: {\n      type: Number,\n      default: 3,\n      validator(value) {\n        return value > 0;\n      },\n    },\n    totalPages: {\n      type: Number,\n      default: undefined,\n      validator(value) {\n        return value > 0;\n      },\n    },\n    showFirst: {\n      type: Boolean,\n      default: true,\n    },\n    showLast: {\n      type: Boolean,\n      default: true,\n    },\n    showNext: {\n      type: Boolean,\n      default: true,\n    },\n    showPrevious: {\n      type: Boolean,\n      default: true,\n    },\n  },\n  computed: {\n    widgetParams() {\n      return {\n        padding: this.padding,\n        totalPages: this.totalPages,\n      };\n    },\n  },\n  methods: {\n    refine(page) {\n      const p = Math.min(Math.max(page, 0), this.state.nbPages - 1);\n      this.state.refine(p);\n      // TODO: do this in a general way\n      this.$emit('page-change', p);\n    },\n  },\n};\n</script>\n","<template>\n  <div :class=\"[suit(), !canRefine && suit('', 'noRefinement')]\">\n    <div\n      v-if=\"$slots.header || $scopedSlots.header\"\n      :class=\"suit('header')\"\n    >\n      <slot\n        name=\"header\"\n        :has-refinements=\"canRefine\"\n      />\n    </div>\n    <div :class=\"suit('body')\">\n      <slot :has-refinements=\"canRefine\" />\n    </div>\n    <div\n      v-if=\"$slots.footer || $scopedSlots.footer\"\n      :class=\"suit('footer')\"\n    >\n      <slot\n        name=\"footer\"\n        :has-refinements=\"canRefine\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { createPanelProviderMixin } from '../mixins/panel';\nimport { createSuitMixin } from '../mixins/suit';\n\nexport default {\n  name: 'AisPanel',\n  mixins: [createSuitMixin({ name: 'Panel' }), createPanelProviderMixin()],\n};\n</script>\n","<template>\n  <div :class=\"suit()\">\n    <a\n      :class=\"suit('link')\"\n      :href=\"algoliaUrl\"\n      target=\"_blank\"\n      rel=\"noopener\"\n      aria-label=\"search by Algolia\"\n    >\n      <svg\n        style=\"height: 1.2em; width: auto\"\n        :class=\"[suit('logo'), suit('', theme)]\"\n        viewBox=\"0 0 168 24\"\n      >\n        <path\n          :fill=\"theme === 'dark' ? '#FFF': '#5D6494'\"\n          d=\"M6.97 6.68V8.3a4.47 4.47 0 0 0-2.42-.67 2.2 2.2 0 0 0-1.38.4c-.34.26-.5.6-.5 1.02 0 .43.16.77.49 1.03.33.25.83.53 1.51.83a7.04 7.04 0 0 1 1.9 1.08c.34.24.58.54.73.89.15.34.23.74.23 1.18 0 .95-.33 1.7-1 2.24a4 4 0 0 1-2.6.81 5.71 5.71 0 0 1-2.94-.68v-1.71c.84.63 1.81.94 2.92.94.58 0 1.05-.14 1.39-.4.34-.28.5-.65.5-1.13 0-.29-.1-.55-.3-.8a2.2 2.2 0 0 0-.65-.53 23.03 23.03 0 0 0-1.64-.78 13.67 13.67 0 0 1-1.11-.64c-.12-.1-.28-.22-.46-.4a1.72 1.72 0 0 1-.39-.5 4.46 4.46 0 0 1-.22-.6c-.07-.23-.1-.48-.1-.75 0-.91.33-1.63 1-2.17a4 4 0 0 1 2.57-.8c.97 0 1.8.18 2.47.52zm7.47 5.7v-.3a2.26 2.26 0 0 0-.5-1.44c-.3-.35-.74-.53-1.32-.53-.53 0-.99.2-1.37.58-.38.39-.62.95-.72 1.68h3.91zm1 2.79v1.4c-.6.34-1.38.51-2.36.51a4.02 4.02 0 0 1-3-1.13 4.04 4.04 0 0 1-1.11-2.97c0-1.3.34-2.32 1.02-3.06a3.38 3.38 0 0 1 2.6-1.1c1.03 0 1.85.32 2.46.96.6.64.9 1.57.9 2.78 0 .33-.03.68-.09 1.04h-5.31c.1.7.4 1.24.89 1.61.49.38 1.1.56 1.85.56.86 0 1.58-.2 2.15-.6zm6.61-1.78h-1.21c-.6 0-1.05.12-1.35.36-.3.23-.46.53-.46.89 0 .37.12.66.36.88.23.2.57.32 1.02.32.5 0 .9-.15 1.2-.43.3-.28.44-.65.44-1.1v-.92zm-4.07-2.55V9.33a4.96 4.96 0 0 1 2.5-.55c2.1 0 3.17 1.03 3.17 3.08V17H22.1v-.96c-.42.68-1.15 1.02-2.19 1.02-.76 0-1.38-.22-1.84-.66-.46-.44-.7-1-.7-1.68 0-.78.3-1.38.88-1.81.59-.43 1.4-.65 2.46-.65h1.34v-.46c0-.55-.13-.97-.4-1.25-.26-.29-.7-.43-1.32-.43-.86 0-1.65.24-2.35.72zm9.34-1.93v1.42c.39-1 1.1-1.5 2.12-1.5.15 0 .31.02.5.05v1.53c-.23-.1-.48-.14-.76-.14-.54 0-.99.24-1.34.71a2.8 2.8 0 0 0-.52 1.71V17h-1.57V8.91h1.57zm5 4.09a3 3 0 0 0 .76 2.01c.47.53 1.14.8 2 .8.64 0 1.24-.18 1.8-.53v1.4c-.53.32-1.2.48-2 .48a3.98 3.98 0 0 1-4.17-4.18c0-1.16.38-2.15 1.14-2.98a4 4 0 0 1 3.1-1.23c.7 0 1.34.15 1.92.44v1.44a3.24 3.24 0 0 0-1.77-.5A2.65 2.65 0 0 0 32.33 13zm7.92-7.28v4.58c.46-1 1.3-1.5 2.5-1.5.8 0 1.42.24 1.9.73.48.5.72 1.17.72 2.05V17H43.8v-5.1c0-.56-.14-.99-.43-1.29-.28-.3-.65-.45-1.1-.45-.54 0-1 .2-1.42.6-.4.4-.61 1.02-.61 1.85V17h-1.56V5.72h1.56zM55.2 15.74c.6 0 1.1-.25 1.5-.76.4-.5.6-1.16.6-1.95 0-.92-.2-1.62-.6-2.12-.4-.5-.92-.74-1.55-.74-.56 0-1.05.22-1.5.67-.44.45-.66 1.13-.66 2.06 0 .96.22 1.67.64 2.14.43.47.95.7 1.57.7zM53 5.72v4.42a2.74 2.74 0 0 1 2.43-1.34c1.03 0 1.86.38 2.51 1.15.65.76.97 1.78.97 3.05 0 1.13-.3 2.1-.92 2.9-.62.81-1.47 1.21-2.54 1.21s-1.9-.45-2.46-1.34V17h-1.58V5.72H53zm9.9 11.1l-3.22-7.9h1.74l1 2.62 1.26 3.42c.1-.32.48-1.46 1.15-3.42l.91-2.63h1.66l-2.92 7.87c-.78 2.07-1.96 3.1-3.56 3.1-.28 0-.53-.02-.73-.07v-1.34c.17.04.35.06.54.06 1.03 0 1.76-.57 2.17-1.7z\"\n        />\n        <path\n          fill=\"#5468FF\"\n          d=\"M78.99.94h16.6a2.97 2.97 0 0 1 2.96 2.96v16.6a2.97 2.97 0 0 1-2.97 2.96h-16.6a2.97 2.97 0 0 1-2.96-2.96V3.9A2.96 2.96 0 0 1 79 .94\"\n        />\n        <path\n          fill=\"#FFF\"\n          d=\"M89.63 5.97v-.78a.98.98 0 0 0-.98-.97h-2.28a.98.98 0 0 0-.97.97V6c0 .09.08.15.17.13a7.13 7.13 0 0 1 3.9-.02c.08.02.16-.04.16-.13m-6.25 1L83 6.6a.98.98 0 0 0-1.38 0l-.46.46a.97.97 0 0 0 0 1.38l.38.39c.06.06.15.04.2-.02a7.49 7.49 0 0 1 1.63-1.62c.07-.04.08-.14.02-.2m4.16 2.45v3.34c0 .1.1.17.2.12l2.97-1.54c.06-.03.08-.12.05-.18a3.7 3.7 0 0 0-3.08-1.87c-.07 0-.14.06-.14.13m0 8.05a4.49 4.49 0 1 1 0-8.98 4.49 4.49 0 0 1 0 8.98m0-10.85a6.37 6.37 0 1 0 0 12.74 6.37 6.37 0 0 0 0-12.74\"\n        />\n        <path\n          :fill=\"theme === 'dark' ? '#FFF': '#5468FF'\"\n          d=\"M120.92 18.8c-4.38.02-4.38-3.54-4.38-4.1V1.36l2.67-.42v13.25c0 .32 0 2.36 1.71 2.37v2.24zm-10.84-2.18c.82 0 1.43-.04 1.85-.12v-2.72a5.48 5.48 0 0 0-1.57-.2c-.3 0-.6.02-.9.07-.3.04-.57.12-.81.24-.24.11-.44.28-.58.49a.93.93 0 0 0-.22.65c0 .63.22 1 .61 1.23.4.24.94.36 1.62.36zm-.23-9.7c.88 0 1.62.11 2.23.33.6.22 1.09.53 1.44.92.36.4.61.92.76 1.48.16.56.23 1.17.23 1.85v6.87c-.4.1-1.03.2-1.86.32-.84.12-1.78.18-2.82.18-.69 0-1.32-.07-1.9-.2a4 4 0 0 1-1.46-.63c-.4-.3-.72-.67-.96-1.13a4.3 4.3 0 0 1-.34-1.8c0-.66.13-1.08.39-1.53.26-.45.6-.82 1.04-1.1.45-.3.95-.5 1.54-.62a8.8 8.8 0 0 1 3.79.05v-.44c0-.3-.04-.6-.11-.87a1.78 1.78 0 0 0-1.1-1.22c-.31-.12-.7-.2-1.15-.2a9.75 9.75 0 0 0-2.95.46l-.33-2.19c.34-.12.84-.23 1.48-.35.65-.12 1.34-.18 2.08-.18zm52.84 9.63c.82 0 1.43-.05 1.85-.13V13.7a5.42 5.42 0 0 0-1.57-.2c-.3 0-.6.02-.9.07-.3.04-.57.12-.81.24-.24.12-.44.28-.58.5a.93.93 0 0 0-.22.65c0 .63.22.99.61 1.23.4.24.94.36 1.62.36zm-.23-9.7c.88 0 1.63.11 2.23.33.6.22 1.1.53 1.45.92.35.39.6.92.76 1.48.15.56.23 1.18.23 1.85v6.88c-.41.08-1.03.19-1.87.31-.83.12-1.77.18-2.81.18-.7 0-1.33-.06-1.9-.2a4 4 0 0 1-1.47-.63c-.4-.3-.72-.67-.95-1.13a4.3 4.3 0 0 1-.34-1.8c0-.66.13-1.08.38-1.53.26-.45.61-.82 1.05-1.1.44-.3.95-.5 1.53-.62a8.8 8.8 0 0 1 3.8.05v-.43c0-.31-.04-.6-.12-.88-.07-.28-.2-.52-.38-.73a1.78 1.78 0 0 0-.73-.5c-.3-.1-.68-.2-1.14-.2a9.85 9.85 0 0 0-2.95.47l-.32-2.19a11.63 11.63 0 0 1 3.55-.53zm-8.03-1.27a1.62 1.62 0 0 0 0-3.24 1.62 1.62 0 1 0 0 3.24zm1.35 13.22h-2.7V7.27l2.7-.42V18.8zm-4.72 0c-4.38.02-4.38-3.54-4.38-4.1l-.01-13.34 2.67-.42v13.25c0 .32 0 2.36 1.72 2.37v2.24zm-8.7-5.9a4.7 4.7 0 0 0-.74-2.79 2.4 2.4 0 0 0-2.07-1 2.4 2.4 0 0 0-2.06 1 4.7 4.7 0 0 0-.74 2.8c0 1.16.25 1.94.74 2.62a2.4 2.4 0 0 0 2.07 1.02c.88 0 1.57-.34 2.07-1.02.49-.68.73-1.46.73-2.63zm2.74 0a6.46 6.46 0 0 1-1.52 4.23c-.49.53-1.07.94-1.76 1.22-.68.29-1.73.45-2.26.45-.53 0-1.58-.15-2.25-.45a5.1 5.1 0 0 1-2.88-3.13 7.3 7.3 0 0 1-.01-4.84 5.13 5.13 0 0 1 2.9-3.1 5.67 5.67 0 0 1 2.22-.42c.81 0 1.56.14 2.24.42.69.29 1.28.69 1.75 1.22.49.52.87 1.15 1.14 1.89a7 7 0 0 1 .43 2.5zm-20.14 0c0 1.11.25 2.36.74 2.88.5.52 1.13.78 1.91.78a4.07 4.07 0 0 0 2.12-.6V9.33c-.19-.04-.99-.2-1.76-.23a2.67 2.67 0 0 0-2.23 1 4.73 4.73 0 0 0-.78 2.8zm7.44 5.27c0 1.82-.46 3.16-1.4 4-.94.85-2.37 1.27-4.3 1.27-.7 0-2.17-.13-3.34-.4l.43-2.11c.98.2 2.27.26 2.95.26 1.08 0 1.84-.22 2.3-.66.46-.43.68-1.08.68-1.94v-.44a5.2 5.2 0 0 1-2.54.6 5.6 5.6 0 0 1-2.01-.36 4.2 4.2 0 0 1-2.58-2.71 9.88 9.88 0 0 1 .02-5.35 4.92 4.92 0 0 1 2.93-2.96 6.6 6.6 0 0 1 2.43-.46 19.64 19.64 0 0 1 4.43.66v10.6z\"\n        />\n      </svg>\n    </a>\n  </div>\n</template>\n\n<script>\nimport { createSuitMixin } from '../mixins/suit';\n\nexport default {\n  name: 'AisPoweredBy',\n  mixins: [createSuitMixin({ name: 'PoweredBy' })],\n  props: {\n    theme: {\n      default: 'light',\n      validator(value) {\n        return ['light', 'dark'].indexOf(value) !== -1;\n      },\n    },\n  },\n  computed: {\n    algoliaUrl() {\n      return (\n        'https://www.algolia.com/?' +\n        'utm_source=vue-instantsearch&' +\n        'utm_medium=website&' +\n        `utm_content=${location ? location.hostname : ''}&` +\n        'utm_campaign=poweredby'\n      );\n    },\n  },\n};\n</script>\n","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { checkRendering, createDocumentationMessageGenerator, warning, getRefinements, isEqual, noop } from '../../lib/utils';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'query-rules',\n  connector: true\n});\n\nfunction hasStateRefinements(state) {\n  return [state.disjunctiveFacetsRefinements, state.facetsRefinements, state.hierarchicalFacetsRefinements, state.numericRefinements].some(function (refinement) {\n    return Boolean(refinement && Object.keys(refinement).length > 0);\n  });\n} // A context rule must consist only of alphanumeric characters, hyphens, and underscores.\n// See https://www.algolia.com/doc/guides/managing-results/refine-results/merchandising-and-promoting/in-depth/implementing-query-rules/#context\n\n\nfunction escapeRuleContext(ruleName) {\n  return ruleName.replace(/[^a-z0-9-_]+/gi, '_');\n}\n\nfunction getRuleContextsFromTrackedFilters(_ref) {\n  var helper = _ref.helper,\n      sharedHelperState = _ref.sharedHelperState,\n      trackedFilters = _ref.trackedFilters;\n  var ruleContexts = Object.keys(trackedFilters).reduce(function (facets, facetName) {\n    var facetRefinements = getRefinements(helper.lastResults || {}, sharedHelperState, true).filter(function (refinement) {\n      return refinement.attribute === facetName;\n    }).map(function (refinement) {\n      return refinement.numericValue || refinement.name;\n    });\n    var getTrackedFacetValues = trackedFilters[facetName];\n    var trackedFacetValues = getTrackedFacetValues(facetRefinements);\n    return [].concat(_toConsumableArray(facets), _toConsumableArray(facetRefinements.filter(function (facetRefinement) {\n      return trackedFacetValues.includes(facetRefinement);\n    }).map(function (facetValue) {\n      return escapeRuleContext(\"ais-\".concat(facetName, \"-\").concat(facetValue));\n    })));\n  }, []);\n  return ruleContexts;\n}\n\nfunction applyRuleContexts(event) {\n  var helper = this.helper,\n      initialRuleContexts = this.initialRuleContexts,\n      trackedFilters = this.trackedFilters,\n      transformRuleContexts = this.transformRuleContexts;\n  var sharedHelperState = event.state;\n  var previousRuleContexts = sharedHelperState.ruleContexts || [];\n  var newRuleContexts = getRuleContextsFromTrackedFilters({\n    helper: helper,\n    sharedHelperState: sharedHelperState,\n    trackedFilters: trackedFilters\n  });\n  var nextRuleContexts = [].concat(_toConsumableArray(initialRuleContexts), _toConsumableArray(newRuleContexts));\n  process.env.NODE_ENV === 'development' ? warning(nextRuleContexts.length <= 10, \"\\nThe maximum number of `ruleContexts` is 10. They have been sliced to that limit.\\nConsider using `transformRuleContexts` to minimize the number of rules sent to Algolia.\\n\") : void 0;\n  var ruleContexts = transformRuleContexts(nextRuleContexts).slice(0, 10);\n\n  if (!isEqual(previousRuleContexts, ruleContexts)) {\n    helper.overrideStateWithoutTriggeringChangeEvent(_objectSpread(_objectSpread({}, sharedHelperState), {}, {\n      ruleContexts: ruleContexts\n    }));\n  }\n}\n\nvar connectQueryRules = function connectQueryRules(_render) {\n  var unmount = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(_render, withUsage());\n  return function (widgetParams) {\n    var _ref2 = widgetParams || {},\n        _ref2$trackedFilters = _ref2.trackedFilters,\n        trackedFilters = _ref2$trackedFilters === void 0 ? {} : _ref2$trackedFilters,\n        _ref2$transformRuleCo = _ref2.transformRuleContexts,\n        transformRuleContexts = _ref2$transformRuleCo === void 0 ? function (rules) {\n      return rules;\n    } : _ref2$transformRuleCo,\n        _ref2$transformItems = _ref2.transformItems,\n        transformItems = _ref2$transformItems === void 0 ? function (items) {\n      return items;\n    } : _ref2$transformItems;\n\n    Object.keys(trackedFilters).forEach(function (facetName) {\n      if (typeof trackedFilters[facetName] !== 'function') {\n        throw new Error(withUsage(\"'The \\\"\".concat(facetName, \"\\\" filter value in the `trackedFilters` option expects a function.\")));\n      }\n    });\n    var hasTrackedFilters = Object.keys(trackedFilters).length > 0; // We store the initial rule contexts applied before creating the widget\n    // so that we do not override them with the rules created from `trackedFilters`.\n\n    var initialRuleContexts = [];\n    var onHelperChange;\n    return {\n      $$type: 'ais.queryRules',\n      init: function init(initOptions) {\n        var helper = initOptions.helper,\n            state = initOptions.state,\n            instantSearchInstance = initOptions.instantSearchInstance;\n        initialRuleContexts = state.ruleContexts || [];\n        onHelperChange = applyRuleContexts.bind({\n          helper: helper,\n          initialRuleContexts: initialRuleContexts,\n          trackedFilters: trackedFilters,\n          transformRuleContexts: transformRuleContexts\n        });\n\n        if (hasTrackedFilters) {\n          // We need to apply the `ruleContexts` based on the `trackedFilters`\n          // before the helper changes state in some cases:\n          //   - Some filters are applied on the first load (e.g. using `configure`)\n          //   - The `transformRuleContexts` option sets initial `ruleContexts`.\n          if (hasStateRefinements(state) || Boolean(widgetParams.transformRuleContexts)) {\n            onHelperChange({\n              state: state\n            });\n          } // We track every change in the helper to override its state and add\n          // any `ruleContexts` needed based on the `trackedFilters`.\n\n\n          helper.on('change', onHelperChange);\n        }\n\n        _render(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n\n        _render(_objectSpread(_objectSpread({}, this.getWidgetRenderState(renderOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref3) {\n        var results = _ref3.results;\n\n        var _ref4 = results || {},\n            _ref4$userData = _ref4.userData,\n            userData = _ref4$userData === void 0 ? [] : _ref4$userData;\n\n        var items = transformItems(userData);\n        return {\n          items: items,\n          widgetParams: widgetParams\n        };\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          queryRules: this.getWidgetRenderState(renderOptions)\n        });\n      },\n      dispose: function dispose(_ref5) {\n        var helper = _ref5.helper,\n            state = _ref5.state;\n        unmount();\n\n        if (hasTrackedFilters) {\n          helper.removeListener('change', onHelperChange);\n          return state.setQueryParameter('ruleContexts', initialRuleContexts);\n        }\n\n        return state;\n      }\n    };\n  };\n};\n\nexport default connectQueryRules;","import{createSuitMixin as t}from\"../mixins/suit.js\";import{createWidgetMixin as e}from\"../mixins/widget.js\";import{connectQueryRules as r}from\"instantsearch.js/es/connectors\";export default{name:\"AisQueryRuleContext\",mixins:[t({name:\"QueryRuleContext\"}),e({connector:r})],props:{trackedFilters:{type:Object,required:!0},transformRuleContexts:{type:Function,required:!1,default:function(t){return t}}},computed:{widgetParams:function(){return{trackedFilters:this.trackedFilters,transformRuleContexts:this.transformRuleContexts}}},render:function(){return null}};\n//# sourceMappingURL=QueryRuleContext.js.map\n","<template>\n  <div\n    v-if=\"state\"\n    :class=\"suit()\"\n  >\n    <slot :items=\"state.items\">\n      <div\n        v-for=\"(item, key) in state.items\"\n        :key=\"key\"\n      >\n        <slot\n          name=\"item\"\n          :item=\"item\"\n        >\n          <pre>{{ item }}</pre>\n        </slot>\n      </div>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { createSuitMixin } from '../mixins/suit';\nimport { createWidgetMixin } from '../mixins/widget';\nimport { connectQueryRules } from 'instantsearch.js/es/connectors';\n\nexport default {\n  name: 'AisQueryRuleCustomData',\n  mixins: [\n    createSuitMixin({ name: 'QueryRuleCustomData' }),\n    createWidgetMixin({\n      connector: connectQueryRules,\n    }),\n  ],\n  props: {\n    transformItems: {\n      type: Function,\n      required: false,\n      default: items => items,\n    },\n  },\n  computed: {\n    widgetParams() {\n      return {\n        transformItems: this.transformItems,\n      };\n    },\n  },\n};\n</script>\n","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { checkRendering, createDocumentationMessageGenerator, convertNumericRefinementsToFilters, isFiniteNumber, find, noop } from '../../lib/utils';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'range-input',\n  connector: true\n}, {\n  name: 'range-slider',\n  connector: true\n});\nvar $$type = 'ais.range';\n\nfunction toPrecision(_ref) {\n  var min = _ref.min,\n      max = _ref.max,\n      precision = _ref.precision;\n  var pow = Math.pow(10, precision);\n  return {\n    min: min ? Math.floor(min * pow) / pow : min,\n    max: max ? Math.ceil(max * pow) / pow : max\n  };\n}\n/**\n * **Range** connector provides the logic to create custom widget that will let\n * the user refine results using a numeric range.\n *\n * This connectors provides a `refine()` function that accepts bounds. It will also provide\n * information about the min and max bounds for the current result set.\n */\n\n\nvar connectRange = function connectRange(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function (widgetParams) {\n    var _ref2 = widgetParams || {},\n        _ref2$attribute = _ref2.attribute,\n        attribute = _ref2$attribute === void 0 ? '' : _ref2$attribute,\n        minBound = _ref2.min,\n        maxBound = _ref2.max,\n        _ref2$precision = _ref2.precision,\n        precision = _ref2$precision === void 0 ? 0 : _ref2$precision;\n\n    if (!attribute) {\n      throw new Error(withUsage('The `attribute` option is required.'));\n    }\n\n    if (isFiniteNumber(minBound) && isFiniteNumber(maxBound) && minBound > maxBound) {\n      throw new Error(withUsage(\"The `max` option can't be lower than `min`.\"));\n    }\n\n    var formatToNumber = function formatToNumber(v) {\n      return Number(Number(v).toFixed(precision));\n    };\n\n    var rangeFormatter = {\n      from: function from(v) {\n        return v.toLocaleString();\n      },\n      to: function to(v) {\n        return formatToNumber(v).toLocaleString();\n      }\n    }; // eslint-disable-next-line complexity\n\n    var getRefinedState = function getRefinedState(helper, currentRange, nextMin, nextMax) {\n      var resolvedState = helper.state;\n      var currentRangeMin = currentRange.min,\n          currentRangeMax = currentRange.max;\n\n      var _ref3 = resolvedState.getNumericRefinement(attribute, '>=') || [],\n          _ref4 = _slicedToArray(_ref3, 1),\n          min = _ref4[0];\n\n      var _ref5 = resolvedState.getNumericRefinement(attribute, '<=') || [],\n          _ref6 = _slicedToArray(_ref5, 1),\n          max = _ref6[0];\n\n      var isResetMin = nextMin === undefined || nextMin === '';\n      var isResetMax = nextMax === undefined || nextMax === '';\n\n      var _toPrecision = toPrecision({\n        min: !isResetMin ? parseFloat(nextMin) : undefined,\n        max: !isResetMax ? parseFloat(nextMax) : undefined,\n        precision: precision\n      }),\n          nextMinAsNumber = _toPrecision.min,\n          nextMaxAsNumber = _toPrecision.max;\n\n      var newNextMin;\n\n      if (!isFiniteNumber(minBound) && currentRangeMin === nextMinAsNumber) {\n        newNextMin = undefined;\n      } else if (isFiniteNumber(minBound) && isResetMin) {\n        newNextMin = minBound;\n      } else {\n        newNextMin = nextMinAsNumber;\n      }\n\n      var newNextMax;\n\n      if (!isFiniteNumber(maxBound) && currentRangeMax === nextMaxAsNumber) {\n        newNextMax = undefined;\n      } else if (isFiniteNumber(maxBound) && isResetMax) {\n        newNextMax = maxBound;\n      } else {\n        newNextMax = nextMaxAsNumber;\n      }\n\n      var isResetNewNextMin = newNextMin === undefined;\n      var isGreaterThanCurrentRange = isFiniteNumber(currentRangeMin) && currentRangeMin <= newNextMin;\n      var isMinValid = isResetNewNextMin || isFiniteNumber(newNextMin) && (!isFiniteNumber(currentRangeMin) || isGreaterThanCurrentRange);\n      var isResetNewNextMax = newNextMax === undefined;\n      var isLowerThanRange = isFiniteNumber(newNextMax) && currentRangeMax >= newNextMax;\n      var isMaxValid = isResetNewNextMax || isFiniteNumber(newNextMax) && (!isFiniteNumber(currentRangeMax) || isLowerThanRange);\n      var hasMinChange = min !== newNextMin;\n      var hasMaxChange = max !== newNextMax;\n\n      if ((hasMinChange || hasMaxChange) && isMinValid && isMaxValid) {\n        resolvedState = resolvedState.removeNumericRefinement(attribute);\n\n        if (isFiniteNumber(newNextMin)) {\n          resolvedState = resolvedState.addNumericRefinement(attribute, '>=', newNextMin);\n        }\n\n        if (isFiniteNumber(newNextMax)) {\n          resolvedState = resolvedState.addNumericRefinement(attribute, '<=', newNextMax);\n        }\n\n        return resolvedState;\n      }\n\n      return null;\n    };\n\n    var sendEventWithRefinedState = function sendEventWithRefinedState(refinedState, instantSearchInstance, helper) {\n      var eventName = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'Filter Applied';\n      var filters = convertNumericRefinementsToFilters(refinedState, attribute);\n\n      if (filters && filters.length > 0) {\n        instantSearchInstance.sendEventToInsights({\n          insightsMethod: 'clickedFilters',\n          widgetType: $$type,\n          eventType: 'click',\n          payload: {\n            eventName: eventName,\n            index: helper.getIndex(),\n            filters: filters\n          },\n          attribute: attribute\n        });\n      }\n    };\n\n    var createSendEvent = function createSendEvent(instantSearchInstance, helper, currentRange) {\n      return function () {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        if (args.length === 1) {\n          instantSearchInstance.sendEventToInsights(args[0]);\n          return;\n        }\n\n        var eventType = args[0],\n            facetValue = args[1],\n            eventName = args[2];\n\n        if (eventType !== 'click') {\n          return;\n        }\n\n        var _facetValue = _slicedToArray(facetValue, 2),\n            nextMin = _facetValue[0],\n            nextMax = _facetValue[1];\n\n        var refinedState = getRefinedState(helper, currentRange, nextMin, nextMax);\n        sendEventWithRefinedState(refinedState, instantSearchInstance, helper, eventName);\n      };\n    };\n\n    function _getCurrentRange(stats) {\n      var min;\n\n      if (isFiniteNumber(minBound)) {\n        min = minBound;\n      } else if (isFiniteNumber(stats.min)) {\n        min = stats.min;\n      } else {\n        min = 0;\n      }\n\n      var max;\n\n      if (isFiniteNumber(maxBound)) {\n        max = maxBound;\n      } else if (isFiniteNumber(stats.max)) {\n        max = stats.max;\n      } else {\n        max = 0;\n      }\n\n      return toPrecision({\n        min: min,\n        max: max,\n        precision: precision\n      });\n    }\n\n    function _getCurrentRefinement(helper) {\n      var _ref7 = helper.getNumericRefinement(attribute, '>=') || [],\n          _ref8 = _slicedToArray(_ref7, 1),\n          minValue = _ref8[0];\n\n      var _ref9 = helper.getNumericRefinement(attribute, '<=') || [],\n          _ref10 = _slicedToArray(_ref9, 1),\n          maxValue = _ref10[0];\n\n      var min = isFiniteNumber(minValue) ? minValue : -Infinity;\n      var max = isFiniteNumber(maxValue) ? maxValue : Infinity;\n      return [min, max];\n    }\n\n    function _refine(instantSearchInstance, helper, currentRange) {\n      return function () {\n        var _ref11 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [undefined, undefined],\n            _ref12 = _slicedToArray(_ref11, 2),\n            nextMin = _ref12[0],\n            nextMax = _ref12[1];\n\n        var refinedState = getRefinedState(helper, currentRange, nextMin, nextMax);\n\n        if (refinedState) {\n          sendEventWithRefinedState(refinedState, instantSearchInstance, helper);\n          helper.setState(refinedState).search();\n        }\n      };\n    }\n\n    return {\n      $$type: $$type,\n      init: function init(initOptions) {\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: initOptions.instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(renderOptions)), {}, {\n          instantSearchInstance: renderOptions.instantSearchInstance\n        }), false);\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          range: _objectSpread(_objectSpread({}, renderState.range), {}, _defineProperty({}, attribute, this.getWidgetRenderState(renderOptions)))\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref13) {\n        var results = _ref13.results,\n            helper = _ref13.helper,\n            instantSearchInstance = _ref13.instantSearchInstance;\n        var facetsFromResults = results && results.disjunctiveFacets || [];\n        var facet = find(facetsFromResults, function (facetResult) {\n          return facetResult.name === attribute;\n        });\n        var stats = facet && facet.stats || {\n          min: undefined,\n          max: undefined\n        };\n\n        var currentRange = _getCurrentRange(stats);\n\n        var start = _getCurrentRefinement(helper);\n\n        var refine;\n\n        if (!results) {\n          // On first render pass an empty range\n          // to be able to bypass the validation\n          // related to it\n          refine = _refine(instantSearchInstance, helper, {\n            min: undefined,\n            max: undefined\n          });\n        } else {\n          refine = _refine(instantSearchInstance, helper, currentRange);\n        }\n\n        return {\n          refine: refine,\n          canRefine: currentRange.min !== currentRange.max,\n          format: rangeFormatter,\n          range: currentRange,\n          sendEvent: createSendEvent(instantSearchInstance, helper, currentRange),\n          widgetParams: _objectSpread(_objectSpread({}, widgetParams), {}, {\n            precision: precision\n          }),\n          start: start\n        };\n      },\n      dispose: function dispose(_ref14) {\n        var state = _ref14.state;\n        unmountFn();\n        return state.removeDisjunctiveFacet(attribute).removeNumericRefinement(attribute);\n      },\n      getWidgetUiState: function getWidgetUiState(uiState, _ref15) {\n        var searchParameters = _ref15.searchParameters;\n\n        var _searchParameters$get = searchParameters.getNumericRefinements(attribute),\n            _searchParameters$get2 = _searchParameters$get['>='],\n            min = _searchParameters$get2 === void 0 ? [] : _searchParameters$get2,\n            _searchParameters$get3 = _searchParameters$get['<='],\n            max = _searchParameters$get3 === void 0 ? [] : _searchParameters$get3;\n\n        if (min.length === 0 && max.length === 0) {\n          return uiState;\n        }\n\n        return _objectSpread(_objectSpread({}, uiState), {}, {\n          range: _objectSpread(_objectSpread({}, uiState.range), {}, _defineProperty({}, attribute, \"\".concat(min, \":\").concat(max)))\n        });\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters, _ref16) {\n        var uiState = _ref16.uiState;\n        var widgetSearchParameters = searchParameters.addDisjunctiveFacet(attribute).setQueryParameters({\n          numericRefinements: _objectSpread(_objectSpread({}, searchParameters.numericRefinements), {}, _defineProperty({}, attribute, {}))\n        });\n\n        if (isFiniteNumber(minBound)) {\n          widgetSearchParameters = widgetSearchParameters.addNumericRefinement(attribute, '>=', minBound);\n        }\n\n        if (isFiniteNumber(maxBound)) {\n          widgetSearchParameters = widgetSearchParameters.addNumericRefinement(attribute, '<=', maxBound);\n        }\n\n        var value = uiState.range && uiState.range[attribute];\n\n        if (!value || value.indexOf(':') === -1) {\n          return widgetSearchParameters;\n        }\n\n        var _value$split$map = value.split(':').map(parseFloat),\n            _value$split$map2 = _slicedToArray(_value$split$map, 2),\n            lowerBound = _value$split$map2[0],\n            upperBound = _value$split$map2[1];\n\n        if (isFiniteNumber(lowerBound) && (!isFiniteNumber(minBound) || minBound < lowerBound)) {\n          widgetSearchParameters = widgetSearchParameters.removeNumericRefinement(attribute, '>=');\n          widgetSearchParameters = widgetSearchParameters.addNumericRefinement(attribute, '>=', lowerBound);\n        }\n\n        if (isFiniteNumber(upperBound) && (!isFiniteNumber(maxBound) || upperBound < maxBound)) {\n          widgetSearchParameters = widgetSearchParameters.removeNumericRefinement(attribute, '<=');\n          widgetSearchParameters = widgetSearchParameters.addNumericRefinement(attribute, '<=', upperBound);\n        }\n\n        return widgetSearchParameters;\n      }\n    };\n  };\n};\n\nexport default connectRange;","<template>\n  <div\n    v-if=\"state\"\n    :class=\"[suit(), !canRefine && suit('', 'noRefinement')]\"\n  >\n    <slot\n      :current-refinement=\"values\"\n      :refine=\"refine\"\n      :can-refine=\"canRefine\"\n      :range=\"state.range\"\n      :send-event=\"state.sendEvent\"\n    >\n      <form\n        :class=\"suit('form')\"\n        @submit.prevent=\"refine({ min: pick(minInput, values.min), max: pick(maxInput, values.max) })\"\n      >\n        <label :class=\"suit('label')\">\n          <slot name=\"minLabel\" />\n          <input\n            type=\"number\"\n            :class=\"[suit('input'), suit('input', 'min')]\"\n            :step=\"step\"\n            :min=\"state.range.min\"\n            :max=\"state.range.max\"\n            :placeholder=\"state.range.min\"\n            :value=\"values.min\"\n            @change=\"minInput = $event.currentTarget.value\"\n          >\n        </label>\n        <span :class=\"suit('separator')\">\n          <slot name=\"separator\">to</slot>\n        </span>\n        <label :class=\"suit('label')\">\n          <slot name=\"maxLabel\" />\n          <input\n            :class=\"[suit('input'), suit('input', 'max')]\"\n            type=\"number\"\n            :step=\"step\"\n            :min=\"state.range.min\"\n            :max=\"state.range.max\"\n            :placeholder=\"state.range.max\"\n            :value=\"values.max\"\n            @change=\"maxInput = $event.currentTarget.value\"\n          >\n        </label>\n        <button\n          :class=\"suit('submit')\"\n          type=\"submit\"\n        >\n          <slot name=\"submitLabel\">Go</slot>\n        </button>\n      </form>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { connectRange } from 'instantsearch.js/es/connectors';\nimport { createWidgetMixin } from '../mixins/widget';\nimport { createPanelConsumerMixin } from '../mixins/panel';\nimport { createSuitMixin } from '../mixins/suit';\n\nconst mapStateToCanRefine = state =>\n  state && Boolean(state.range) && state.range.min !== state.range.max;\n\nexport default {\n  name: 'AisRangeInput',\n  mixins: [\n    createSuitMixin({ name: 'RangeInput' }),\n    createWidgetMixin({ connector: connectRange }),\n    createPanelConsumerMixin({\n      mapStateToCanRefine,\n    }),\n  ],\n  props: {\n    attribute: {\n      type: String,\n      required: true,\n    },\n    min: {\n      type: Number,\n      required: false,\n      default: -Infinity,\n    },\n    max: {\n      type: Number,\n      required: false,\n      default: Infinity,\n    },\n    precision: {\n      type: Number,\n      required: false,\n      default: 0,\n    },\n  },\n  data() {\n    return {\n      minInput: undefined,\n      maxInput: undefined,\n    };\n  },\n  updated() {\n    this.minInput = undefined;\n    this.maxInput = undefined;\n  },\n  computed: {\n    widgetParams() {\n      return {\n        attribute: this.attribute,\n        min: this.min,\n        max: this.max,\n        precision: this.precision,\n      };\n    },\n    canRefine() {\n      return mapStateToCanRefine(this.state);\n    },\n    step() {\n      return 1 / Math.pow(10, this.precision);\n    },\n    values() {\n      const [minValue, maxValue] = this.state.start;\n      const { min: minRange, max: maxRange } = this.state.range;\n\n      return {\n        min:\n          minValue !== -Infinity && minValue !== minRange\n            ? minValue\n            : undefined,\n        max:\n          maxValue !== Infinity && maxValue !== maxRange ? maxValue : undefined,\n      };\n    },\n  },\n  methods: {\n    pick(first, second) {\n      if (first !== null && first !== undefined) {\n        return first;\n      } else {\n        return second;\n      }\n    },\n    refine({ min, max }) {\n      this.state.refine([min, max]);\n    },\n  },\n};\n</script>\n","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { checkRendering, createDocumentationLink, createDocumentationMessageGenerator, noop, warning } from '../../lib/utils';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'rating-menu',\n  connector: true\n});\nvar $$type = 'ais.ratingMenu';\nvar MAX_VALUES_PER_FACET_API_LIMIT = 1000;\nvar STEP = 1;\n\nvar createSendEvent = function createSendEvent(_ref) {\n  var instantSearchInstance = _ref.instantSearchInstance,\n      helper = _ref.helper,\n      getRefinedStar = _ref.getRefinedStar,\n      attribute = _ref.attribute;\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (args.length === 1) {\n      instantSearchInstance.sendEventToInsights(args[0]);\n      return;\n    }\n\n    var eventType = args[0],\n        facetValue = args[1],\n        _args$ = args[2],\n        eventName = _args$ === void 0 ? 'Filter Applied' : _args$;\n\n    if (eventType !== 'click') {\n      return;\n    }\n\n    var isRefined = getRefinedStar() === Number(facetValue);\n\n    if (!isRefined) {\n      instantSearchInstance.sendEventToInsights({\n        insightsMethod: 'clickedFilters',\n        widgetType: $$type,\n        eventType: eventType,\n        payload: {\n          eventName: eventName,\n          index: helper.getIndex(),\n          filters: [\"\".concat(attribute, \">=\").concat(facetValue)]\n        },\n        attribute: attribute\n      });\n    }\n  };\n};\n\n/**\n * **StarRating** connector provides the logic to build a custom widget that will let\n * the user refine search results based on ratings.\n *\n * The connector provides to the rendering: `refine()` to select a value and\n * `items` that are the values that can be selected. `refine` should be used\n * with `items.value`.\n */\nvar connectRatingMenu = function connectRatingMenu(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function (widgetParams) {\n    var _ref2 = widgetParams || {},\n        attribute = _ref2.attribute,\n        _ref2$max = _ref2.max,\n        max = _ref2$max === void 0 ? 5 : _ref2$max;\n\n    var sendEvent;\n\n    if (!attribute) {\n      throw new Error(withUsage('The `attribute` option is required.'));\n    }\n\n    var _getRefinedStar = function getRefinedStar(state) {\n      var _values$;\n\n      var values = state.getNumericRefinements(attribute);\n\n      if (!((_values$ = values['>=']) !== null && _values$ !== void 0 && _values$.length)) {\n        return undefined;\n      }\n\n      return values['>='][0];\n    };\n\n    var getFacetsMaxDecimalPlaces = function getFacetsMaxDecimalPlaces(facetResults) {\n      var maxDecimalPlaces = 0;\n      facetResults.forEach(function (facetResult) {\n        var _facetResult$name$spl = facetResult.name.split('.'),\n            _facetResult$name$spl2 = _slicedToArray(_facetResult$name$spl, 2),\n            _facetResult$name$spl3 = _facetResult$name$spl2[1],\n            decimal = _facetResult$name$spl3 === void 0 ? '' : _facetResult$name$spl3;\n\n        maxDecimalPlaces = Math.max(maxDecimalPlaces, decimal.length);\n      });\n      return maxDecimalPlaces;\n    };\n\n    var getFacetValuesWarningMessage = function getFacetValuesWarningMessage(_ref3) {\n      var maxDecimalPlaces = _ref3.maxDecimalPlaces,\n          maxFacets = _ref3.maxFacets,\n          maxValuesPerFacet = _ref3.maxValuesPerFacet;\n      var maxDecimalPlacesInRange = Math.max(0, Math.floor(Math.log10(MAX_VALUES_PER_FACET_API_LIMIT / max)));\n      var maxFacetsInRange = Math.min(MAX_VALUES_PER_FACET_API_LIMIT, Math.pow(10, maxDecimalPlacesInRange) * max);\n      var solutions = [];\n\n      if (maxFacets > MAX_VALUES_PER_FACET_API_LIMIT) {\n        solutions.push(\"- Update your records to lower the precision of the values in the \\\"\".concat(attribute, \"\\\" attribute (for example: \").concat(5.123456789.toPrecision(maxDecimalPlaces + 1), \" to \").concat(5.123456789.toPrecision(maxDecimalPlacesInRange + 1), \")\"));\n      }\n\n      if (maxValuesPerFacet < maxFacetsInRange) {\n        solutions.push(\"- Increase the maximum number of facet values to \".concat(maxFacetsInRange, \" using the \\\"configure\\\" widget \").concat(createDocumentationLink({\n          name: 'configure'\n        }), \" and the \\\"maxValuesPerFacet\\\" parameter https://www.algolia.com/doc/api-reference/api-parameters/maxValuesPerFacet/\"));\n      }\n\n      return \"The \".concat(attribute, \" attribute can have \").concat(maxFacets, \" different values (0 to \").concat(max, \" with a maximum of \").concat(maxDecimalPlaces, \" decimals = \").concat(maxFacets, \") but you retrieved only \").concat(maxValuesPerFacet, \" facet values. Therefore the number of results that match the refinements can be incorrect.\\n    \").concat(solutions.length ? \"To resolve this problem you can:\\n\".concat(solutions.join('\\n')) : \"\");\n    };\n\n    function getRefinedState(state, facetValue) {\n      var isRefined = _getRefinedStar(state) === Number(facetValue);\n      var emptyState = state.resetPage().removeNumericRefinement(attribute);\n\n      if (!isRefined) {\n        return emptyState.addNumericRefinement(attribute, '<=', max).addNumericRefinement(attribute, '>=', Number(facetValue));\n      }\n\n      return emptyState;\n    }\n\n    var toggleRefinement = function toggleRefinement(helper, facetValue) {\n      sendEvent('click', facetValue);\n      helper.setState(getRefinedState(helper.state, facetValue)).search();\n    };\n\n    var connectorState = {\n      toggleRefinementFactory: function toggleRefinementFactory(helper) {\n        return toggleRefinement.bind(null, helper);\n      },\n      createURLFactory: function createURLFactory(_ref4) {\n        var state = _ref4.state,\n            createURL = _ref4.createURL;\n        return function (value) {\n          return createURL(getRefinedState(state, value));\n        };\n      }\n    };\n    return {\n      $$type: $$type,\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(renderOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          ratingMenu: _objectSpread(_objectSpread({}, renderState.ratingMenu), {}, _defineProperty({}, attribute, this.getWidgetRenderState(renderOptions)))\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref5) {\n        var helper = _ref5.helper,\n            results = _ref5.results,\n            state = _ref5.state,\n            instantSearchInstance = _ref5.instantSearchInstance,\n            createURL = _ref5.createURL;\n        var facetValues = [];\n\n        if (!sendEvent) {\n          sendEvent = createSendEvent({\n            instantSearchInstance: instantSearchInstance,\n            helper: helper,\n            getRefinedStar: function getRefinedStar() {\n              return _getRefinedStar(helper.state);\n            },\n            attribute: attribute\n          });\n        }\n\n        if (results) {\n          var facetResults = results.getFacetValues(attribute, {});\n          var maxValuesPerFacet = facetResults.length;\n          var maxDecimalPlaces = getFacetsMaxDecimalPlaces(facetResults);\n          var maxFacets = Math.pow(10, maxDecimalPlaces) * max;\n          process.env.NODE_ENV === 'development' ? warning(maxFacets <= maxValuesPerFacet, getFacetValuesWarningMessage({\n            maxDecimalPlaces: maxDecimalPlaces,\n            maxFacets: maxFacets,\n            maxValuesPerFacet: maxValuesPerFacet\n          })) : void 0;\n\n          var refinedStar = _getRefinedStar(state);\n\n          var _loop = function _loop(star) {\n            var isRefined = refinedStar === star;\n            var count = facetResults.filter(function (f) {\n              return Number(f.name) >= star && Number(f.name) <= max;\n            }).map(function (f) {\n              return f.count;\n            }).reduce(function (sum, current) {\n              return sum + current;\n            }, 0);\n\n            if (refinedStar && !isRefined && count === 0) {\n              // skip count==0 when at least 1 refinement is enabled\n              // eslint-disable-next-line no-continue\n              return \"continue\";\n            }\n\n            var stars = _toConsumableArray(new Array(Math.floor(max / STEP))).map(function (_v, i) {\n              return i * STEP < star;\n            });\n\n            facetValues.push({\n              stars: stars,\n              name: String(star),\n              label: String(star),\n              value: String(star),\n              count: count,\n              isRefined: isRefined\n            });\n          };\n\n          for (var star = STEP; star < max; star += STEP) {\n            var _ret = _loop(star);\n\n            if (_ret === \"continue\") continue;\n          }\n        }\n\n        facetValues = facetValues.reverse();\n        return {\n          items: facetValues,\n          hasNoResults: results ? results.nbHits === 0 : true,\n          canRefine: facetValues.length > 0,\n          refine: connectorState.toggleRefinementFactory(helper),\n          sendEvent: sendEvent,\n          createURL: connectorState.createURLFactory({\n            state: state,\n            createURL: createURL\n          }),\n          widgetParams: widgetParams\n        };\n      },\n      dispose: function dispose(_ref6) {\n        var state = _ref6.state;\n        unmountFn();\n        return state.removeNumericRefinement(attribute);\n      },\n      getWidgetUiState: function getWidgetUiState(uiState, _ref7) {\n        var searchParameters = _ref7.searchParameters;\n\n        var value = _getRefinedStar(searchParameters);\n\n        if (typeof value !== 'number') {\n          return uiState;\n        }\n\n        return _objectSpread(_objectSpread({}, uiState), {}, {\n          ratingMenu: _objectSpread(_objectSpread({}, uiState.ratingMenu), {}, _defineProperty({}, attribute, value))\n        });\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters, _ref8) {\n        var uiState = _ref8.uiState;\n        var value = uiState.ratingMenu && uiState.ratingMenu[attribute];\n        var withoutRefinements = searchParameters.clearRefinements(attribute);\n        var withDisjunctiveFacet = withoutRefinements.addDisjunctiveFacet(attribute);\n\n        if (!value) {\n          return withDisjunctiveFacet.setQueryParameters({\n            numericRefinements: _objectSpread(_objectSpread({}, withDisjunctiveFacet.numericRefinements), {}, _defineProperty({}, attribute, {}))\n          });\n        }\n\n        return withDisjunctiveFacet.addNumericRefinement(attribute, '<=', max).addNumericRefinement(attribute, '>=', value);\n      }\n    };\n  };\n};\n\nexport default connectRatingMenu;","<template>\n  <div\n    v-if=\"state\"\n    :class=\"suit()\"\n  >\n    <slot\n      :items=\"state.items\"\n      :refine=\"state.refine\"\n      :createURL=\"state.createURL\"\n      :send-event=\"state.sendEvent\"\n    >\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        style=\"display: none;\"\n      >\n        <symbol\n          id=\"ais-RatingMenu-starSymbol\"\n          viewBox=\"0 0 24 24\"\n        >\n          <path d=\"M12 .288l2.833 8.718h9.167l-7.417 5.389 2.833 8.718-7.416-5.388-7.417 5.388 2.833-8.718-7.416-5.389h9.167z\" />\n        </symbol>\n        <symbol\n          id=\"ais-RatingMenu-starEmptySymbol\"\n          viewBox=\"0 0 24 24\"\n        >\n          <path d=\"M12 6.76l1.379 4.246h4.465l-3.612 2.625 1.379 4.246-3.611-2.625-3.612 2.625 1.379-4.246-3.612-2.625h4.465l1.38-4.246zm0-6.472l-2.833 8.718h-9.167l7.416 5.389-2.833 8.718 7.417-5.388 7.416 5.388-2.833-8.718 7.417-5.389h-9.167l-2.833-8.718z\" />\n        </symbol>\n      </svg>\n\n      <ul :class=\"suit('list')\">\n        <li\n          v-for=\"(item, key) in state.items\"\n          :key=\"key\"\n          :class=\"[suit('item'), item.isRefined && suit('item', 'selected')]\"\n        >\n          <a\n            :href=\"state.createURL(item.value)\"\n            :aria-label=\"`${item.value} & Up`\"\n            :class=\"suit('link')\"\n            @click.prevent=\"state.refine(item.value)\"\n          >\n            <template v-for=\"(full, n) in item.stars\">\n              <svg\n                v-if=\"full\"\n                aria-hidden=\"true\"\n                width=\"24\"\n                height=\"24\"\n                :class=\"[suit('starIcon'), suit('starIcon--full')]\"\n                :key=\"n + '-full'\"\n              >\n                <use xlink:href=\"#ais-RatingMenu-starSymbol\" />\n              </svg>\n\n              <svg\n                v-else\n                :class=\"[suit('starIcon'), suit('starIcon--empty')]\"\n                aria-hidden=\"true\"\n                width=\"24\"\n                height=\"24\"\n                :key=\"n + '-empty'\"\n              >\n                <use xlink:href=\"#ais-RatingMenu-starEmptySymbol\" />\n              </svg>\n            </template>\n\n            <span\n              :class=\"suit('label')\"\n              aria-hidden=\"true\"\n            >\n              <slot name=\"andUp\">&amp; Up</slot>\n            </span>\n            <span :class=\"suit('count')\">{{ item.count }}</span>\n          </a>\n        </li>\n      </ul>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { connectRatingMenu } from 'instantsearch.js/es/connectors';\nimport { createPanelConsumerMixin } from '../mixins/panel';\nimport { createWidgetMixin } from '../mixins/widget';\nimport { createSuitMixin } from '../mixins/suit';\n\nexport default {\n  name: 'AisRatingMenu',\n  mixins: [\n    createSuitMixin({ name: 'RatingMenu' }),\n    createWidgetMixin({ connector: connectRatingMenu }),\n    createPanelConsumerMixin({\n      mapStateToCanRefine: state => state.hasNoResults === false,\n    }),\n  ],\n  props: {\n    attribute: {\n      type: String,\n      required: true,\n    },\n    max: {\n      type: Number,\n      default: 5,\n    },\n  },\n  computed: {\n    widgetParams() {\n      return {\n        attribute: this.attribute,\n        max: this.max,\n      };\n    },\n  },\n};\n</script>\n","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport { escapeFacets, TAG_PLACEHOLDER, TAG_REPLACEMENT, checkRendering, createDocumentationMessageGenerator, createSendEventForFacet, noop } from '../../lib/utils';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'refinement-list',\n  connector: true\n});\n\n/**\n * **RefinementList** connector provides the logic to build a custom widget that\n * will let the user filter the results based on the values of a specific facet.\n *\n * **Requirement:** the attribute passed as `attribute` must be present in\n * attributesForFaceting of the searched index.\n *\n * This connector provides:\n * - a `refine()` function to select an item.\n * - a `toggleShowMore()` function to display more or less items\n * - a `searchForItems()` function to search within the items.\n */\nvar connectRefinementList = function connectRefinementList(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function (widgetParams) {\n    var _ref = widgetParams || {},\n        attribute = _ref.attribute,\n        _ref$operator = _ref.operator,\n        operator = _ref$operator === void 0 ? 'or' : _ref$operator,\n        _ref$limit = _ref.limit,\n        limit = _ref$limit === void 0 ? 10 : _ref$limit,\n        _ref$showMore = _ref.showMore,\n        showMore = _ref$showMore === void 0 ? false : _ref$showMore,\n        _ref$showMoreLimit = _ref.showMoreLimit,\n        showMoreLimit = _ref$showMoreLimit === void 0 ? 20 : _ref$showMoreLimit,\n        _ref$sortBy = _ref.sortBy,\n        sortBy = _ref$sortBy === void 0 ? ['isRefined', 'count:desc', 'name:asc'] : _ref$sortBy,\n        _ref$escapeFacetValue = _ref.escapeFacetValues,\n        escapeFacetValues = _ref$escapeFacetValue === void 0 ? true : _ref$escapeFacetValue,\n        _ref$transformItems = _ref.transformItems,\n        transformItems = _ref$transformItems === void 0 ? function (items) {\n      return items;\n    } : _ref$transformItems;\n\n    if (!attribute) {\n      throw new Error(withUsage('The `attribute` option is required.'));\n    }\n\n    if (!/^(and|or)$/.test(operator)) {\n      throw new Error(withUsage(\"The `operator` must one of: `\\\"and\\\"`, `\\\"or\\\"` (got \\\"\".concat(operator, \"\\\").\")));\n    }\n\n    if (showMore === true && showMoreLimit <= limit) {\n      throw new Error(withUsage('`showMoreLimit` should be greater than `limit`.'));\n    }\n\n    var formatItems = function formatItems(_ref2) {\n      var label = _ref2.name,\n          item = _objectWithoutProperties(_ref2, [\"name\"]);\n\n      return _objectSpread(_objectSpread({}, item), {}, {\n        label: label,\n        value: label,\n        highlighted: label\n      });\n    };\n\n    var lastResultsFromMainSearch;\n    var lastItemsFromMainSearch = [];\n    var hasExhaustiveItems = true;\n    var triggerRefine;\n    var sendEvent;\n    var isShowingMore = false; // Provide the same function to the `renderFn` so that way the user\n    // has to only bind it once when `isFirstRendering` for instance\n\n    var toggleShowMore = function toggleShowMore() {};\n\n    function cachedToggleShowMore() {\n      toggleShowMore();\n    }\n\n    function createToggleShowMore(renderOptions, widget) {\n      return function () {\n        isShowingMore = !isShowingMore;\n        widget.render(renderOptions);\n      };\n    }\n\n    function getLimit() {\n      return isShowingMore ? showMoreLimit : limit;\n    }\n\n    var searchForFacetValues = function searchForFacetValues() {\n      return function () {};\n    };\n\n    var createSearchForFacetValues = function createSearchForFacetValues(helper, widget) {\n      return function (renderOptions) {\n        return function (query) {\n          var instantSearchInstance = renderOptions.instantSearchInstance;\n\n          if (query === '' && lastItemsFromMainSearch) {\n            // render with previous data from the helper.\n            renderFn(_objectSpread(_objectSpread({}, widget.getWidgetRenderState(_objectSpread(_objectSpread({}, renderOptions), {}, {\n              results: lastResultsFromMainSearch\n            }))), {}, {\n              instantSearchInstance: instantSearchInstance\n            }), false);\n          } else {\n            var tags = {\n              highlightPreTag: escapeFacetValues ? TAG_PLACEHOLDER.highlightPreTag : TAG_REPLACEMENT.highlightPreTag,\n              highlightPostTag: escapeFacetValues ? TAG_PLACEHOLDER.highlightPostTag : TAG_REPLACEMENT.highlightPostTag\n            };\n            helper.searchForFacetValues(attribute, query, // We cap the `maxFacetHits` value to 100 because the Algolia API\n            // doesn't support a greater number.\n            // See https://www.algolia.com/doc/api-reference/api-parameters/maxFacetHits/\n            Math.min(getLimit(), 100), tags).then(function (results) {\n              var facetValues = escapeFacetValues ? escapeFacets(results.facetHits) : results.facetHits;\n              var normalizedFacetValues = transformItems(facetValues.map(function (_ref3) {\n                var value = _ref3.value,\n                    item = _objectWithoutProperties(_ref3, [\"value\"]);\n\n                return _objectSpread(_objectSpread({}, item), {}, {\n                  value: value,\n                  label: value\n                });\n              }));\n              renderFn(_objectSpread(_objectSpread({}, widget.getWidgetRenderState(_objectSpread(_objectSpread({}, renderOptions), {}, {\n                results: lastResultsFromMainSearch\n              }))), {}, {\n                items: normalizedFacetValues,\n                canToggleShowMore: false,\n                canRefine: true,\n                isFromSearch: true,\n                instantSearchInstance: instantSearchInstance\n              }), false);\n            });\n          }\n        };\n      };\n    };\n\n    return {\n      $$type: 'ais.refinementList',\n      init: function init(initOptions) {\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: initOptions.instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(renderOptions)), {}, {\n          instantSearchInstance: renderOptions.instantSearchInstance\n        }), false);\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          refinementList: _objectSpread(_objectSpread({}, renderState.refinementList), {}, _defineProperty({}, attribute, this.getWidgetRenderState(renderOptions)))\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(renderOptions) {\n        var results = renderOptions.results,\n            state = renderOptions.state,\n            _createURL = renderOptions.createURL,\n            instantSearchInstance = renderOptions.instantSearchInstance,\n            helper = renderOptions.helper;\n        var items = [];\n        var facetValues = [];\n\n        if (!sendEvent || !triggerRefine || !searchForFacetValues) {\n          sendEvent = createSendEventForFacet({\n            instantSearchInstance: instantSearchInstance,\n            helper: helper,\n            attribute: attribute,\n            widgetType: this.$$type\n          });\n\n          triggerRefine = function triggerRefine(facetValue) {\n            sendEvent('click', facetValue);\n            helper.toggleFacetRefinement(attribute, facetValue).search();\n          };\n\n          searchForFacetValues = createSearchForFacetValues(helper, this);\n        }\n\n        if (results) {\n          var values = results.getFacetValues(attribute, {\n            sortBy: sortBy\n          });\n          facetValues = values && Array.isArray(values) ? values : [];\n          items = transformItems(facetValues.slice(0, getLimit()).map(formatItems));\n          var maxValuesPerFacetConfig = state.maxValuesPerFacet;\n          var currentLimit = getLimit(); // If the limit is the max number of facet retrieved it is impossible to know\n          // if the facets are exhaustive. The only moment we are sure it is exhaustive\n          // is when it is strictly under the number requested unless we know that another\n          // widget has requested more values (maxValuesPerFacet > getLimit()).\n          // Because this is used for making the search of facets unable or not, it is important\n          // to be conservative here.\n\n          hasExhaustiveItems = maxValuesPerFacetConfig > currentLimit ? facetValues.length <= currentLimit : facetValues.length < currentLimit;\n          lastResultsFromMainSearch = results;\n          lastItemsFromMainSearch = items;\n\n          if (renderOptions.results) {\n            toggleShowMore = createToggleShowMore(renderOptions, this);\n          }\n        } // Do not mistake searchForFacetValues and searchFacetValues which is the actual search\n        // function\n\n\n        var searchFacetValues = searchForFacetValues && searchForFacetValues(renderOptions);\n        var canShowLess = isShowingMore && lastItemsFromMainSearch.length > limit;\n        var canShowMore = showMore && !hasExhaustiveItems;\n        var canToggleShowMore = canShowLess || canShowMore;\n        return {\n          createURL: function createURL(facetValue) {\n            return _createURL(state.resetPage().toggleFacetRefinement(attribute, facetValue));\n          },\n          items: items,\n          refine: triggerRefine,\n          searchForItems: searchFacetValues,\n          isFromSearch: false,\n          canRefine: items.length > 0,\n          widgetParams: widgetParams,\n          isShowingMore: isShowingMore,\n          canToggleShowMore: canToggleShowMore,\n          toggleShowMore: cachedToggleShowMore,\n          sendEvent: sendEvent,\n          hasExhaustiveItems: hasExhaustiveItems\n        };\n      },\n      dispose: function dispose(_ref4) {\n        var state = _ref4.state;\n        unmountFn();\n        var withoutMaxValuesPerFacet = state.setQueryParameter('maxValuesPerFacet', undefined);\n\n        if (operator === 'and') {\n          return withoutMaxValuesPerFacet.removeFacet(attribute);\n        }\n\n        return withoutMaxValuesPerFacet.removeDisjunctiveFacet(attribute);\n      },\n      getWidgetUiState: function getWidgetUiState(uiState, _ref5) {\n        var searchParameters = _ref5.searchParameters;\n        var values = operator === 'or' ? searchParameters.getDisjunctiveRefinements(attribute) : searchParameters.getConjunctiveRefinements(attribute);\n\n        if (!values.length) {\n          return uiState;\n        }\n\n        return _objectSpread(_objectSpread({}, uiState), {}, {\n          refinementList: _objectSpread(_objectSpread({}, uiState.refinementList), {}, _defineProperty({}, attribute, values))\n        });\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters, _ref6) {\n        var uiState = _ref6.uiState;\n        var isDisjunctive = operator === 'or';\n        var values = uiState.refinementList && uiState.refinementList[attribute];\n        var withoutRefinements = searchParameters.clearRefinements(attribute);\n        var withFacetConfiguration = isDisjunctive ? withoutRefinements.addDisjunctiveFacet(attribute) : withoutRefinements.addFacet(attribute);\n        var currentMaxValuesPerFacet = withFacetConfiguration.maxValuesPerFacet || 0;\n        var nextMaxValuesPerFacet = Math.max(currentMaxValuesPerFacet, showMore ? showMoreLimit : limit);\n        var withMaxValuesPerFacet = withFacetConfiguration.setQueryParameter('maxValuesPerFacet', nextMaxValuesPerFacet);\n\n        if (!values) {\n          var key = isDisjunctive ? 'disjunctiveFacetsRefinements' : 'facetsRefinements';\n          return withMaxValuesPerFacet.setQueryParameters(_defineProperty({}, key, _objectSpread(_objectSpread({}, withMaxValuesPerFacet[key]), {}, _defineProperty({}, attribute, []))));\n        }\n\n        return values.reduce(function (parameters, value) {\n          return isDisjunctive ? parameters.addDisjunctiveFacetRefinement(attribute, value) : parameters.addFacetRefinement(attribute, value);\n        }, withMaxValuesPerFacet);\n      }\n    };\n  };\n};\n\nexport default connectRefinementList;","<template>\n  <form\n    action=\"\"\n    role=\"search\"\n    novalidate\n    :class=\"suit('form')\"\n    @submit.prevent=\"onFormSubmit\"\n    @reset.prevent=\"onFormReset\"\n  >\n    <!-- :value/@input allows us to pass v-model to the component -->\n    <input\n      type=\"search\"\n      autocorrect=\"off\"\n      autocapitalize=\"off\"\n      autocomplete=\"off\"\n      spellcheck=\"false\"\n      required\n      maxlength=\"512\"\n      aria-label=\"Search\"\n      :placeholder=\"placeholder\"\n      :autofocus=\"autofocus\"\n      :class=\"suit('input')\"\n      :value=\"value\"\n      @focus=\"$emit('focus', $event)\"\n      @blur=\"$emit('blur', $event)\"\n      @input=\"$emit('input', $event.target.value)\"\n      ref=\"input\"\n    >\n    <button\n      type=\"submit\"\n      :title=\"submitTitle\"\n      :class=\"suit('submit')\"\n      :hidden=\"showLoadingIndicator && shouldShowLoadingIndicator\"\n    >\n      <slot name=\"submit-icon\">\n        <svg\n          role=\"img\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width=\"10\"\n          height=\"10\"\n          viewBox=\"0 0 40 40\"\n          :class=\"suit('submitIcon')\"\n        >\n          <path\n            d=\"M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z\"\n            fillRule=\"evenodd\"\n          />\n        </svg>\n      </slot>\n    </button>\n\n    <button\n      type=\"reset\"\n      :title=\"resetTitle\"\n      :class=\"suit('reset')\"\n      :hidden=\"!value || (showLoadingIndicator && shouldShowLoadingIndicator)\"\n    >\n      <slot name=\"reset-icon\">\n        <svg\n          role=\"img\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width=\"1em\"\n          height=\"1em\"\n          viewBox=\"0 0 20 20\"\n          :class=\"suit('resetIcon')\"\n        >\n          <path\n            d=\"M8.114 10L.944 2.83 0 1.885 1.886 0l.943.943L10 8.113l7.17-7.17.944-.943L20 1.886l-.943.943-7.17 7.17 7.17 7.17.943.944L18.114 20l-.943-.943-7.17-7.17-7.17 7.17-.944.943L0 18.114l.943-.943L8.113 10z\"\n            fillRule=\"evenodd\"\n          />\n        </svg>\n      </slot>\n    </button>\n\n    <span\n      v-if=\"showLoadingIndicator\"\n      :hidden=\"!shouldShowLoadingIndicator\"\n      :class=\"suit('loadingIndicator')\"\n    >\n      <slot name=\"loading-indicator\">\n        <svg\n          role=\"img\"\n          aria-label=\"Results are loading\"\n          width=\"16\"\n          height=\"16\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          stroke=\"#444\"\n          viewBox=\"0 0 38 38\"\n          :class=\"suit('loadingIcon')\"\n        >\n          <g\n            fill=\"none\"\n            fill-rule=\"evenodd\"\n          >\n            <g\n              transform=\"translate(1 1)\"\n              stroke-width=\"2\"\n            >\n              <circle\n                stroke-opacity=\".5\"\n                cx=\"18\"\n                cy=\"18\"\n                r=\"18\"\n              />\n              <path d=\"M36 18c0-9.94-8.06-18-18-18\">\n                <animateTransform\n                  attributeName=\"transform\"\n                  type=\"rotate\"\n                  from=\"0 18 18\"\n                  to=\"360 18 18\"\n                  dur=\"1s\"\n                  repeatCount=\"indefinite\"\n                />\n              </path>\n            </g>\n          </g>\n        </svg>\n      </slot>\n    </span>\n  </form>\n</template>\n\n<script>\nimport { createSuitMixin } from '../mixins/suit';\n\nexport default {\n  name: 'SearchInput',\n  mixins: [createSuitMixin({ name: 'SearchBox' })],\n  props: {\n    placeholder: {\n      type: String,\n      default: 'Search here',\n    },\n    autofocus: {\n      type: Boolean,\n      default: false,\n    },\n    showLoadingIndicator: {\n      type: Boolean,\n      default: false,\n    },\n    shouldShowLoadingIndicator: {\n      type: Boolean,\n      default: false,\n    },\n    submitTitle: {\n      type: String,\n      default: 'Search',\n    },\n    resetTitle: {\n      type: String,\n      default: 'Clear',\n    },\n    value: {\n      type: String,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      query: '',\n    };\n  },\n  methods: {\n    onFormSubmit() {\n      const input = this.$refs.input;\n      input.blur();\n    },\n    onFormReset() {\n      this.$emit('input', '');\n      this.$emit('reset');\n    },\n  },\n};\n</script>\n","<template>\n  <div\n    :class=\"[\n      suit(),\n      !state.canRefine && suit('','noRefinement')\n    ]\"\n    v-if=\"state\"\n  >\n    <slot\n      :items=\"items\"\n      :refine=\"refine\"\n      :search-for-items=\"state.searchForItems\"\n      :search-for-items-query=\"searchForFacetValuesQuery\"\n      :toggle-show-more=\"toggleShowMore\"\n      :can-toggle-show-more=\"state.canToggleShowMore\"\n      :is-showing-more=\"state.isShowingMore\"\n      :createURL=\"state.createURL\"\n      :is-from-search=\"state.isFromSearch\"\n      :can-refine=\"state.canRefine\"\n      :send-event=\"state.sendEvent\"\n    >\n      <div\n        :class=\"suit('searchBox')\"\n        v-if=\"searchable\"\n      >\n        <search-input\n          v-model=\"searchForFacetValues\"\n          :placeholder=\"searchablePlaceholder\"\n          :class-names=\"classNames\"\n        />\n      </div>\n      <slot\n        name=\"noResults\"\n        :query=\"searchForFacetValues\"\n        v-if=\"state.isFromSearch && items.length === 0\"\n      >\n        <div :class=\"suit('noResults')\">No results.</div>\n      </slot>\n      <ul :class=\"suit('list')\">\n        <li\n          :class=\"[\n          suit('item'), item.isRefined && suit('item', 'selected')]\"\n          v-for=\"item in items\"\n          :key=\"item.value\"\n        >\n          <slot\n            name=\"item\"\n            :item=\"item\"\n            :refine=\"refine\"\n            :createURL=\"state.createURL\"\n          >\n            <label :class=\"suit('label')\">\n              <input\n                :class=\"suit('checkbox')\"\n                type=\"checkbox\"\n                :value=\"item.value\"\n                :checked=\"item.isRefined\"\n                @change=\"refine(item.value)\"\n              >\n              <span\n                v-if=\"searchable\"\n                :class=\"suit('labelText')\"\n              >\n                <ais-highlight\n                  attribute=\"item\"\n                  :hit=\"item\"\n                />\n              </span>\n              <span\n                v-else\n                :class=\"suit('labelText')\"\n              >{{ item.label }}</span>\n              <span :class=\"suit('count')\">{{ item.count }}</span>\n            </label>\n          </slot>\n        </li>\n      </ul>\n      <button\n        :class=\"[\n          suit('showMore'),\n          {\n            [suit('showMore', 'disabled')]: !state.canToggleShowMore,\n          }\n        ]\"\n        @click=\"toggleShowMore\"\n        v-if=\"showMore\"\n        :disabled=\"!state.canToggleShowMore\"\n      >\n        <slot\n          name=\"showMoreLabel\"\n          :is-showing-more=\"state.isShowingMore\"\n        >Show {{ state.isShowingMore ? 'less' : 'more' }}</slot>\n      </button>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { createWidgetMixin } from '../mixins/widget';\nimport { createPanelConsumerMixin } from '../mixins/panel';\nimport { createSuitMixin } from '../mixins/suit';\nimport { connectRefinementList } from 'instantsearch.js/es/connectors';\nimport SearchInput from './SearchInput.vue';\nimport AisHighlight from './Highlight.vue';\n\nconst noop = () => {};\n\nexport default {\n  name: 'AisRefinementList',\n  components: { SearchInput, AisHighlight },\n  mixins: [\n    createSuitMixin({ name: 'RefinementList' }),\n    createWidgetMixin({ connector: connectRefinementList }),\n    createPanelConsumerMixin({\n      mapStateToCanRefine: state => Boolean(state.canRefine),\n    }),\n  ],\n  props: {\n    attribute: {\n      type: String,\n      required: true,\n    },\n    searchable: {\n      type: Boolean,\n      default: false,\n    },\n    searchablePlaceholder: {\n      default: 'Search here',\n      type: String,\n      required: false,\n    },\n    operator: {\n      default: 'or',\n      validator(value) {\n        return value === 'and' || value === 'or';\n      },\n      required: false,\n    },\n    limit: {\n      type: Number,\n      default: 10,\n      required: false,\n    },\n    showMoreLimit: {\n      type: Number,\n      default: 20,\n      required: false,\n    },\n    showMore: {\n      type: Boolean,\n      default: false,\n      required: false,\n    },\n    sortBy: {\n      type: [Array, Function],\n      default: () => ['isRefined', 'count:desc', 'name:asc'],\n      required: false,\n    },\n    transformItems: {\n      type: Function,\n      default: items => items,\n      required: false,\n    },\n  },\n  data() {\n    return {\n      searchForFacetValuesQuery: '',\n    };\n  },\n  computed: {\n    searchForFacetValues: {\n      get() {\n        return this.searchForFacetValuesQuery;\n      },\n      set(value) {\n        this.state.searchForItems(value);\n        this.searchForFacetValuesQuery = value;\n      },\n    },\n    toggleShowMore() {\n      return this.state.toggleShowMore || noop;\n    },\n    items() {\n      return this.state.items.map(item =>\n        Object.assign({}, item, {\n          _highlightResult: {\n            item: {\n              value: item.highlighted,\n            },\n          },\n        })\n      );\n    },\n    widgetParams() {\n      return {\n        attribute: this.attribute,\n        operator: this.operator,\n        limit: this.limit,\n        showMore: this.showMore,\n        showMoreLimit: this.showMoreLimit,\n        sortBy: this.sortBy,\n        escapeFacetValues: true,\n        transformItems: this.transformItems,\n      };\n    },\n  },\n  methods: {\n    refine(value) {\n      this.state.refine(value);\n      this.searchForFacetValuesQuery = '';\n    },\n  },\n};\n</script>\n","import{_objectSpread as t}from\"../util/polyfills.js\";export default function(n,e){return void 0===e&&(e=function(){}),function(s){return void 0===s&&(s={}),{init:function(t){var e=t.instantSearchInstance;n({state:void 0,results:void 0,instantSearchInstance:e,widgetParams:s},!0)},render:function(e){var a=e.results,i=e.instantSearchInstance,r=e.state,o=t({},a),c=t({},r);n({results:o,state:c,instantSearchInstance:i,widgetParams:s},!1)},dispose:function(){e()}}}}\n//# sourceMappingURL=connectStateResults.js.map\n","<template>\n  <div\n    :class=\"suit()\"\n    v-if=\"state && state.state && state.results\"\n  >\n    <slot v-bind=\"stateResults\">\n      <p>\n        Use this component to have a different layout based on a certain state.\n      </p>\n      <p>\n        Fill in the slot, and get access to the following things on the\n        <code>slot-scope</code>:\n      </p>\n      <pre>results: {{ Object.keys(state.results) }}</pre>\n      <pre>state: {{ Object.keys(state.state) }}</pre>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { createSuitMixin } from '../mixins/suit';\nimport { createWidgetMixin } from '../mixins/widget';\nimport { _objectSpread } from '../util/polyfills';\nimport connectStateResults from '../connectors/connectStateResults';\n\nexport default {\n  name: 'AisStateResults',\n  mixins: [\n    createWidgetMixin({ connector: connectStateResults }),\n    createSuitMixin({ name: 'StateResults' }),\n  ],\n  computed: {\n    stateResults() {\n      // @MAJOR: replace v-bind=\"stateResults\" with :state=\"state.state\" :results=\"state.results\"\n      const { state, results } = this.state;\n      return _objectSpread({}, results, { results, state });\n    },\n  },\n};\n</script>\n","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { checkRendering, createDocumentationMessageGenerator, noop } from '../../lib/utils';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'search-box',\n  connector: true\n});\n\n/**\n * **SearchBox** connector provides the logic to build a widget that will let the user search for a query.\n *\n * The connector provides to the rendering: `refine()` to set the query. The behaviour of this function\n * may be impacted by the `queryHook` widget parameter.\n */\nvar connectSearchBox = function connectSearchBox(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function (widgetParams) {\n    var _ref = widgetParams || {},\n        queryHook = _ref.queryHook;\n\n    function clear(helper) {\n      return function () {\n        helper.setQuery('').search();\n      };\n    }\n\n    var _refine;\n\n    var _clear = function _clear() {};\n\n    function _cachedClear() {\n      _clear();\n    }\n\n    return {\n      $$type: 'ais.searchBox',\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(renderOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose(_ref2) {\n        var state = _ref2.state;\n        unmountFn();\n        return state.setQueryParameter('query', undefined);\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          searchBox: this.getWidgetRenderState(renderOptions)\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref3) {\n        var helper = _ref3.helper,\n            searchMetadata = _ref3.searchMetadata;\n\n        if (!_refine) {\n          var setQueryAndSearch = function setQueryAndSearch(query) {\n            if (query !== helper.state.query) {\n              helper.setQuery(query).search();\n            }\n          };\n\n          _refine = function _refine(query) {\n            if (queryHook) {\n              queryHook(query, setQueryAndSearch);\n              return;\n            }\n\n            setQueryAndSearch(query);\n          };\n        }\n\n        _clear = clear(helper);\n        return {\n          query: helper.state.query || '',\n          refine: _refine,\n          clear: _cachedClear,\n          widgetParams: widgetParams,\n          isSearchStalled: searchMetadata.isSearchStalled\n        };\n      },\n      getWidgetUiState: function getWidgetUiState(uiState, _ref4) {\n        var searchParameters = _ref4.searchParameters;\n        var query = searchParameters.query || '';\n\n        if (query === '' || uiState && uiState.query === query) {\n          return uiState;\n        }\n\n        return _objectSpread(_objectSpread({}, uiState), {}, {\n          query: query\n        });\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters, _ref5) {\n        var uiState = _ref5.uiState;\n        return searchParameters.setQueryParameter('query', uiState.query || '');\n      }\n    };\n  };\n};\n\nexport default connectSearchBox;","<template>\n  <div\n    v-if=\"state\"\n    :class=\"suit()\"\n  >\n    <slot\n      :current-refinement=\"currentRefinement\"\n      :is-search-stalled=\"state.isSearchStalled\"\n      :refine=\"state.refine\"\n    >\n      <search-input\n        @focus=\"$emit('focus', $event)\"\n        @blur=\"$emit('blur', $event)\"\n        @reset=\"$emit('reset')\"\n        :placeholder=\"placeholder\"\n        :autofocus=\"autofocus\"\n        :show-loading-indicator=\"showLoadingIndicator\"\n        :should-show-loading-indicator=\"state.isSearchStalled\"\n        :submit-title=\"submitTitle\"\n        :reset-title=\"resetTitle\"\n        :class-names=\"classNames\"\n        v-model=\"currentRefinement\"\n      >\n        <slot\n          name=\"loading-indicator\"\n          slot=\"loading-indicator\"\n        />\n        <slot\n          name=\"submit-icon\"\n          slot=\"submit-icon\"\n        />\n        <slot\n          name=\"reset-icon\"\n          slot=\"reset-icon\"\n        />\n      </search-input>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { connectSearchBox } from 'instantsearch.js/es/connectors';\nimport { createSuitMixin } from '../mixins/suit';\nimport { createWidgetMixin } from '../mixins/widget';\nimport SearchInput from './SearchInput.vue';\n\nexport default {\n  name: 'AisSearchBox',\n  mixins: [\n    createWidgetMixin({ connector: connectSearchBox }),\n    createSuitMixin({ name: 'SearchBox' }),\n  ],\n  components: {\n    SearchInput,\n  },\n  props: {\n    placeholder: {\n      type: String,\n      default: 'Search here',\n    },\n    autofocus: {\n      type: Boolean,\n      default: false,\n    },\n    showLoadingIndicator: {\n      type: Boolean,\n      default: false,\n    },\n    submitTitle: {\n      type: String,\n      default: 'Search',\n    },\n    resetTitle: {\n      type: String,\n      default: 'Clear',\n    },\n    value: {\n      type: String,\n      default: undefined,\n    },\n  },\n  data() {\n    return {\n      localValue: '',\n    };\n  },\n  computed: {\n    isControlled() {\n      return typeof this.value !== 'undefined';\n    },\n    currentRefinement: {\n      get() {\n        // if the input is controlled, but not up to date\n        // this means it didn't search, and we should pretend it was `set`\n        if (this.isControlled && this.value !== this.localValue) {\n          // eslint-disable-next-line vue/no-side-effects-in-computed-properties\n          this.localValue = this.value;\n          this.$emit('input', this.value);\n          this.state.refine(this.value);\n        }\n        return this.value || this.state.query || '';\n      },\n      set(val) {\n        this.localValue = val;\n        this.state.refine(val);\n        if (this.isControlled) {\n          this.$emit('input', val);\n        }\n      },\n    },\n  },\n};\n</script>\n","<template>\n  <ais-highlighter\n    :hit=\"hit\"\n    :attribute=\"attribute\"\n    :highlighted-tag-name=\"highlightedTagName\"\n    :suit=\"suit\"\n    highlight-property=\"_snippetResult\"\n    pre-tag=\"<mark>\"\n    post-tag=\"</mark>\"\n  />\n</template>\n\n<script>\nimport { createSuitMixin } from '../mixins/suit';\nimport AisHighlighter from './Highlighter.vue';\n\nexport default {\n  name: 'AisSnippet',\n  mixins: [createSuitMixin({ name: 'Snippet' })],\n  components: { AisHighlighter },\n  props: {\n    hit: {\n      type: Object,\n      required: true,\n    },\n    attribute: {\n      type: String,\n      required: true,\n    },\n    highlightedTagName: {\n      type: String,\n      default: 'mark',\n    },\n  },\n};\n</script>\n","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { checkRendering, createDocumentationMessageGenerator, find, warning, noop } from '../../lib/utils';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'sort-by',\n  connector: true\n});\n/**\n * The **SortBy** connector provides the logic to build a custom widget that will display a\n * list of indices. With Algolia, this is most commonly used for changing ranking strategy. This allows\n * a user to change how the hits are being sorted.\n */\n\nvar connectSortBy = function connectSortBy(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  var connectorState = {};\n  return function (widgetParams) {\n    var _ref = widgetParams || {},\n        items = _ref.items,\n        _ref$transformItems = _ref.transformItems,\n        transformItems = _ref$transformItems === void 0 ? function (x) {\n      return x;\n    } : _ref$transformItems;\n\n    if (!Array.isArray(items)) {\n      throw new Error(withUsage('The `items` option expects an array of objects.'));\n    }\n\n    return {\n      $$type: 'ais.sortBy',\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        var widgetRenderState = this.getWidgetRenderState(initOptions);\n        var currentIndex = widgetRenderState.currentRefinement;\n        var isCurrentIndexInItems = find(items, function (item) {\n          return item.value === currentIndex;\n        });\n        process.env.NODE_ENV === 'development' ? warning(isCurrentIndexInItems !== undefined, \"The index named \\\"\".concat(currentIndex, \"\\\" is not listed in the `items` of `sortBy`.\")) : void 0;\n        renderFn(_objectSpread(_objectSpread({}, widgetRenderState), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(renderOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose(_ref2) {\n        var state = _ref2.state;\n        unmountFn();\n        return connectorState.initialIndex ? state.setIndex(connectorState.initialIndex) : state;\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          sortBy: this.getWidgetRenderState(renderOptions)\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref3) {\n        var results = _ref3.results,\n            helper = _ref3.helper,\n            parent = _ref3.parent;\n\n        if (!connectorState.initialIndex && parent) {\n          connectorState.initialIndex = parent.getIndexName();\n        }\n\n        if (!connectorState.setIndex) {\n          connectorState.setIndex = function (indexName) {\n            helper.setIndex(indexName).search();\n          };\n        }\n\n        return {\n          currentRefinement: helper.state.index,\n          options: transformItems(items),\n          refine: connectorState.setIndex,\n          hasNoResults: results ? results.nbHits === 0 : true,\n          widgetParams: widgetParams\n        };\n      },\n      getWidgetUiState: function getWidgetUiState(uiState, _ref4) {\n        var searchParameters = _ref4.searchParameters;\n        var currentIndex = searchParameters.index;\n\n        if (currentIndex === connectorState.initialIndex) {\n          return uiState;\n        }\n\n        return _objectSpread(_objectSpread({}, uiState), {}, {\n          sortBy: currentIndex\n        });\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters, _ref5) {\n        var uiState = _ref5.uiState;\n        return searchParameters.setQueryParameter('index', uiState.sortBy || connectorState.initialIndex || searchParameters.index);\n      }\n    };\n  };\n};\n\nexport default connectSortBy;","<template>\n  <div\n    :class=\"suit()\"\n    v-if=\"state\"\n  >\n    <slot\n      :items=\"state.options\"\n      :has-no-results=\"state.hasNoResults\"\n      :refine=\"state.refine\"\n      :current-refinement=\"state.currentRefinement\"\n    >\n      <select\n        :class=\"suit('select')\"\n        @change=\"state.refine($event.currentTarget.value)\"\n      >\n        <option\n          v-for=\"item in state.options\"\n          :key=\"item.value\"\n          :class=\"suit('option')\"\n          :value=\"item.value\"\n          :selected=\"item.value === state.currentRefinement\"\n        >{{ item.label }}</option>\n      </select>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { connectSortBy } from 'instantsearch.js/es/connectors';\nimport { createPanelConsumerMixin } from '../mixins/panel';\nimport { createSuitMixin } from '../mixins/suit';\nimport { createWidgetMixin } from '../mixins/widget';\n\nexport default {\n  name: 'AisSortBy',\n  mixins: [\n    createSuitMixin({ name: 'SortBy' }),\n    createWidgetMixin({ connector: connectSortBy }),\n\n    createPanelConsumerMixin({\n      mapStateToCanRefine: state => state.hasNoResults === false,\n    }),\n  ],\n  props: {\n    items: {\n      type: Array,\n      required: true,\n    },\n    transformItems: {\n      type: Function,\n      default(items) {\n        return items;\n      },\n    },\n  },\n  computed: {\n    widgetParams() {\n      return {\n        items: this.items,\n        transformItems: this.transformItems,\n      };\n    },\n  },\n};\n</script>\n","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { checkRendering, createDocumentationMessageGenerator, noop } from '../../lib/utils';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'stats',\n  connector: true\n});\n/**\n * **Stats** connector provides the logic to build a custom widget that will displays\n * search statistics (hits number and processing time).\n */\n\nvar connectStats = function connectStats(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function (widgetParams) {\n    return {\n      $$type: 'ais.stats',\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(renderOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose() {\n        unmountFn();\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          stats: this.getWidgetRenderState(renderOptions)\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref) {\n        var results = _ref.results,\n            helper = _ref.helper;\n\n        if (!results) {\n          return {\n            hitsPerPage: helper.state.hitsPerPage,\n            nbHits: 0,\n            nbSortedHits: undefined,\n            areHitsSorted: false,\n            nbPages: 0,\n            page: helper.state.page || 0,\n            processingTimeMS: -1,\n            query: helper.state.query || '',\n            widgetParams: widgetParams\n          };\n        }\n\n        return {\n          hitsPerPage: results.hitsPerPage,\n          nbHits: results.nbHits,\n          nbSortedHits: results.nbSortedHits,\n          areHitsSorted: typeof results.appliedRelevancyStrictness !== 'undefined' && results.appliedRelevancyStrictness > 0 && results.nbSortedHits !== results.nbHits,\n          nbPages: results.nbPages,\n          page: results.page,\n          processingTimeMS: results.processingTimeMS,\n          query: results.query,\n          widgetParams: widgetParams\n        };\n      }\n    };\n  };\n};\n\nexport default connectStats;","<template>\n  <div\n    v-if=\"state\"\n    :class=\"suit()\"\n  >\n    <slot\n      v-bind=\"state\"\n      :results=\"state.instantSearchInstance.helper.lastResults\"\n    >\n      <span :class=\"suit('text')\"><template v-if=\"state.areHitsSorted\">{{ state.nbSortedHits.toLocaleString() }} relevant results sorted out of {{ state.nbHits.toLocaleString() }}</template><template v-else>{{ state.nbHits.toLocaleString() }} results</template> found in {{ state.processingTimeMS.toLocaleString() }}ms</span>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { createWidgetMixin } from '../mixins/widget';\nimport { connectStats } from 'instantsearch.js/es/connectors';\nimport { createSuitMixin } from '../mixins/suit';\n\nexport default {\n  name: 'AisStats',\n  mixins: [\n    createWidgetMixin({ connector: connectStats }),\n    createSuitMixin({ name: 'Stats' }),\n  ],\n  computed: {\n    widgetParams() {\n      return {};\n    },\n  },\n};\n</script>\n","function toArray(value) {\n  return Array.isArray(value) ? value : [value];\n}\n\nexport default toArray;","function escapeRefinement(value) {\n  if (typeof value === 'number' && value < 0) {\n    value = String(value).replace(/^-/, '\\\\-');\n  }\n\n  return value;\n}\n\nexport default escapeRefinement;","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { checkRendering, escapeRefinement, unescapeRefinement, createDocumentationMessageGenerator, find, noop, toArray } from '../../lib/utils';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'toggle-refinement',\n  connector: true\n});\nvar $$type = 'ais.toggleRefinement';\n\nvar createSendEvent = function createSendEvent(_ref) {\n  var instantSearchInstance = _ref.instantSearchInstance,\n      helper = _ref.helper,\n      attribute = _ref.attribute,\n      on = _ref.on;\n\n  var sendEventForToggle = function sendEventForToggle() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (args.length === 1) {\n      instantSearchInstance.sendEventToInsights(args[0]);\n      return;\n    }\n\n    var eventType = args[0],\n        isRefined = args[1],\n        _args$ = args[2],\n        eventName = _args$ === void 0 ? 'Filter Applied' : _args$;\n\n    if (eventType !== 'click' || on === undefined) {\n      return;\n    } // only send an event when the refinement gets applied,\n    // not when it gets removed\n\n\n    if (!isRefined) {\n      instantSearchInstance.sendEventToInsights({\n        insightsMethod: 'clickedFilters',\n        widgetType: $$type,\n        eventType: eventType,\n        payload: {\n          eventName: eventName,\n          index: helper.getIndex(),\n          filters: on.map(function (value) {\n            return \"\".concat(attribute, \":\").concat(value);\n          })\n        },\n        attribute: attribute\n      });\n    }\n  };\n\n  return sendEventForToggle;\n};\n\n/**\n * **Toggle** connector provides the logic to build a custom widget that will provide\n * an on/off filtering feature based on an attribute value or values.\n *\n * Two modes are implemented in the custom widget:\n *  - with or without the value filtered\n *  - switch between two values.\n */\nvar connectToggleRefinement = function connectToggleRefinement(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function (widgetParams) {\n    var _ref2 = widgetParams || {},\n        attribute = _ref2.attribute,\n        _ref2$on = _ref2.on,\n        userOn = _ref2$on === void 0 ? true : _ref2$on,\n        userOff = _ref2.off;\n\n    if (!attribute) {\n      throw new Error(withUsage('The `attribute` option is required.'));\n    }\n\n    var hasAnOffValue = userOff !== undefined;\n    var on = toArray(userOn).map(escapeRefinement);\n    var off = hasAnOffValue ? toArray(userOff).map(escapeRefinement) : undefined;\n    var sendEvent;\n\n    var toggleRefinementFactory = function toggleRefinementFactory(helper) {\n      return function () {\n        var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n          isRefined: false\n        },\n            isRefined = _ref3.isRefined;\n\n        if (!isRefined) {\n          sendEvent('click', isRefined);\n\n          if (hasAnOffValue) {\n            off.forEach(function (v) {\n              return helper.removeDisjunctiveFacetRefinement(attribute, v);\n            });\n          }\n\n          on.forEach(function (v) {\n            return helper.addDisjunctiveFacetRefinement(attribute, v);\n          });\n        } else {\n          on.forEach(function (v) {\n            return helper.removeDisjunctiveFacetRefinement(attribute, v);\n          });\n\n          if (hasAnOffValue) {\n            off.forEach(function (v) {\n              return helper.addDisjunctiveFacetRefinement(attribute, v);\n            });\n          }\n        }\n\n        helper.search();\n      };\n    };\n\n    var connectorState = {\n      createURLFactory: function createURLFactory(isRefined, _ref4) {\n        var state = _ref4.state,\n            createURL = _ref4.createURL;\n        return function () {\n          state = state.resetPage();\n          var valuesToRemove = isRefined ? on : off;\n\n          if (valuesToRemove) {\n            valuesToRemove.forEach(function (v) {\n              state = state.removeDisjunctiveFacetRefinement(attribute, v);\n            });\n          }\n\n          var valuesToAdd = isRefined ? off : on;\n\n          if (valuesToAdd) {\n            valuesToAdd.forEach(function (v) {\n              state = state.addDisjunctiveFacetRefinement(attribute, v);\n            });\n          }\n\n          return createURL(state);\n        };\n      }\n    };\n    return {\n      $$type: $$type,\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(renderOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose(_ref5) {\n        var state = _ref5.state;\n        unmountFn();\n        return state.removeDisjunctiveFacet(attribute);\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          toggleRefinement: _objectSpread(_objectSpread({}, renderState.toggleRefinement), {}, _defineProperty({}, attribute, this.getWidgetRenderState(renderOptions)))\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref6) {\n        var state = _ref6.state,\n            helper = _ref6.helper,\n            results = _ref6.results,\n            createURL = _ref6.createURL,\n            instantSearchInstance = _ref6.instantSearchInstance;\n        var isRefined = results ? on.every(function (v) {\n          return helper.state.isDisjunctiveFacetRefined(attribute, v);\n        }) : on.every(function (v) {\n          return state.isDisjunctiveFacetRefined(attribute, v);\n        });\n        var onFacetValue = {\n          isRefined: isRefined,\n          count: 0\n        };\n        var offFacetValue = {\n          isRefined: hasAnOffValue && !isRefined,\n          count: 0\n        };\n\n        if (results) {\n          var offValue = toArray(off || false);\n          var allFacetValues = results.getFacetValues(attribute, {}) || [];\n          var onData = on.map(function (v) {\n            return find(allFacetValues, function (_ref7) {\n              var name = _ref7.name;\n              return name === unescapeRefinement(v);\n            });\n          }).filter(function (v) {\n            return v !== undefined;\n          });\n          var offData = hasAnOffValue ? offValue.map(function (v) {\n            return find(allFacetValues, function (_ref8) {\n              var name = _ref8.name;\n              return name === unescapeRefinement(v);\n            });\n          }).filter(function (v) {\n            return v !== undefined;\n          }) : [];\n          onFacetValue = {\n            isRefined: onData.length ? onData.every(function (v) {\n              return v.isRefined;\n            }) : false,\n            count: onData.reduce(function (acc, v) {\n              return acc + v.count;\n            }, 0) || null\n          };\n          offFacetValue = {\n            isRefined: offData.length ? offData.every(function (v) {\n              return v.isRefined;\n            }) : false,\n            count: offData.reduce(function (acc, v) {\n              return acc + v.count;\n            }, 0) || allFacetValues.reduce(function (total, _ref9) {\n              var count = _ref9.count;\n              return total + count;\n            }, 0)\n          };\n        } else if (hasAnOffValue && !isRefined) {\n          if (off) {\n            off.forEach(function (v) {\n              return helper.addDisjunctiveFacetRefinement(attribute, v);\n            });\n          }\n\n          helper.setPage(helper.state.page);\n        }\n\n        if (!sendEvent) {\n          sendEvent = createSendEvent({\n            instantSearchInstance: instantSearchInstance,\n            attribute: attribute,\n            on: on,\n            helper: helper\n          });\n        }\n\n        var nextRefinement = isRefined ? offFacetValue : onFacetValue;\n        return {\n          value: {\n            name: attribute,\n            isRefined: isRefined,\n            count: results ? nextRefinement.count : null,\n            onFacetValue: onFacetValue,\n            offFacetValue: offFacetValue\n          },\n          createURL: connectorState.createURLFactory(isRefined, {\n            state: state,\n            createURL: createURL\n          }),\n          sendEvent: sendEvent,\n          canRefine: Boolean(results ? nextRefinement.count : null),\n          refine: toggleRefinementFactory(helper),\n          widgetParams: widgetParams\n        };\n      },\n      getWidgetUiState: function getWidgetUiState(uiState, _ref10) {\n        var searchParameters = _ref10.searchParameters;\n        var isRefined = on && on.every(function (v) {\n          return searchParameters.isDisjunctiveFacetRefined(attribute, v);\n        });\n\n        if (!isRefined) {\n          return uiState;\n        }\n\n        return _objectSpread(_objectSpread({}, uiState), {}, {\n          toggle: _objectSpread(_objectSpread({}, uiState.toggle), {}, _defineProperty({}, attribute, isRefined))\n        });\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters, _ref11) {\n        var uiState = _ref11.uiState;\n        var withFacetConfiguration = searchParameters.clearRefinements(attribute).addDisjunctiveFacet(attribute);\n        var isRefined = Boolean(uiState.toggle && uiState.toggle[attribute]);\n\n        if (isRefined) {\n          if (on) {\n            on.forEach(function (v) {\n              withFacetConfiguration = withFacetConfiguration.addDisjunctiveFacetRefinement(attribute, v);\n            });\n          }\n\n          return withFacetConfiguration;\n        } // It's not refined with an `off` value\n\n\n        if (hasAnOffValue) {\n          if (off) {\n            off.forEach(function (v) {\n              withFacetConfiguration = withFacetConfiguration.addDisjunctiveFacetRefinement(attribute, v);\n            });\n          }\n\n          return withFacetConfiguration;\n        } // It's not refined without an `off` value\n\n\n        return withFacetConfiguration.setQueryParameters({\n          disjunctiveFacetsRefinements: _objectSpread(_objectSpread({}, searchParameters.disjunctiveFacetsRefinements), {}, _defineProperty({}, attribute, []))\n        });\n      }\n    };\n  };\n};\n\nexport default connectToggleRefinement;","<template>\n  <div\n    v-if=\"state\"\n    :class=\"[suit(), !canRefine && suit('', 'noRefinement')]\"\n  >\n    <slot\n      :value=\"state.value\"\n      :can-refine=\"canRefine\"\n      :refine=\"state.refine\"\n      :createURL=\"state.createURL\"\n      :send-event=\"state.sendEvent\"\n    >\n      <label :class=\"suit('label')\">\n        <input\n          :class=\"suit('checkbox')\"\n          type=\"checkbox\"\n          :name=\"state.value.name\"\n          :value=\"on\"\n          :checked=\"state.value.isRefined\"\n          @change=\"state.refine(state.value)\"\n        >\n        <span :class=\"suit('labelText')\">{{ label }}</span>\n        <span\n          v-if=\"state.value.count !== null\"\n          :class=\"suit('count')\"\n        >{{ state.value.count.toLocaleString() }}</span>\n      </label>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { connectToggleRefinement } from 'instantsearch.js/es/connectors';\nimport { createWidgetMixin } from '../mixins/widget';\nimport { createPanelConsumerMixin } from '../mixins/panel';\nimport { createSuitMixin } from '../mixins/suit';\n\nconst mapStateToCanRefine = state => Boolean(state.value && state.value.count);\n\nexport default {\n  name: 'AisToggleRefinement',\n  mixins: [\n    createSuitMixin({ name: 'ToggleRefinement' }),\n    createWidgetMixin({ connector: connectToggleRefinement }),\n    createPanelConsumerMixin({\n      mapStateToCanRefine,\n    }),\n  ],\n  props: {\n    attribute: {\n      type: String,\n      required: true,\n    },\n    label: {\n      type: String,\n      required: true,\n    },\n    on: {\n      type: [String, Number, Boolean, Array],\n      required: false,\n      default: true,\n    },\n    off: {\n      type: [String, Number, Boolean, Array],\n      required: false,\n      // explicit otherwise Vue coerces the default value\n      // to false because of the `Boolean` prop type\n      default: undefined,\n    },\n  },\n  computed: {\n    widgetParams() {\n      return {\n        attribute: this.attribute,\n        label: this.label,\n        on: this.on,\n        off: this.off,\n      };\n    },\n    canRefine() {\n      return mapStateToCanRefine(this.state);\n    },\n  },\n};\n</script>\n","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/* global SpeechRecognition SpeechRecognitionEvent */\nvar createVoiceSearchHelper = function createVoiceSearchHelper(_ref) {\n  var searchAsYouSpeak = _ref.searchAsYouSpeak,\n      language = _ref.language,\n      onQueryChange = _ref.onQueryChange,\n      onStateChange = _ref.onStateChange;\n  var SpeechRecognitionAPI = window.webkitSpeechRecognition || window.SpeechRecognition;\n\n  var getDefaultState = function getDefaultState(status) {\n    return {\n      status: status,\n      transcript: '',\n      isSpeechFinal: false,\n      errorCode: undefined\n    };\n  };\n\n  var state = getDefaultState('initial');\n  var recognition;\n\n  var isBrowserSupported = function isBrowserSupported() {\n    return Boolean(SpeechRecognitionAPI);\n  };\n\n  var isListening = function isListening() {\n    return state.status === 'askingPermission' || state.status === 'waiting' || state.status === 'recognizing';\n  };\n\n  var setState = function setState() {\n    var newState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    state = _objectSpread(_objectSpread({}, state), newState);\n    onStateChange();\n  };\n\n  var getState = function getState() {\n    return state;\n  };\n\n  var resetState = function resetState() {\n    var status = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'initial';\n    setState(getDefaultState(status));\n  };\n\n  var onStart = function onStart() {\n    setState({\n      status: 'waiting'\n    });\n  };\n\n  var onError = function onError(event) {\n    setState({\n      status: 'error',\n      errorCode: event.error\n    });\n  };\n\n  var onResult = function onResult(event) {\n    setState({\n      status: 'recognizing',\n      transcript: event.results[0] && event.results[0][0] && event.results[0][0].transcript || '',\n      isSpeechFinal: event.results[0] && event.results[0].isFinal\n    });\n\n    if (searchAsYouSpeak && state.transcript) {\n      onQueryChange(state.transcript);\n    }\n  };\n\n  var onEnd = function onEnd() {\n    if (!state.errorCode && state.transcript && !searchAsYouSpeak) {\n      onQueryChange(state.transcript);\n    }\n\n    if (state.status !== 'error') {\n      setState({\n        status: 'finished'\n      });\n    }\n  };\n\n  var startListening = function startListening() {\n    recognition = new SpeechRecognitionAPI();\n\n    if (!recognition) {\n      return;\n    }\n\n    resetState('askingPermission');\n    recognition.interimResults = true;\n\n    if (language) {\n      recognition.lang = language;\n    }\n\n    recognition.addEventListener('start', onStart);\n    recognition.addEventListener('error', onError);\n    recognition.addEventListener('result', onResult);\n    recognition.addEventListener('end', onEnd);\n    recognition.start();\n  };\n\n  var dispose = function dispose() {\n    if (!recognition) {\n      return;\n    }\n\n    recognition.stop();\n    recognition.removeEventListener('start', onStart);\n    recognition.removeEventListener('error', onError);\n    recognition.removeEventListener('result', onResult);\n    recognition.removeEventListener('end', onEnd);\n    recognition = undefined;\n  };\n\n  var stopListening = function stopListening() {\n    dispose(); // Because `dispose` removes event listeners, `end` listener is not called.\n    // So we're setting the `status` as `finished` here.\n    // If we don't do it, it will be still `waiting` or `recognizing`.\n\n    resetState('finished');\n  };\n\n  return {\n    getState: getState,\n    isBrowserSupported: isBrowserSupported,\n    isListening: isListening,\n    startListening: startListening,\n    stopListening: stopListening,\n    dispose: dispose\n  };\n};\n\nexport default createVoiceSearchHelper;","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { checkRendering, createDocumentationMessageGenerator, noop } from '../../lib/utils';\nimport builtInCreateVoiceSearchHelper from '../../lib/voiceSearchHelper';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'voice-search',\n  connector: true\n});\n\nvar connectVoiceSearch = function connectVoiceSearch(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function (widgetParams) {\n    var _widgetParams$searchA = widgetParams.searchAsYouSpeak,\n        searchAsYouSpeak = _widgetParams$searchA === void 0 ? false : _widgetParams$searchA,\n        language = widgetParams.language,\n        additionalQueryParameters = widgetParams.additionalQueryParameters,\n        _widgetParams$createV = widgetParams.createVoiceSearchHelper,\n        createVoiceSearchHelper = _widgetParams$createV === void 0 ? builtInCreateVoiceSearchHelper : _widgetParams$createV;\n    return {\n      $$type: 'ais.voiceSearch',\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(renderOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          voiceSearch: this.getWidgetRenderState(renderOptions)\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(renderOptions) {\n        var _this = this;\n\n        var helper = renderOptions.helper,\n            instantSearchInstance = renderOptions.instantSearchInstance;\n\n        if (!this._refine) {\n          this._refine = function (query) {\n            if (query !== helper.state.query) {\n              var queryLanguages = language ? [language.split('-')[0]] : undefined;\n              helper.setQueryParameter('queryLanguages', queryLanguages);\n\n              if (typeof additionalQueryParameters === 'function') {\n                helper.setState(helper.state.setQueryParameters(_objectSpread({\n                  ignorePlurals: true,\n                  removeStopWords: true,\n                  // @ts-ignore (optionalWords only allows array, while string is also valid)\n                  optionalWords: query\n                }, additionalQueryParameters({\n                  query: query\n                }))));\n              }\n\n              helper.setQuery(query).search();\n            }\n          };\n        }\n\n        if (!this._voiceSearchHelper) {\n          this._voiceSearchHelper = createVoiceSearchHelper({\n            searchAsYouSpeak: searchAsYouSpeak,\n            language: language,\n            onQueryChange: function onQueryChange(query) {\n              return _this._refine(query);\n            },\n            onStateChange: function onStateChange() {\n              renderFn(_objectSpread(_objectSpread({}, _this.getWidgetRenderState(renderOptions)), {}, {\n                instantSearchInstance: instantSearchInstance\n              }), false);\n            }\n          });\n        }\n\n        var _voiceSearchHelper = this._voiceSearchHelper,\n            isBrowserSupported = _voiceSearchHelper.isBrowserSupported,\n            isListening = _voiceSearchHelper.isListening,\n            startListening = _voiceSearchHelper.startListening,\n            stopListening = _voiceSearchHelper.stopListening,\n            getState = _voiceSearchHelper.getState;\n        return {\n          isBrowserSupported: isBrowserSupported(),\n          isListening: isListening(),\n          toggleListening: function toggleListening() {\n            if (!isBrowserSupported()) {\n              return;\n            }\n\n            if (isListening()) {\n              stopListening();\n            } else {\n              startListening();\n            }\n          },\n          voiceListeningState: getState(),\n          widgetParams: widgetParams\n        };\n      },\n      dispose: function dispose(_ref) {\n        var state = _ref.state;\n\n        this._voiceSearchHelper.dispose();\n\n        unmountFn();\n        var newState = state;\n\n        if (typeof additionalQueryParameters === 'function') {\n          var additional = additionalQueryParameters({\n            query: ''\n          });\n          var toReset = additional ? Object.keys(additional).reduce(function (acc, current) {\n            acc[current] = undefined;\n            return acc;\n          }, {}) : {};\n          newState = state.setQueryParameters(_objectSpread({\n            // @ts-ignore (queryLanguages is not yet added to algoliasearch)\n            queryLanguages: undefined,\n            ignorePlurals: undefined,\n            removeStopWords: undefined,\n            optionalWords: undefined\n          }, toReset));\n        }\n\n        return newState.setQueryParameter('query', undefined);\n      },\n      getWidgetUiState: function getWidgetUiState(uiState, _ref2) {\n        var searchParameters = _ref2.searchParameters;\n        var query = searchParameters.query || '';\n\n        if (!query) {\n          return uiState;\n        }\n\n        return _objectSpread(_objectSpread({}, uiState), {}, {\n          query: query\n        });\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters, _ref3) {\n        var uiState = _ref3.uiState;\n        return searchParameters.setQueryParameter('query', uiState.query || '');\n      }\n    };\n  };\n};\n\nexport default connectVoiceSearch;","<template>\n  <div\n    v-if=\"state\"\n    :class=\"suit()\"\n  >\n    <slot v-bind=\"rootSlotProps\">\n      <button\n        type=\"button\"\n        :class=\"suit('button')\"\n        :title=\"state.isBrowserSupported ? buttonTitle : disabledButtonTitle\"\n        :disabled=\"!state.isBrowserSupported\"\n        @click=\"handleClick\"\n      >\n        <slot\n          name=\"buttonText\"\n          v-bind=\"innerSlotProps\"\n        >\n          <svg\n            v-bind=\"buttonSvgAttrs\"\n            v-if=\"errorNotAllowed\"\n          >\n            <line\n              x1=\"1\"\n              y1=\"1\"\n              x2=\"23\"\n              y2=\"23\"\n            />\n            <path d=\"M9 9v3a3 3 0 0 0 5.12 2.12M15 9.34V4a3 3 0 0 0-5.94-.6\" />\n            <path d=\"M17 16.95A7 7 0 0 1 5 12v-2m14 0v2a7 7 0 0 1-.11 1.23\" />\n            <line\n              x1=\"12\"\n              y1=\"19\"\n              x2=\"12\"\n              y2=\"23\"\n            />\n            <line\n              x1=\"8\"\n              y1=\"23\"\n              x2=\"16\"\n              y2=\"23\"\n            />\n          </svg>\n          <svg\n            v-bind=\"buttonSvgAttrs\"\n            v-else\n          >\n            <path\n              d=\"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z\"\n              :fill=\"state.isListening ? 'currentColor' : 'none'\"\n            />\n            <path d=\"M19 10v2a7 7 0 0 1-14 0v-2\" />\n            <line\n              x1=\"12\"\n              y1=\"19\"\n              x2=\"12\"\n              y2=\"23\"\n            />\n            <line\n              x1=\"8\"\n              y1=\"23\"\n              x2=\"16\"\n              y2=\"23\"\n            />\n          </svg>\n        </slot>\n      </button>\n      <div :class=\"suit('status')\">\n        <slot\n          name=\"status\"\n          v-bind=\"innerSlotProps\"\n        >\n          <p>{{ state.voiceListeningState.transcript }}</p>\n        </slot>\n      </div>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { connectVoiceSearch } from 'instantsearch.js/es/connectors';\nimport { createSuitMixin } from '../mixins/suit';\nimport { createWidgetMixin } from '../mixins/widget';\n\nexport default {\n  name: 'AisVoiceSearch',\n  mixins: [\n    createWidgetMixin({ connector: connectVoiceSearch }),\n    createSuitMixin({ name: 'VoiceSearch' }),\n  ],\n  props: {\n    searchAsYouSpeak: {\n      type: Boolean,\n      required: false,\n      default: undefined,\n    },\n    buttonTitle: {\n      type: String,\n      required: false,\n      default: 'Search by voice',\n    },\n    disabledButtonTitle: {\n      type: String,\n      required: false,\n      default: 'Search by voice (not supported on this browser)',\n    },\n  },\n  data() {\n    return {\n      buttonSvgAttrs: {\n        xmlns: 'http://www.w3.org/2000/svg',\n        width: '16',\n        height: '16',\n        viewBox: '0 0 24 24',\n        fill: 'none',\n        stroke: 'currentColor',\n        strokeWidth: '2',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round',\n      },\n    };\n  },\n  computed: {\n    widgetParams() {\n      return {\n        searchAsYouSpeak: this.searchAsYouSpeak,\n      };\n    },\n    errorNotAllowed() {\n      return (\n        this.state.voiceListeningState.status === 'error' &&\n        this.state.voiceListeningState.errorCode === 'not-allowed'\n      );\n    },\n    rootSlotProps() {\n      return {\n        isBrowserSupported: this.state.isBrowserSupported,\n        isListening: this.state.isListening,\n        toggleListening: this.state.toggleListening,\n        voiceListeningState: this.state.voiceListeningState,\n      };\n    },\n    innerSlotProps() {\n      return {\n        status: this.state.voiceListeningState.status,\n        errorCode: this.state.voiceListeningState.errorCode,\n        isListening: this.state.isListening,\n        transcript: this.state.voiceListeningState.transcript,\n        isSpeechFinal: this.state.voiceListeningState.isSpeechFinal,\n        isBrowserSupported: this.state.isBrowserSupported,\n      };\n    },\n  },\n  methods: {\n    handleClick(event) {\n      event.currentTarget.blur();\n      this.state.toggleListening();\n    },\n  },\n};\n</script>\n","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { noop } from '../../lib/utils';\n\nvar connectRelevantSort = function connectRelevantSort() {\n  var renderFn = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : noop;\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  return function (widgetParams) {\n    var connectorState = {};\n    return {\n      $$type: 'ais.relevantSort',\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(renderOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose(_ref) {\n        var state = _ref.state;\n        unmountFn();\n        return state.setQueryParameter('relevancyStrictness', undefined);\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          relevantSort: this.getWidgetRenderState(renderOptions)\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref2) {\n        var results = _ref2.results,\n            helper = _ref2.helper;\n\n        if (!connectorState.refine) {\n          connectorState.refine = function (relevancyStrictness) {\n            helper.setQueryParameter('relevancyStrictness', relevancyStrictness).search();\n          };\n        }\n\n        var _ref3 = results || {},\n            appliedRelevancyStrictness = _ref3.appliedRelevancyStrictness;\n\n        var isVirtualReplica = appliedRelevancyStrictness !== undefined;\n        return {\n          isRelevantSorted: typeof appliedRelevancyStrictness !== 'undefined' && appliedRelevancyStrictness > 0,\n          isVirtualReplica: isVirtualReplica,\n          canRefine: isVirtualReplica,\n          refine: connectorState.refine,\n          widgetParams: widgetParams\n        };\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(state, _ref4) {\n        var _uiState$relevantSort;\n\n        var uiState = _ref4.uiState;\n        return state.setQueryParameter('relevancyStrictness', (_uiState$relevantSort = uiState.relevantSort) !== null && _uiState$relevantSort !== void 0 ? _uiState$relevantSort : state.relevancyStrictness);\n      },\n      getWidgetUiState: function getWidgetUiState(uiState, _ref5) {\n        var searchParameters = _ref5.searchParameters;\n        return _objectSpread(_objectSpread({}, uiState), {}, {\n          relevantSort: searchParameters.relevancyStrictness || uiState.relevantSort\n        });\n      }\n    };\n  };\n};\n\nexport default connectRelevantSort;","<template>\n  <div\n    v-if=\"state && state.isVirtualReplica\"\n    :class=\"suit()\"\n  >\n    <slot\n      :is-relevant-sorted=\"state.isRelevantSorted\"\n      :refine=\"state.refine\"\n    >\n      <div :class=\"suit('text')\">\n        <slot\n          name=\"text\"\n          :is-relevant-sorted=\"state.isRelevantSorted\"\n        />\n      </div>\n      <button\n        type=\"button\"\n        :class=\"suit('button')\"\n        @click=\"refine()\"\n      >\n        <slot\n          name=\"button\"\n          :is-relevant-sorted=\"state.isRelevantSorted\"\n        >{{ state.isRelevantSorted ? 'See all results' : 'See relevant results' }}</slot>\n      </button>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { connectRelevantSort } from 'instantsearch.js/es/connectors';\nimport { createWidgetMixin } from '../mixins/widget';\nimport { createSuitMixin } from '../mixins/suit';\n\nexport default {\n  name: 'AisRelevantSort',\n  mixins: [\n    createSuitMixin({ name: 'RelevantSort' }),\n    createWidgetMixin({ connector: connectRelevantSort }),\n  ],\n  methods: {\n    refine() {\n      if (this.state.isRelevantSorted) {\n        this.state.refine(0);\n      } else {\n        this.state.refine(undefined);\n      }\n    },\n  },\n};\n</script>\n","import*as n from\"./widgets.js\";var o={install:function(o){Object.keys(n).forEach(function(t){o.component(n[t].name,n[t])})}};export{o as plugin};\n//# sourceMappingURL=plugin.js.map\n","var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var fails = require('../internals/fails');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","'use strict';\n\n// NOTE: this behaves like lodash/defaults, but doesn't mutate the target\n// it also preserve keys order\nmodule.exports = function defaultsPure() {\n  var sources = Array.prototype.slice.call(arguments);\n\n  return sources.reduceRight(function(acc, source) {\n    Object.keys(Object(source)).forEach(function(key) {\n      if (source[key] === undefined) {\n        return;\n      }\n      if (acc[key] !== undefined) {\n        // remove if already added, so that we can add it in correct order\n        delete acc[key];\n      }\n      acc[key] = source[key];\n    });\n    return acc;\n  }, {});\n};\n","'use strict';\n\nmodule.exports = generateTrees;\n\nvar orderBy = require('../functions/orderBy');\nvar find = require('../functions/find');\nvar prepareHierarchicalFacetSortBy = require('../functions/formatSort');\n\nfunction generateTrees(state) {\n  return function generate(hierarchicalFacetResult, hierarchicalFacetIndex) {\n    var hierarchicalFacet = state.hierarchicalFacets[hierarchicalFacetIndex];\n    var hierarchicalFacetRefinement =\n      (state.hierarchicalFacetsRefinements[hierarchicalFacet.name] &&\n        state.hierarchicalFacetsRefinements[hierarchicalFacet.name][0]) ||\n      '';\n    var hierarchicalSeparator = state._getHierarchicalFacetSeparator(\n      hierarchicalFacet\n    );\n    var hierarchicalRootPath = state._getHierarchicalRootPath(\n      hierarchicalFacet\n    );\n    var hierarchicalShowParentLevel = state._getHierarchicalShowParentLevel(\n      hierarchicalFacet\n    );\n    var sortBy = prepareHierarchicalFacetSortBy(\n      state._getHierarchicalFacetSortBy(hierarchicalFacet)\n    );\n\n    var rootExhaustive = hierarchicalFacetResult.every(function(facetResult) {\n      return facetResult.exhaustive;\n    });\n\n    var generateTreeFn = generateHierarchicalTree(\n      sortBy,\n      hierarchicalSeparator,\n      hierarchicalRootPath,\n      hierarchicalShowParentLevel,\n      hierarchicalFacetRefinement\n    );\n\n    var results = hierarchicalFacetResult;\n\n    if (hierarchicalRootPath) {\n      results = hierarchicalFacetResult.slice(\n        hierarchicalRootPath.split(hierarchicalSeparator).length\n      );\n    }\n\n    return results.reduce(generateTreeFn, {\n      name: state.hierarchicalFacets[hierarchicalFacetIndex].name,\n      count: null, // root level, no count\n      isRefined: true, // root level, always refined\n      path: null, // root level, no path\n      exhaustive: rootExhaustive,\n      data: null\n    });\n  };\n}\n\nfunction generateHierarchicalTree(\n  sortBy,\n  hierarchicalSeparator,\n  hierarchicalRootPath,\n  hierarchicalShowParentLevel,\n  currentRefinement\n) {\n  return function generateTree(\n    hierarchicalTree,\n    hierarchicalFacetResult,\n    currentHierarchicalLevel\n  ) {\n    var parent = hierarchicalTree;\n\n    if (currentHierarchicalLevel > 0) {\n      var level = 0;\n\n      parent = hierarchicalTree;\n\n      while (level < currentHierarchicalLevel) {\n        /**\n         * @type {object[]]} hierarchical data\n         */\n        var data = parent && Array.isArray(parent.data) ? parent.data : [];\n        parent = find(data, function(subtree) {\n          return subtree.isRefined;\n        });\n        level++;\n      }\n    }\n\n    // we found a refined parent, let's add current level data under it\n    if (parent) {\n      // filter values in case an object has multiple categories:\n      //   {\n      //     categories: {\n      //       level0: ['beers', 'bires'],\n      //       level1: ['beers > IPA', 'bires > Belges']\n      //     }\n      //   }\n      //\n      // If parent refinement is `beers`, then we do not want to have `bires > Belges`\n      // showing up\n\n      var picked = Object.keys(hierarchicalFacetResult.data)\n        .map(function(facetValue) {\n          return [facetValue, hierarchicalFacetResult.data[facetValue]];\n        })\n        .filter(function(tuple) {\n          var facetValue = tuple[0];\n          return onlyMatchingTree(\n            facetValue,\n            parent.path || hierarchicalRootPath,\n            currentRefinement,\n            hierarchicalSeparator,\n            hierarchicalRootPath,\n            hierarchicalShowParentLevel\n          );\n        });\n\n      parent.data = orderBy(\n        picked.map(function(tuple) {\n          var facetValue = tuple[0];\n          var facetCount = tuple[1];\n\n          return format(\n            facetCount,\n            facetValue,\n            hierarchicalSeparator,\n            currentRefinement,\n            hierarchicalFacetResult.exhaustive\n          );\n        }),\n        sortBy[0],\n        sortBy[1]\n      );\n    }\n\n    return hierarchicalTree;\n  };\n}\n\nfunction onlyMatchingTree(\n  facetValue,\n  parentPath,\n  currentRefinement,\n  hierarchicalSeparator,\n  hierarchicalRootPath,\n  hierarchicalShowParentLevel\n) {\n  // we want the facetValue is a child of hierarchicalRootPath\n  if (\n    hierarchicalRootPath &&\n    (facetValue.indexOf(hierarchicalRootPath) !== 0 ||\n      hierarchicalRootPath === facetValue)\n  ) {\n    return false;\n  }\n\n  // we always want root levels (only when there is no prefix path)\n  return (\n    (!hierarchicalRootPath &&\n      facetValue.indexOf(hierarchicalSeparator) === -1) ||\n    // if there is a rootPath, being root level mean 1 level under rootPath\n    (hierarchicalRootPath &&\n      facetValue.split(hierarchicalSeparator).length -\n        hierarchicalRootPath.split(hierarchicalSeparator).length ===\n        1) ||\n    // if current refinement is a root level and current facetValue is a root level,\n    // keep the facetValue\n    (facetValue.indexOf(hierarchicalSeparator) === -1 &&\n      currentRefinement.indexOf(hierarchicalSeparator) === -1) ||\n    // currentRefinement is a child of the facet value\n    currentRefinement.indexOf(facetValue) === 0 ||\n    // facetValue is a child of the current parent, add it\n    (facetValue.indexOf(parentPath + hierarchicalSeparator) === 0 &&\n      (hierarchicalShowParentLevel ||\n        facetValue.indexOf(currentRefinement) === 0))\n  );\n}\n\nfunction format(\n  facetCount,\n  facetValue,\n  hierarchicalSeparator,\n  currentRefinement,\n  exhaustive\n) {\n  var parts = facetValue.split(hierarchicalSeparator);\n  return {\n    name: parts[parts.length - 1].trim(),\n    path: facetValue,\n    count: facetCount,\n    isRefined:\n      currentRefinement === facetValue ||\n      currentRefinement.indexOf(facetValue + hierarchicalSeparator) === 0,\n    exhaustive: exhaustive,\n    data: null\n  };\n}\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\n\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar $defineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? $defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return $defineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","'use strict';\n\nfunction valToNumber(v) {\n  if (typeof v === 'number') {\n    return v;\n  } else if (typeof v === 'string') {\n    return parseFloat(v);\n  } else if (Array.isArray(v)) {\n    return v.map(valToNumber);\n  }\n\n  throw new Error('The value should be a number, a parsable string or an array of those.');\n}\n\nmodule.exports = valToNumber;\n","'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\n\nvar defaults = {\n    allowDots: false,\n    allowPrototypes: false,\n    arrayLimit: 20,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    parameterLimit: 1000,\n    plainObjects: false,\n    strictNullHandling: false\n};\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = {};\n    var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\\?/, '') : str;\n    var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit;\n    var parts = cleanStr.split(options.delimiter, limit);\n\n    for (var i = 0; i < parts.length; ++i) {\n        var part = parts[i];\n\n        var bracketEqualsPos = part.indexOf(']=');\n        var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1;\n\n        var key, val;\n        if (pos === -1) {\n            key = options.decoder(part, defaults.decoder);\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos), defaults.decoder);\n            val = options.decoder(part.slice(pos + 1), defaults.decoder);\n        }\n        if (has.call(obj, key)) {\n            obj[key] = [].concat(obj[key]).concat(val);\n        } else {\n            obj[key] = val;\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function (chain, val, options) {\n    var leaf = val;\n\n    for (var i = chain.length - 1; i >= 0; --i) {\n        var obj;\n        var root = chain[i];\n\n        if (root === '[]') {\n            obj = [];\n            obj = obj.concat(leaf);\n        } else {\n            obj = options.plainObjects ? Object.create(null) : {};\n            var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n            var index = parseInt(cleanRoot, 10);\n            if (\n                !isNaN(index)\n                && root !== cleanRoot\n                && String(index) === cleanRoot\n                && index >= 0\n                && (options.parseArrays && index <= options.arrayLimit)\n            ) {\n                obj = [];\n                obj[index] = leaf;\n            } else {\n                obj[cleanRoot] = leaf;\n            }\n        }\n\n        leaf = obj;\n    }\n\n    return leaf;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var brackets = /(\\[[^[\\]]*])/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    // Get the parent\n\n    var segment = brackets.exec(key);\n    var parent = segment ? key.slice(0, segment.index) : key;\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (parent) {\n        // If we aren't using plain objects, optionally prefix keys\n        // that would overwrite object prototype properties\n        if (!options.plainObjects && has.call(Object.prototype, parent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(parent);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while ((segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, just add whatever is left\n\n    if (segment) {\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return parseObject(keys, val, options);\n};\n\nmodule.exports = function (str, opts) {\n    var options = opts ? utils.assign({}, opts) : {};\n\n    if (options.decoder !== null && options.decoder !== undefined && typeof options.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    options.ignoreQueryPrefix = options.ignoreQueryPrefix === true;\n    options.delimiter = typeof options.delimiter === 'string' || utils.isRegExp(options.delimiter) ? options.delimiter : defaults.delimiter;\n    options.depth = typeof options.depth === 'number' ? options.depth : defaults.depth;\n    options.arrayLimit = typeof options.arrayLimit === 'number' ? options.arrayLimit : defaults.arrayLimit;\n    options.parseArrays = options.parseArrays !== false;\n    options.decoder = typeof options.decoder === 'function' ? options.decoder : defaults.decoder;\n    options.allowDots = typeof options.allowDots === 'boolean' ? options.allowDots : defaults.allowDots;\n    options.plainObjects = typeof options.plainObjects === 'boolean' ? options.plainObjects : defaults.plainObjects;\n    options.allowPrototypes = typeof options.allowPrototypes === 'boolean' ? options.allowPrototypes : defaults.allowPrototypes;\n    options.parameterLimit = typeof options.parameterLimit === 'number' ? options.parameterLimit : defaults.parameterLimit;\n    options.strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : defaults.strictNullHandling;\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? Object.create(null) : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? Object.create(null) : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options);\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    return utils.compact(obj);\n};\n","'use strict';\nvar IteratorPrototype = require('../internals/iterators-core').IteratorPrototype;\nvar create = require('../internals/object-create');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar Iterators = require('../internals/iterators');\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (IteratorConstructor, NAME, next) {\n  var TO_STRING_TAG = NAME + ' Iterator';\n  IteratorConstructor.prototype = create(IteratorPrototype, { next: createPropertyDescriptor(1, next) });\n  setToStringTag(IteratorConstructor, TO_STRING_TAG, false, true);\n  Iterators[TO_STRING_TAG] = returnThis;\n  return IteratorConstructor;\n};\n","'use strict';\n\n// @MAJOR can be replaced by native Array#findIndex when we change support\nmodule.exports = function find(array, comparator) {\n  if (!Array.isArray(array)) {\n    return -1;\n  }\n\n  for (var i = 0; i < array.length; i++) {\n    if (comparator(array[i])) {\n      return i;\n    }\n  }\n  return -1;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.es/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","var userAgent = require('../internals/engine-user-agent');\n\nmodule.exports = /web0s(?!.*chrome)/i.test(userAgent);\n","'use strict';\n\n// https://github.com/babel/babel/blob/3aaafae053fa75febb3aa45d45b6f00646e30ba4/packages/babel-helpers/src/helpers.js#L604-L620\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source === null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key;\n  var i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal -- required for testing\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.es/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar NativePromise = require('../internals/native-promise-constructor');\nvar fails = require('../internals/fails');\nvar getBuiltIn = require('../internals/get-built-in');\nvar speciesConstructor = require('../internals/species-constructor');\nvar promiseResolve = require('../internals/promise-resolve');\nvar redefine = require('../internals/redefine');\n\n// Safari bug https://bugs.webkit.org/show_bug.cgi?id=200829\nvar NON_GENERIC = !!NativePromise && fails(function () {\n  NativePromise.prototype['finally'].call({ then: function () { /* empty */ } }, function () { /* empty */ });\n});\n\n// `Promise.prototype.finally` method\n// https://tc39.es/ecma262/#sec-promise.prototype.finally\n$({ target: 'Promise', proto: true, real: true, forced: NON_GENERIC }, {\n  'finally': function (onFinally) {\n    var C = speciesConstructor(this, getBuiltIn('Promise'));\n    var isFunction = typeof onFinally == 'function';\n    return this.then(\n      isFunction ? function (x) {\n        return promiseResolve(C, onFinally()).then(function () { return x; });\n      } : onFinally,\n      isFunction ? function (e) {\n        return promiseResolve(C, onFinally()).then(function () { throw e; });\n      } : onFinally\n    );\n  }\n});\n\n// makes sure that native promise-based APIs `Promise#finally` properly works with patched `Promise#then`\nif (!IS_PURE && typeof NativePromise == 'function') {\n  var method = getBuiltIn('Promise').prototype['finally'];\n  if (NativePromise.prototype['finally'] !== method) {\n    redefine(NativePromise.prototype, 'finally', method, { unsafe: true });\n  }\n}\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof-raw');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar toPrimitive = require('../internals/to-primitive');\nvar fails = require('../internals/fails');\nvar create = require('../internals/object-create');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar trim = require('../internals/string-trim').trim;\n\nvar NUMBER = 'Number';\nvar NativeNumber = global[NUMBER];\nvar NumberPrototype = NativeNumber.prototype;\n\n// Opera ~12 has broken Object#toString\nvar BROKEN_CLASSOF = classof(create(NumberPrototype)) == NUMBER;\n\n// `ToNumber` abstract operation\n// https://tc39.es/ecma262/#sec-tonumber\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  var first, third, radix, maxCode, digits, length, index, code;\n  if (typeof it == 'string' && it.length > 2) {\n    it = trim(it);\n    first = it.charCodeAt(0);\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal of /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal of /^0o[0-7]+$/i\n        default: return +it;\n      }\n      digits = it.slice(2);\n      length = digits.length;\n      for (index = 0; index < length; index++) {\n        code = digits.charCodeAt(index);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\n// `Number` constructor\n// https://tc39.es/ecma262/#sec-number-constructor\nif (isForced(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'))) {\n  var NumberWrapper = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var dummy = this;\n    return dummy instanceof NumberWrapper\n      // check on 1..constructor(foo) case\n      && (BROKEN_CLASSOF ? fails(function () { NumberPrototype.valueOf.call(dummy); }) : classof(dummy) != NUMBER)\n        ? inheritIfRequired(new NativeNumber(toNumber(it)), dummy, NumberWrapper) : toNumber(it);\n  };\n  for (var keys = DESCRIPTORS ? getOwnPropertyNames(NativeNumber) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES2015 (in case, if modules with ES2015 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,' +\n    // ESNext\n    'fromString,range'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(NativeNumber, key = keys[j]) && !has(NumberWrapper, key)) {\n      defineProperty(NumberWrapper, key, getOwnPropertyDescriptor(NativeNumber, key));\n    }\n  }\n  NumberWrapper.prototype = NumberPrototype;\n  NumberPrototype.constructor = NumberWrapper;\n  redefine(global, NUMBER, NumberWrapper);\n}\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.es/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","'use strict';\nvar fails = require('../internals/fails');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar BUGGY_SAFARI_ITERATORS = false;\n\nvar returnThis = function () { return this; };\n\n// `%IteratorPrototype%` object\n// https://tc39.es/ecma262/#sec-%iteratorprototype%-object\nvar IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;\n\n/* eslint-disable es/no-array-prototype-keys -- safe */\nif ([].keys) {\n  arrayIterator = [].keys();\n  // Safari 8 has buggy iterators w/o `next`\n  if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;\n  else {\n    PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));\n    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;\n  }\n}\n\nvar NEW_ITERATOR_PROTOTYPE = IteratorPrototype == undefined || fails(function () {\n  var test = {};\n  // FF44- legacy iterators case\n  return IteratorPrototype[ITERATOR].call(test) !== test;\n});\n\nif (NEW_ITERATOR_PROTOTYPE) IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nif ((!IS_PURE || NEW_ITERATOR_PROTOTYPE) && !has(IteratorPrototype, ITERATOR)) {\n  createNonEnumerableProperty(IteratorPrototype, ITERATOR, returnThis);\n}\n\nmodule.exports = {\n  IteratorPrototype: IteratorPrototype,\n  BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS\n};\n","'use strict';\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classof = require('../internals/classof');\n\n// `Object.prototype.toString` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.tostring\nmodule.exports = TO_STRING_TAG_SUPPORT ? {}.toString : function toString() {\n  return '[object ' + classof(this) + ']';\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nmodule.exports = {\n    'default': 'RFC3986',\n    formatters: {\n        RFC1738: function (value) {\n            return replace.call(value, percentTwenties, '+');\n        },\n        RFC3986: function (value) {\n            return value;\n        }\n    },\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar macrotask = require('../internals/task').set;\nvar IS_IOS = require('../internals/engine-is-ios');\nvar IS_WEBOS_WEBKIT = require('../internals/engine-is-webos-webkit');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar MutationObserver = global.MutationObserver || global.WebKitMutationObserver;\nvar document = global.document;\nvar process = global.process;\nvar Promise = global.Promise;\n// Node.js 11 shows ExperimentalWarning on getting `queueMicrotask`\nvar queueMicrotaskDescriptor = getOwnPropertyDescriptor(global, 'queueMicrotask');\nvar queueMicrotask = queueMicrotaskDescriptor && queueMicrotaskDescriptor.value;\n\nvar flush, head, last, notify, toggle, node, promise, then;\n\n// modern engines have queueMicrotask method\nif (!queueMicrotask) {\n  flush = function () {\n    var parent, fn;\n    if (IS_NODE && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (error) {\n        if (head) notify();\n        else last = undefined;\n        throw error;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // browsers with MutationObserver, except iOS - https://github.com/zloirock/core-js/issues/339\n  // also except WebOS Webkit https://github.com/zloirock/core-js/issues/898\n  if (!IS_IOS && !IS_NODE && !IS_WEBOS_WEBKIT && MutationObserver && document) {\n    toggle = true;\n    node = document.createTextNode('');\n    new MutationObserver(flush).observe(node, { characterData: true });\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    promise = Promise.resolve(undefined);\n    // workaround of WebKit ~ iOS Safari 10.1 bug\n    promise.constructor = Promise;\n    then = promise.then;\n    notify = function () {\n      then.call(promise, flush);\n    };\n  // Node.js without promises\n  } else if (IS_NODE) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n}\n\nmodule.exports = queueMicrotask || function (fn) {\n  var task = { fn: fn, next: undefined };\n  if (last) last.next = task;\n  if (!head) {\n    head = task;\n    notify();\n  } last = task;\n};\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar has = require('../internals/has');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!has(WellKnownSymbolsStore, name) || !(NATIVE_SYMBOL || typeof WellKnownSymbolsStore[name] == 'string')) {\n    if (NATIVE_SYMBOL && has(Symbol, name)) {\n      WellKnownSymbolsStore[name] = Symbol[name];\n    } else {\n      WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n    }\n  } return WellKnownSymbolsStore[name];\n};\n","var $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar nativeKeys = require('../internals/object-keys');\nvar fails = require('../internals/fails');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeKeys(1); });\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  keys: function keys(it) {\n    return nativeKeys(toObject(it));\n  }\n});\n","var bind = require('../internals/function-bind-context');\nvar IndexedObject = require('../internals/indexed-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\nvar push = [].push;\n\n// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex, filterOut }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var IS_FILTER_OUT = TYPE == 7;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  return function ($this, callbackfn, that, specificCreate) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var boundFunction = bind(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var create = specificCreate || arraySpeciesCreate;\n    var target = IS_MAP ? create($this, length) : IS_FILTER || IS_FILTER_OUT ? create($this, 0) : undefined;\n    var value, result;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (TYPE) {\n        if (IS_MAP) target[index] = result; // map\n        else if (result) switch (TYPE) {\n          case 3: return true;              // some\n          case 5: return value;             // find\n          case 6: return index;             // findIndex\n          case 2: push.call(target, value); // filter\n        } else switch (TYPE) {\n          case 4: return false;             // every\n          case 7: push.call(target, value); // filterOut\n        }\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.forEach` method\n  // https://tc39.es/ecma262/#sec-array.prototype.foreach\n  forEach: createMethod(0),\n  // `Array.prototype.map` method\n  // https://tc39.es/ecma262/#sec-array.prototype.map\n  map: createMethod(1),\n  // `Array.prototype.filter` method\n  // https://tc39.es/ecma262/#sec-array.prototype.filter\n  filter: createMethod(2),\n  // `Array.prototype.some` method\n  // https://tc39.es/ecma262/#sec-array.prototype.some\n  some: createMethod(3),\n  // `Array.prototype.every` method\n  // https://tc39.es/ecma262/#sec-array.prototype.every\n  every: createMethod(4),\n  // `Array.prototype.find` method\n  // https://tc39.es/ecma262/#sec-array.prototype.find\n  find: createMethod(5),\n  // `Array.prototype.findIndex` method\n  // https://tc39.es/ecma262/#sec-array.prototype.findIndex\n  findIndex: createMethod(6),\n  // `Array.prototype.filterOut` method\n  // https://github.com/tc39/proposal-array-filtering\n  filterOut: createMethod(7)\n};\n","'use strict';\n\nvar merge = require('../functions/merge');\nvar defaultsPure = require('../functions/defaultsPure');\nvar orderBy = require('../functions/orderBy');\nvar compact = require('../functions/compact');\nvar find = require('../functions/find');\nvar findIndex = require('../functions/findIndex');\nvar formatSort = require('../functions/formatSort');\n\nvar generateHierarchicalTree = require('./generate-hierarchical-tree');\n\n/**\n * @typedef SearchResults.Facet\n * @type {object}\n * @property {string} name name of the attribute in the record\n * @property {object} data the faceting data: value, number of entries\n * @property {object} stats undefined unless facet_stats is retrieved from algolia\n */\n\n/**\n * @typedef SearchResults.HierarchicalFacet\n * @type {object}\n * @property {string} name name of the current value given the hierarchical level, trimmed.\n * If root node, you get the facet name\n * @property {number} count number of objects matching this hierarchical value\n * @property {string} path the current hierarchical value full path\n * @property {boolean} isRefined `true` if the current value was refined, `false` otherwise\n * @property {HierarchicalFacet[]} data sub values for the current level\n */\n\n/**\n * @typedef SearchResults.FacetValue\n * @type {object}\n * @property {string} name the facet value itself\n * @property {number} count times this facet appears in the results\n * @property {boolean} isRefined is the facet currently selected\n * @property {boolean} isExcluded is the facet currently excluded (only for conjunctive facets)\n */\n\n/**\n * @typedef Refinement\n * @type {object}\n * @property {string} type the type of filter used:\n * `numeric`, `facet`, `exclude`, `disjunctive`, `hierarchical`\n * @property {string} attributeName name of the attribute used for filtering\n * @property {string} name the value of the filter\n * @property {number} numericValue the value as a number. Only for numeric filters.\n * @property {string} operator the operator used. Only for numeric filters.\n * @property {number} count the number of computed hits for this filter. Only on facets.\n * @property {boolean} exhaustive if the count is exhaustive\n */\n\n/**\n * @param {string[]} attributes\n */\nfunction getIndices(attributes) {\n  var indices = {};\n\n  attributes.forEach(function(val, idx) {\n    indices[val] = idx;\n  });\n\n  return indices;\n}\n\nfunction assignFacetStats(dest, facetStats, key) {\n  if (facetStats && facetStats[key]) {\n    dest.stats = facetStats[key];\n  }\n}\n\n/**\n * @typedef {Object} HierarchicalFacet\n * @property {string} name\n * @property {string[]} attributes\n */\n\n/**\n * @param {HierarchicalFacet[]} hierarchicalFacets\n * @param {string} hierarchicalAttributeName\n */\nfunction findMatchingHierarchicalFacetFromAttributeName(\n  hierarchicalFacets,\n  hierarchicalAttributeName\n) {\n  return find(hierarchicalFacets, function facetKeyMatchesAttribute(\n    hierarchicalFacet\n  ) {\n    var facetNames = hierarchicalFacet.attributes || [];\n    return facetNames.indexOf(hierarchicalAttributeName) > -1;\n  });\n}\n\n/*eslint-disable */\n/**\n * Constructor for SearchResults\n * @class\n * @classdesc SearchResults contains the results of a query to Algolia using the\n * {@link AlgoliaSearchHelper}.\n * @param {SearchParameters} state state that led to the response\n * @param {array.<object>} results the results from algolia client\n * @example <caption>SearchResults of the first query in\n * <a href=\"http://demos.algolia.com/instant-search-demo\">the instant search demo</a></caption>\n{\n   \"hitsPerPage\": 10,\n   \"processingTimeMS\": 2,\n   \"facets\": [\n      {\n         \"name\": \"type\",\n         \"data\": {\n            \"HardGood\": 6627,\n            \"BlackTie\": 550,\n            \"Music\": 665,\n            \"Software\": 131,\n            \"Game\": 456,\n            \"Movie\": 1571\n         },\n         \"exhaustive\": false\n      },\n      {\n         \"exhaustive\": false,\n         \"data\": {\n            \"Free shipping\": 5507\n         },\n         \"name\": \"shipping\"\n      }\n  ],\n   \"hits\": [\n      {\n         \"thumbnailImage\": \"http://img.bbystatic.com/BestBuy_US/images/products/1688/1688832_54x108_s.gif\",\n         \"_highlightResult\": {\n            \"shortDescription\": {\n               \"matchLevel\": \"none\",\n               \"value\": \"Safeguard your PC, Mac, Android and iOS devices with comprehensive Internet protection\",\n               \"matchedWords\": []\n            },\n            \"category\": {\n               \"matchLevel\": \"none\",\n               \"value\": \"Computer Security Software\",\n               \"matchedWords\": []\n            },\n            \"manufacturer\": {\n               \"matchedWords\": [],\n               \"value\": \"Webroot\",\n               \"matchLevel\": \"none\"\n            },\n            \"name\": {\n               \"value\": \"Webroot SecureAnywhere Internet Security (3-Device) (1-Year Subscription) - Mac/Windows\",\n               \"matchedWords\": [],\n               \"matchLevel\": \"none\"\n            }\n         },\n         \"image\": \"http://img.bbystatic.com/BestBuy_US/images/products/1688/1688832_105x210_sc.jpg\",\n         \"shipping\": \"Free shipping\",\n         \"bestSellingRank\": 4,\n         \"shortDescription\": \"Safeguard your PC, Mac, Android and iOS devices with comprehensive Internet protection\",\n         \"url\": \"http://www.bestbuy.com/site/webroot-secureanywhere-internet-security-3-devid=1219060687969&skuId=1688832&cmp=RMX&ky=2d3GfEmNIzjA0vkzveHdZEBgpPCyMnLTJ\",\n         \"name\": \"Webroot SecureAnywhere Internet Security (3-Device) (1-Year Subscription) - Mac/Windows\",\n         \"category\": \"Computer Security Software\",\n         \"salePrice_range\": \"1 - 50\",\n         \"objectID\": \"1688832\",\n         \"type\": \"Software\",\n         \"customerReviewCount\": 5980,\n         \"salePrice\": 49.99,\n         \"manufacturer\": \"Webroot\"\n      },\n      ....\n  ],\n   \"nbHits\": 10000,\n   \"disjunctiveFacets\": [\n      {\n         \"exhaustive\": false,\n         \"data\": {\n            \"5\": 183,\n            \"12\": 112,\n            \"7\": 149,\n            ...\n         },\n         \"name\": \"customerReviewCount\",\n         \"stats\": {\n            \"max\": 7461,\n            \"avg\": 157.939,\n            \"min\": 1\n         }\n      },\n      {\n         \"data\": {\n            \"Printer Ink\": 142,\n            \"Wireless Speakers\": 60,\n            \"Point & Shoot Cameras\": 48,\n            ...\n         },\n         \"name\": \"category\",\n         \"exhaustive\": false\n      },\n      {\n         \"exhaustive\": false,\n         \"data\": {\n            \"> 5000\": 2,\n            \"1 - 50\": 6524,\n            \"501 - 2000\": 566,\n            \"201 - 500\": 1501,\n            \"101 - 200\": 1360,\n            \"2001 - 5000\": 47\n         },\n         \"name\": \"salePrice_range\"\n      },\n      {\n         \"data\": {\n            \"Dynex\": 202,\n            \"Insignia\": 230,\n            \"PNY\": 72,\n            ...\n         },\n         \"name\": \"manufacturer\",\n         \"exhaustive\": false\n      }\n  ],\n   \"query\": \"\",\n   \"nbPages\": 100,\n   \"page\": 0,\n   \"index\": \"bestbuy\"\n}\n **/\n/*eslint-enable */\nfunction SearchResults(state, results) {\n  var mainSubResponse = results[0];\n\n  this._rawResults = results;\n\n  var self = this;\n\n  // https://www.algolia.com/doc/api-reference/api-methods/search/#response\n  Object.keys(mainSubResponse).forEach(function(key) {\n    self[key] = mainSubResponse[key];\n  });\n\n  /**\n   * query used to generate the results\n   * @name query\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * The query as parsed by the engine given all the rules.\n   * @name parsedQuery\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * all the records that match the search parameters. Each record is\n   * augmented with a new attribute `_highlightResult`\n   * which is an object keyed by attribute and with the following properties:\n   *  - `value` : the value of the facet highlighted (html)\n   *  - `matchLevel`: full, partial or none depending on how the query terms match\n   * @name hits\n   * @member {object[]}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * index where the results come from\n   * @name index\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * number of hits per page requested\n   * @name hitsPerPage\n   * @member {number}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * total number of hits of this query on the index\n   * @name nbHits\n   * @member {number}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * total number of pages with respect to the number of hits per page and the total number of hits\n   * @name nbPages\n   * @member {number}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * current page\n   * @name page\n   * @member {number}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * The position if the position was guessed by IP.\n   * @name aroundLatLng\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   * @example \"48.8637,2.3615\",\n   */\n  /**\n   * The radius computed by Algolia.\n   * @name automaticRadius\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   * @example \"126792922\",\n   */\n  /**\n   * String identifying the server used to serve this request.\n   *\n   * getRankingInfo needs to be set to `true` for this to be returned\n   *\n   * @name serverUsed\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   * @example \"c7-use-2.algolia.net\",\n   */\n  /**\n   * Boolean that indicates if the computation of the counts did time out.\n   * @deprecated\n   * @name timeoutCounts\n   * @member {boolean}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * Boolean that indicates if the computation of the hits did time out.\n   * @deprecated\n   * @name timeoutHits\n   * @member {boolean}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * True if the counts of the facets is exhaustive\n   * @name exhaustiveFacetsCount\n   * @member {boolean}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * True if the number of hits is exhaustive\n   * @name exhaustiveNbHits\n   * @member {boolean}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * Contains the userData if they are set by a [query rule](https://www.algolia.com/doc/guides/query-rules/query-rules-overview/).\n   * @name userData\n   * @member {object[]}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * queryID is the unique identifier of the query used to generate the current search results.\n   * This value is only available if the `clickAnalytics` search parameter is set to `true`.\n   * @name queryID\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   */\n\n  /**\n   * sum of the processing time of all the queries\n   * @member {number}\n   */\n  this.processingTimeMS = results.reduce(function(sum, result) {\n    return result.processingTimeMS === undefined\n      ? sum\n      : sum + result.processingTimeMS;\n  }, 0);\n\n  /**\n   * disjunctive facets results\n   * @member {SearchResults.Facet[]}\n   */\n  this.disjunctiveFacets = [];\n  /**\n   * disjunctive facets results\n   * @member {SearchResults.HierarchicalFacet[]}\n   */\n  this.hierarchicalFacets = state.hierarchicalFacets.map(function initFutureTree() {\n    return [];\n  });\n  /**\n   * other facets results\n   * @member {SearchResults.Facet[]}\n   */\n  this.facets = [];\n\n  var disjunctiveFacets = state.getRefinedDisjunctiveFacets();\n\n  var facetsIndices = getIndices(state.facets);\n  var disjunctiveFacetsIndices = getIndices(state.disjunctiveFacets);\n  var nextDisjunctiveResult = 1;\n\n  // Since we send request only for disjunctive facets that have been refined,\n  // we get the facets information from the first, general, response.\n\n  var mainFacets = mainSubResponse.facets || {};\n\n  Object.keys(mainFacets).forEach(function(facetKey) {\n    var facetValueObject = mainFacets[facetKey];\n\n    var hierarchicalFacet = findMatchingHierarchicalFacetFromAttributeName(\n      state.hierarchicalFacets,\n      facetKey\n    );\n\n    if (hierarchicalFacet) {\n      // Place the hierarchicalFacet data at the correct index depending on\n      // the attributes order that was defined at the helper initialization\n      var facetIndex = hierarchicalFacet.attributes.indexOf(facetKey);\n      var idxAttributeName = findIndex(state.hierarchicalFacets, function(f) {\n        return f.name === hierarchicalFacet.name;\n      });\n      self.hierarchicalFacets[idxAttributeName][facetIndex] = {\n        attribute: facetKey,\n        data: facetValueObject,\n        exhaustive: mainSubResponse.exhaustiveFacetsCount\n      };\n    } else {\n      var isFacetDisjunctive = state.disjunctiveFacets.indexOf(facetKey) !== -1;\n      var isFacetConjunctive = state.facets.indexOf(facetKey) !== -1;\n      var position;\n\n      if (isFacetDisjunctive) {\n        position = disjunctiveFacetsIndices[facetKey];\n        self.disjunctiveFacets[position] = {\n          name: facetKey,\n          data: facetValueObject,\n          exhaustive: mainSubResponse.exhaustiveFacetsCount\n        };\n        assignFacetStats(self.disjunctiveFacets[position], mainSubResponse.facets_stats, facetKey);\n      }\n      if (isFacetConjunctive) {\n        position = facetsIndices[facetKey];\n        self.facets[position] = {\n          name: facetKey,\n          data: facetValueObject,\n          exhaustive: mainSubResponse.exhaustiveFacetsCount\n        };\n        assignFacetStats(self.facets[position], mainSubResponse.facets_stats, facetKey);\n      }\n    }\n  });\n\n  // Make sure we do not keep holes within the hierarchical facets\n  this.hierarchicalFacets = compact(this.hierarchicalFacets);\n\n  // aggregate the refined disjunctive facets\n  disjunctiveFacets.forEach(function(disjunctiveFacet) {\n    var result = results[nextDisjunctiveResult];\n    var facets = result && result.facets ? result.facets : {};\n    var hierarchicalFacet = state.getHierarchicalFacetByName(disjunctiveFacet);\n\n    // There should be only item in facets.\n    Object.keys(facets).forEach(function(dfacet) {\n      var facetResults = facets[dfacet];\n\n      var position;\n\n      if (hierarchicalFacet) {\n        position = findIndex(state.hierarchicalFacets, function(f) {\n          return f.name === hierarchicalFacet.name;\n        });\n        var attributeIndex = findIndex(self.hierarchicalFacets[position], function(f) {\n          return f.attribute === dfacet;\n        });\n\n        // previous refinements and no results so not able to find it\n        if (attributeIndex === -1) {\n          return;\n        }\n\n        self.hierarchicalFacets[position][attributeIndex].data = merge(\n          {},\n          self.hierarchicalFacets[position][attributeIndex].data,\n          facetResults\n        );\n      } else {\n        position = disjunctiveFacetsIndices[dfacet];\n\n        var dataFromMainRequest = mainSubResponse.facets && mainSubResponse.facets[dfacet] || {};\n\n        self.disjunctiveFacets[position] = {\n          name: dfacet,\n          data: defaultsPure({}, facetResults, dataFromMainRequest),\n          exhaustive: result.exhaustiveFacetsCount\n        };\n        assignFacetStats(self.disjunctiveFacets[position], result.facets_stats, dfacet);\n\n        if (state.disjunctiveFacetsRefinements[dfacet]) {\n          state.disjunctiveFacetsRefinements[dfacet].forEach(function(refinementValue) {\n            // add the disjunctive refinements if it is no more retrieved\n            if (!self.disjunctiveFacets[position].data[refinementValue] &&\n              state.disjunctiveFacetsRefinements[dfacet].indexOf(refinementValue) > -1) {\n              self.disjunctiveFacets[position].data[refinementValue] = 0;\n            }\n          });\n        }\n      }\n    });\n    nextDisjunctiveResult++;\n  });\n\n  // if we have some root level values for hierarchical facets, merge them\n  state.getRefinedHierarchicalFacets().forEach(function(refinedFacet) {\n    var hierarchicalFacet = state.getHierarchicalFacetByName(refinedFacet);\n    var separator = state._getHierarchicalFacetSeparator(hierarchicalFacet);\n\n    var currentRefinement = state.getHierarchicalRefinement(refinedFacet);\n    // if we are already at a root refinement (or no refinement at all), there is no\n    // root level values request\n    if (currentRefinement.length === 0 || currentRefinement[0].split(separator).length < 2) {\n      return;\n    }\n\n    var result = results[nextDisjunctiveResult];\n    var facets = result && result.facets\n      ? result.facets\n      : {};\n    Object.keys(facets).forEach(function(dfacet) {\n      var facetResults = facets[dfacet];\n      var position = findIndex(state.hierarchicalFacets, function(f) {\n        return f.name === hierarchicalFacet.name;\n      });\n      var attributeIndex = findIndex(self.hierarchicalFacets[position], function(f) {\n        return f.attribute === dfacet;\n      });\n\n      // previous refinements and no results so not able to find it\n      if (attributeIndex === -1) {\n        return;\n      }\n\n      // when we always get root levels, if the hits refinement is `beers > IPA` (count: 5),\n      // then the disjunctive values will be `beers` (count: 100),\n      // but we do not want to display\n      //   | beers (100)\n      //     > IPA (5)\n      // We want\n      //   | beers (5)\n      //     > IPA (5)\n      var defaultData = {};\n\n      if (currentRefinement.length > 0) {\n        var root = currentRefinement[0].split(separator)[0];\n        defaultData[root] = self.hierarchicalFacets[position][attributeIndex].data[root];\n      }\n\n      self.hierarchicalFacets[position][attributeIndex].data = defaultsPure(\n        defaultData,\n        facetResults,\n        self.hierarchicalFacets[position][attributeIndex].data\n      );\n    });\n\n    nextDisjunctiveResult++;\n  });\n\n  // add the excludes\n  Object.keys(state.facetsExcludes).forEach(function(facetName) {\n    var excludes = state.facetsExcludes[facetName];\n    var position = facetsIndices[facetName];\n\n    self.facets[position] = {\n      name: facetName,\n      data: mainSubResponse.facets[facetName],\n      exhaustive: mainSubResponse.exhaustiveFacetsCount\n    };\n    excludes.forEach(function(facetValue) {\n      self.facets[position] = self.facets[position] || {name: facetName};\n      self.facets[position].data = self.facets[position].data || {};\n      self.facets[position].data[facetValue] = 0;\n    });\n  });\n\n  /**\n   * @type {Array}\n   */\n  this.hierarchicalFacets = this.hierarchicalFacets.map(generateHierarchicalTree(state));\n\n  /**\n   * @type {Array}\n   */\n  this.facets = compact(this.facets);\n  /**\n   * @type {Array}\n   */\n  this.disjunctiveFacets = compact(this.disjunctiveFacets);\n\n  this._state = state;\n}\n\n/**\n * Get a facet object with its name\n * @deprecated\n * @param {string} name name of the faceted attribute\n * @return {SearchResults.Facet} the facet object\n */\nSearchResults.prototype.getFacetByName = function(name) {\n  function predicate(facet) {\n    return facet.name === name;\n  }\n\n  return find(this.facets, predicate) ||\n    find(this.disjunctiveFacets, predicate) ||\n    find(this.hierarchicalFacets, predicate);\n};\n\n/**\n * Get the facet values of a specified attribute from a SearchResults object.\n * @private\n * @param {SearchResults} results the search results to search in\n * @param {string} attribute name of the faceted attribute to search for\n * @return {array|object} facet values. For the hierarchical facets it is an object.\n */\nfunction extractNormalizedFacetValues(results, attribute) {\n  function predicate(facet) {\n    return facet.name === attribute;\n  }\n\n  if (results._state.isConjunctiveFacet(attribute)) {\n    var facet = find(results.facets, predicate);\n    if (!facet) return [];\n\n    return Object.keys(facet.data).map(function(name) {\n      return {\n        name: name,\n        count: facet.data[name],\n        isRefined: results._state.isFacetRefined(attribute, name),\n        isExcluded: results._state.isExcludeRefined(attribute, name)\n      };\n    });\n  } else if (results._state.isDisjunctiveFacet(attribute)) {\n    var disjunctiveFacet = find(results.disjunctiveFacets, predicate);\n    if (!disjunctiveFacet) return [];\n\n    return Object.keys(disjunctiveFacet.data).map(function(name) {\n      return {\n        name: name,\n        count: disjunctiveFacet.data[name],\n        isRefined: results._state.isDisjunctiveFacetRefined(attribute, name)\n      };\n    });\n  } else if (results._state.isHierarchicalFacet(attribute)) {\n    return find(results.hierarchicalFacets, predicate);\n  }\n}\n\n/**\n * Sort nodes of a hierarchical facet results\n * @private\n * @param {HierarchicalFacet} node node to upon which we want to apply the sort\n */\nfunction recSort(sortFn, node) {\n  if (!node.data || node.data.length === 0) {\n    return node;\n  }\n\n  var children = node.data.map(function(childNode) {\n    return recSort(sortFn, childNode);\n  });\n  var sortedChildren = sortFn(children);\n  var newNode = merge({}, node, {data: sortedChildren});\n  return newNode;\n}\n\nSearchResults.DEFAULT_SORT = ['isRefined:desc', 'count:desc', 'name:asc'];\n\nfunction vanillaSortFn(order, data) {\n  return data.sort(order);\n}\n\n/**\n * Get a the list of values for a given facet attribute. Those values are sorted\n * refinement first, descending count (bigger value on top), and name ascending\n * (alphabetical order). The sort formula can overridden using either string based\n * predicates or a function.\n *\n * This method will return all the values returned by the Algolia engine plus all\n * the values already refined. This means that it can happen that the\n * `maxValuesPerFacet` [configuration](https://www.algolia.com/doc/rest-api/search#param-maxValuesPerFacet)\n * might not be respected if you have facet values that are already refined.\n * @param {string} attribute attribute name\n * @param {object} opts configuration options.\n * @param {Array.<string> | function} opts.sortBy\n * When using strings, it consists of\n * the name of the [FacetValue](#SearchResults.FacetValue) or the\n * [HierarchicalFacet](#SearchResults.HierarchicalFacet) attributes with the\n * order (`asc` or `desc`). For example to order the value by count, the\n * argument would be `['count:asc']`.\n *\n * If only the attribute name is specified, the ordering defaults to the one\n * specified in the default value for this attribute.\n *\n * When not specified, the order is\n * ascending.  This parameter can also be a function which takes two facet\n * values and should return a number, 0 if equal, 1 if the first argument is\n * bigger or -1 otherwise.\n *\n * The default value for this attribute `['isRefined:desc', 'count:desc', 'name:asc']`\n * @return {FacetValue[]|HierarchicalFacet|undefined} depending on the type of facet of\n * the attribute requested (hierarchical, disjunctive or conjunctive)\n * @example\n * helper.on('result', function(event){\n *   //get values ordered only by name ascending using the string predicate\n *   event.results.getFacetValues('city', {sortBy: ['name:asc']});\n *   //get values  ordered only by count ascending using a function\n *   event.results.getFacetValues('city', {\n *     // this is equivalent to ['count:asc']\n *     sortBy: function(a, b) {\n *       if (a.count === b.count) return 0;\n *       if (a.count > b.count)   return 1;\n *       if (b.count > a.count)   return -1;\n *     }\n *   });\n * });\n */\nSearchResults.prototype.getFacetValues = function(attribute, opts) {\n  var facetValues = extractNormalizedFacetValues(this, attribute);\n  if (!facetValues) {\n    return undefined;\n  }\n\n  var options = defaultsPure({}, opts, {sortBy: SearchResults.DEFAULT_SORT});\n\n  if (Array.isArray(options.sortBy)) {\n    var order = formatSort(options.sortBy, SearchResults.DEFAULT_SORT);\n    if (Array.isArray(facetValues)) {\n      return orderBy(facetValues, order[0], order[1]);\n    }\n    // If facetValues is not an array, it's an object thus a hierarchical facet object\n    return recSort(function(hierarchicalFacetValues) {\n      return orderBy(hierarchicalFacetValues, order[0], order[1]);\n    }, facetValues);\n  } else if (typeof options.sortBy === 'function') {\n    if (Array.isArray(facetValues)) {\n      return facetValues.sort(options.sortBy);\n    }\n    // If facetValues is not an array, it's an object thus a hierarchical facet object\n    return recSort(function(data) {\n      return vanillaSortFn(options.sortBy, data);\n    }, facetValues);\n  }\n  throw new Error(\n    'options.sortBy is optional but if defined it must be ' +\n    'either an array of string (predicates) or a sorting function'\n  );\n};\n\n/**\n * Returns the facet stats if attribute is defined and the facet contains some.\n * Otherwise returns undefined.\n * @param {string} attribute name of the faceted attribute\n * @return {object} The stats of the facet\n */\nSearchResults.prototype.getFacetStats = function(attribute) {\n  if (this._state.isConjunctiveFacet(attribute)) {\n    return getFacetStatsIfAvailable(this.facets, attribute);\n  } else if (this._state.isDisjunctiveFacet(attribute)) {\n    return getFacetStatsIfAvailable(this.disjunctiveFacets, attribute);\n  }\n\n  return undefined;\n};\n\n/**\n * @typedef {Object} FacetListItem\n * @property {string} name\n */\n\n/**\n * @param {FacetListItem[]} facetList (has more items, but enough for here)\n * @param {string} facetName\n */\nfunction getFacetStatsIfAvailable(facetList, facetName) {\n  var data = find(facetList, function(facet) {\n    return facet.name === facetName;\n  });\n  return data && data.stats;\n}\n\n/**\n * Returns all refinements for all filters + tags. It also provides\n * additional information: count and exhaustiveness for each filter.\n *\n * See the [refinement type](#Refinement) for an exhaustive view of the available\n * data.\n *\n * Note that for a numeric refinement, results are grouped per operator, this\n * means that it will return responses for operators which are empty.\n *\n * @return {Array.<Refinement>} all the refinements\n */\nSearchResults.prototype.getRefinements = function() {\n  var state = this._state;\n  var results = this;\n  var res = [];\n\n  Object.keys(state.facetsRefinements).forEach(function(attributeName) {\n    state.facetsRefinements[attributeName].forEach(function(name) {\n      res.push(getRefinement(state, 'facet', attributeName, name, results.facets));\n    });\n  });\n\n  Object.keys(state.facetsExcludes).forEach(function(attributeName) {\n    state.facetsExcludes[attributeName].forEach(function(name) {\n      res.push(getRefinement(state, 'exclude', attributeName, name, results.facets));\n    });\n  });\n\n  Object.keys(state.disjunctiveFacetsRefinements).forEach(function(attributeName) {\n    state.disjunctiveFacetsRefinements[attributeName].forEach(function(name) {\n      res.push(getRefinement(state, 'disjunctive', attributeName, name, results.disjunctiveFacets));\n    });\n  });\n\n  Object.keys(state.hierarchicalFacetsRefinements).forEach(function(attributeName) {\n    state.hierarchicalFacetsRefinements[attributeName].forEach(function(name) {\n      res.push(getHierarchicalRefinement(state, attributeName, name, results.hierarchicalFacets));\n    });\n  });\n\n\n  Object.keys(state.numericRefinements).forEach(function(attributeName) {\n    var operators = state.numericRefinements[attributeName];\n    Object.keys(operators).forEach(function(operator) {\n      operators[operator].forEach(function(value) {\n        res.push({\n          type: 'numeric',\n          attributeName: attributeName,\n          name: value,\n          numericValue: value,\n          operator: operator\n        });\n      });\n    });\n  });\n\n  state.tagRefinements.forEach(function(name) {\n    res.push({type: 'tag', attributeName: '_tags', name: name});\n  });\n\n  return res;\n};\n\n/**\n * @typedef {Object} Facet\n * @property {string} name\n * @property {Object} data\n * @property {boolean} exhaustive\n */\n\n/**\n * @param {*} state\n * @param {*} type\n * @param {string} attributeName\n * @param {*} name\n * @param {Facet[]} resultsFacets\n */\nfunction getRefinement(state, type, attributeName, name, resultsFacets) {\n  var facet = find(resultsFacets, function(f) {\n    return f.name === attributeName;\n  });\n  var count = facet && facet.data && facet.data[name] ? facet.data[name] : 0;\n  var exhaustive = (facet && facet.exhaustive) || false;\n\n  return {\n    type: type,\n    attributeName: attributeName,\n    name: name,\n    count: count,\n    exhaustive: exhaustive\n  };\n}\n\n/**\n * @param {*} state\n * @param {string} attributeName\n * @param {*} name\n * @param {Facet[]} resultsFacets\n */\nfunction getHierarchicalRefinement(state, attributeName, name, resultsFacets) {\n  var facetDeclaration = state.getHierarchicalFacetByName(attributeName);\n  var separator = state._getHierarchicalFacetSeparator(facetDeclaration);\n  var split = name.split(separator);\n  var rootFacet = find(resultsFacets, function(facet) {\n    return facet.name === attributeName;\n  });\n\n  var facet = split.reduce(function(intermediateFacet, part) {\n    var newFacet =\n      intermediateFacet && find(intermediateFacet.data, function(f) {\n        return f.name === part;\n      });\n    return newFacet !== undefined ? newFacet : intermediateFacet;\n  }, rootFacet);\n\n  var count = (facet && facet.count) || 0;\n  var exhaustive = (facet && facet.exhaustive) || false;\n  var path = (facet && facet.path) || '';\n\n  return {\n    type: 'hierarchical',\n    attributeName: attributeName,\n    name: path,\n    count: count,\n    exhaustive: exhaustive\n  };\n}\n\nmodule.exports = SearchResults;\n","var isObject = require('../internals/is-object');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","module.exports = false;\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var has = require('../internals/has');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","'use strict';\n\nfunction compareAscending(value, other) {\n  if (value !== other) {\n    var valIsDefined = value !== undefined;\n    var valIsNull = value === null;\n\n    var othIsDefined = other !== undefined;\n    var othIsNull = other === null;\n\n    if (\n      (!othIsNull && value > other) ||\n      (valIsNull && othIsDefined) ||\n      !valIsDefined\n    ) {\n      return 1;\n    }\n    if (\n      (!valIsNull && value < other) ||\n      (othIsNull && valIsDefined) ||\n      !othIsDefined\n    ) {\n      return -1;\n    }\n  }\n  return 0;\n}\n\n/**\n * @param {Array<object>} collection object with keys in attributes\n * @param {Array<string>} iteratees attributes\n * @param {Array<string>} orders asc | desc\n */\nfunction orderBy(collection, iteratees, orders) {\n  if (!Array.isArray(collection)) {\n    return [];\n  }\n\n  if (!Array.isArray(orders)) {\n    orders = [];\n  }\n\n  var result = collection.map(function(value, index) {\n    return {\n      criteria: iteratees.map(function(iteratee) {\n        return value[iteratee];\n      }),\n      index: index,\n      value: value\n    };\n  });\n\n  result.sort(function comparer(object, other) {\n    var index = -1;\n\n    while (++index < object.criteria.length) {\n      var res = compareAscending(object.criteria[index], other.criteria[index]);\n      if (res) {\n        if (index >= orders.length) {\n          return res;\n        }\n        if (orders[index] === 'desc') {\n          return -res;\n        }\n        return res;\n      }\n    }\n\n    // This ensures a stable sort in V8 and other engines.\n    // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n    return object.index - other.index;\n  });\n\n  return result.map(function(res) {\n    return res.value;\n  });\n}\n\nmodule.exports = orderBy;\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var $ = require('../internals/export');\nvar assign = require('../internals/object-assign');\n\n// `Object.assign` method\n// https://tc39.es/ecma262/#sec-object.assign\n// eslint-disable-next-line es/no-object-assign -- required for testing\n$({ target: 'Object', stat: true, forced: Object.assign !== assign }, {\n  assign: assign\n});\n","var anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar newPromiseCapability = require('../internals/new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (key, value) {\n  try {\n    createNonEnumerableProperty(global, key, value);\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","module.exports = {};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","var path = require('../internals/path');\nvar global = require('../internals/global');\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n","'use strict';\nvar $propertyIsEnumerable = {}.propertyIsEnumerable;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : $propertyIsEnumerable;\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty;\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nvar compactQueue = function compactQueue(queue) {\n    var obj;\n\n    while (queue.length) {\n        var item = queue.pop();\n        obj = item.obj[item.prop];\n\n        if (Array.isArray(obj)) {\n            var compacted = [];\n\n            for (var j = 0; j < obj.length; ++j) {\n                if (typeof obj[j] !== 'undefined') {\n                    compacted.push(obj[j]);\n                }\n            }\n\n            item.obj[item.prop] = compacted;\n        }\n    }\n\n    return obj;\n};\n\nvar arrayToObject = function arrayToObject(source, options) {\n    var obj = options && options.plainObjects ? Object.create(null) : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nvar merge = function merge(target, source, options) {\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object') {\n        if (Array.isArray(target)) {\n            target.push(source);\n        } else if (typeof target === 'object') {\n            if (options.plainObjects || options.allowPrototypes || !has.call(Object.prototype, source)) {\n                target[source] = true;\n            }\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (Array.isArray(target) && !Array.isArray(source)) {\n        mergeTarget = arrayToObject(target, options);\n    }\n\n    if (Array.isArray(target) && Array.isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                if (target[i] && typeof target[i] === 'object') {\n                    target[i] = merge(target[i], item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (has.call(acc, key)) {\n            acc[key] = merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nvar assign = function assignSingleSource(target, source) {\n    return Object.keys(source).reduce(function (acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n};\n\nvar decode = function (str) {\n    try {\n        return decodeURIComponent(str.replace(/\\+/g, ' '));\n    } catch (e) {\n        return str;\n    }\n};\n\nvar encode = function encode(str) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = typeof str === 'string' ? str : String(str);\n\n    var out = '';\n    for (var i = 0; i < string.length; ++i) {\n        var c = string.charCodeAt(i);\n\n        if (\n            c === 0x2D // -\n            || c === 0x2E // .\n            || c === 0x5F // _\n            || c === 0x7E // ~\n            || (c >= 0x30 && c <= 0x39) // 0-9\n            || (c >= 0x41 && c <= 0x5A) // a-z\n            || (c >= 0x61 && c <= 0x7A) // A-Z\n        ) {\n            out += string.charAt(i);\n            continue;\n        }\n\n        if (c < 0x80) {\n            out = out + hexTable[c];\n            continue;\n        }\n\n        if (c < 0x800) {\n            out = out + (hexTable[0xC0 | (c >> 6)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        if (c < 0xD800 || c >= 0xE000) {\n            out = out + (hexTable[0xE0 | (c >> 12)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        i += 1;\n        c = 0x10000 + (((c & 0x3FF) << 10) | (string.charCodeAt(i) & 0x3FF));\n        out += hexTable[0xF0 | (c >> 18)]\n            + hexTable[0x80 | ((c >> 12) & 0x3F)]\n            + hexTable[0x80 | ((c >> 6) & 0x3F)]\n            + hexTable[0x80 | (c & 0x3F)];\n    }\n\n    return out;\n};\n\nvar compact = function compact(value) {\n    var queue = [{ obj: { o: value }, prop: 'o' }];\n    var refs = [];\n\n    for (var i = 0; i < queue.length; ++i) {\n        var item = queue[i];\n        var obj = item.obj[item.prop];\n\n        var keys = Object.keys(obj);\n        for (var j = 0; j < keys.length; ++j) {\n            var key = keys[j];\n            var val = obj[key];\n            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n                queue.push({ obj: obj, prop: key });\n                refs.push(val);\n            }\n        }\n    }\n\n    return compactQueue(queue);\n};\n\nvar isRegExp = function isRegExp(obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nvar isBuffer = function isBuffer(obj) {\n    if (obj === null || typeof obj === 'undefined') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n\nmodule.exports = {\n    arrayToObject: arrayToObject,\n    assign: assign,\n    compact: compact,\n    decode: decode,\n    encode: encode,\n    isBuffer: isBuffer,\n    isRegExp: isRegExp,\n    merge: merge\n};\n","'use strict';\n\nvar merge = require('./functions/merge');\n\nvar requestBuilder = {\n  /**\n   * Get all the queries to send to the client, those queries can used directly\n   * with the Algolia client.\n   * @private\n   * @return {object[]} The queries\n   */\n  _getQueries: function getQueries(index, state) {\n    var queries = [];\n\n    // One query for the hits\n    queries.push({\n      indexName: index,\n      params: requestBuilder._getHitsSearchParams(state)\n    });\n\n    // One for each disjunctive facets\n    state.getRefinedDisjunctiveFacets().forEach(function(refinedFacet) {\n      queries.push({\n        indexName: index,\n        params: requestBuilder._getDisjunctiveFacetSearchParams(state, refinedFacet)\n      });\n    });\n\n    // maybe more to get the root level of hierarchical facets when activated\n    state.getRefinedHierarchicalFacets().forEach(function(refinedFacet) {\n      var hierarchicalFacet = state.getHierarchicalFacetByName(refinedFacet);\n\n      var currentRefinement = state.getHierarchicalRefinement(refinedFacet);\n      // if we are deeper than level 0 (starting from `beer > IPA`)\n      // we want to get the root values\n      var separator = state._getHierarchicalFacetSeparator(hierarchicalFacet);\n      if (currentRefinement.length > 0 && currentRefinement[0].split(separator).length > 1) {\n        queries.push({\n          indexName: index,\n          params: requestBuilder._getDisjunctiveFacetSearchParams(state, refinedFacet, true)\n        });\n      }\n    });\n\n    return queries;\n  },\n\n  /**\n   * Build search parameters used to fetch hits\n   * @private\n   * @return {object.<string, any>}\n   */\n  _getHitsSearchParams: function(state) {\n    var facets = state.facets\n      .concat(state.disjunctiveFacets)\n      .concat(requestBuilder._getHitsHierarchicalFacetsAttributes(state));\n\n\n    var facetFilters = requestBuilder._getFacetFilters(state);\n    var numericFilters = requestBuilder._getNumericFilters(state);\n    var tagFilters = requestBuilder._getTagFilters(state);\n    var additionalParams = {\n      facets: facets,\n      tagFilters: tagFilters\n    };\n\n    if (facetFilters.length > 0) {\n      additionalParams.facetFilters = facetFilters;\n    }\n\n    if (numericFilters.length > 0) {\n      additionalParams.numericFilters = numericFilters;\n    }\n\n    return merge({}, state.getQueryParams(), additionalParams);\n  },\n\n  /**\n   * Build search parameters used to fetch a disjunctive facet\n   * @private\n   * @param  {string} facet the associated facet name\n   * @param  {boolean} hierarchicalRootLevel ?? FIXME\n   * @return {object}\n   */\n  _getDisjunctiveFacetSearchParams: function(state, facet, hierarchicalRootLevel) {\n    var facetFilters = requestBuilder._getFacetFilters(state, facet, hierarchicalRootLevel);\n    var numericFilters = requestBuilder._getNumericFilters(state, facet);\n    var tagFilters = requestBuilder._getTagFilters(state);\n    var additionalParams = {\n      hitsPerPage: 1,\n      page: 0,\n      attributesToRetrieve: [],\n      attributesToHighlight: [],\n      attributesToSnippet: [],\n      tagFilters: tagFilters,\n      analytics: false,\n      clickAnalytics: false\n    };\n\n    var hierarchicalFacet = state.getHierarchicalFacetByName(facet);\n\n    if (hierarchicalFacet) {\n      additionalParams.facets = requestBuilder._getDisjunctiveHierarchicalFacetAttribute(\n        state,\n        hierarchicalFacet,\n        hierarchicalRootLevel\n      );\n    } else {\n      additionalParams.facets = facet;\n    }\n\n    if (numericFilters.length > 0) {\n      additionalParams.numericFilters = numericFilters;\n    }\n\n    if (facetFilters.length > 0) {\n      additionalParams.facetFilters = facetFilters;\n    }\n\n    return merge({}, state.getQueryParams(), additionalParams);\n  },\n\n  /**\n   * Return the numeric filters in an algolia request fashion\n   * @private\n   * @param {string} [facetName] the name of the attribute for which the filters should be excluded\n   * @return {string[]} the numeric filters in the algolia format\n   */\n  _getNumericFilters: function(state, facetName) {\n    if (state.numericFilters) {\n      return state.numericFilters;\n    }\n\n    var numericFilters = [];\n\n    Object.keys(state.numericRefinements).forEach(function(attribute) {\n      var operators = state.numericRefinements[attribute] || {};\n      Object.keys(operators).forEach(function(operator) {\n        var values = operators[operator] || [];\n        if (facetName !== attribute) {\n          values.forEach(function(value) {\n            if (Array.isArray(value)) {\n              var vs = value.map(function(v) {\n                return attribute + operator + v;\n              });\n              numericFilters.push(vs);\n            } else {\n              numericFilters.push(attribute + operator + value);\n            }\n          });\n        }\n      });\n    });\n\n    return numericFilters;\n  },\n\n  /**\n   * Return the tags filters depending\n   * @private\n   * @return {string}\n   */\n  _getTagFilters: function(state) {\n    if (state.tagFilters) {\n      return state.tagFilters;\n    }\n\n    return state.tagRefinements.join(',');\n  },\n\n\n  /**\n   * Build facetFilters parameter based on current refinements. The array returned\n   * contains strings representing the facet filters in the algolia format.\n   * @private\n   * @param  {string} [facet] if set, the current disjunctive facet\n   * @return {array.<string>}\n   */\n  _getFacetFilters: function(state, facet, hierarchicalRootLevel) {\n    var facetFilters = [];\n\n    var facetsRefinements = state.facetsRefinements || {};\n    Object.keys(facetsRefinements).forEach(function(facetName) {\n      var facetValues = facetsRefinements[facetName] || [];\n      facetValues.forEach(function(facetValue) {\n        facetFilters.push(facetName + ':' + facetValue);\n      });\n    });\n\n    var facetsExcludes = state.facetsExcludes || {};\n    Object.keys(facetsExcludes).forEach(function(facetName) {\n      var facetValues = facetsExcludes[facetName] || [];\n      facetValues.forEach(function(facetValue) {\n        facetFilters.push(facetName + ':-' + facetValue);\n      });\n    });\n\n    var disjunctiveFacetsRefinements = state.disjunctiveFacetsRefinements || {};\n    Object.keys(disjunctiveFacetsRefinements).forEach(function(facetName) {\n      var facetValues = disjunctiveFacetsRefinements[facetName] || [];\n      if (facetName === facet || !facetValues || facetValues.length === 0) {\n        return;\n      }\n      var orFilters = [];\n\n      facetValues.forEach(function(facetValue) {\n        orFilters.push(facetName + ':' + facetValue);\n      });\n\n      facetFilters.push(orFilters);\n    });\n\n    var hierarchicalFacetsRefinements = state.hierarchicalFacetsRefinements || {};\n    Object.keys(hierarchicalFacetsRefinements).forEach(function(facetName) {\n      var facetValues = hierarchicalFacetsRefinements[facetName] || [];\n      var facetValue = facetValues[0];\n\n      if (facetValue === undefined) {\n        return;\n      }\n\n      var hierarchicalFacet = state.getHierarchicalFacetByName(facetName);\n      var separator = state._getHierarchicalFacetSeparator(hierarchicalFacet);\n      var rootPath = state._getHierarchicalRootPath(hierarchicalFacet);\n      var attributeToRefine;\n      var attributesIndex;\n\n      // we ask for parent facet values only when the `facet` is the current hierarchical facet\n      if (facet === facetName) {\n        // if we are at the root level already, no need to ask for facet values, we get them from\n        // the hits query\n        if (facetValue.indexOf(separator) === -1 || (!rootPath && hierarchicalRootLevel === true) ||\n          (rootPath && rootPath.split(separator).length === facetValue.split(separator).length)) {\n          return;\n        }\n\n        if (!rootPath) {\n          attributesIndex = facetValue.split(separator).length - 2;\n          facetValue = facetValue.slice(0, facetValue.lastIndexOf(separator));\n        } else {\n          attributesIndex = rootPath.split(separator).length - 1;\n          facetValue = rootPath;\n        }\n\n        attributeToRefine = hierarchicalFacet.attributes[attributesIndex];\n      } else {\n        attributesIndex = facetValue.split(separator).length - 1;\n\n        attributeToRefine = hierarchicalFacet.attributes[attributesIndex];\n      }\n\n      if (attributeToRefine) {\n        facetFilters.push([attributeToRefine + ':' + facetValue]);\n      }\n    });\n\n    return facetFilters;\n  },\n\n  _getHitsHierarchicalFacetsAttributes: function(state) {\n    var out = [];\n\n    return state.hierarchicalFacets.reduce(\n      // ask for as much levels as there's hierarchical refinements\n      function getHitsAttributesForHierarchicalFacet(allAttributes, hierarchicalFacet) {\n        var hierarchicalRefinement = state.getHierarchicalRefinement(hierarchicalFacet.name)[0];\n\n        // if no refinement, ask for root level\n        if (!hierarchicalRefinement) {\n          allAttributes.push(hierarchicalFacet.attributes[0]);\n          return allAttributes;\n        }\n\n        var separator = state._getHierarchicalFacetSeparator(hierarchicalFacet);\n        var level = hierarchicalRefinement.split(separator).length;\n        var newAttributes = hierarchicalFacet.attributes.slice(0, level + 1);\n\n        return allAttributes.concat(newAttributes);\n      }, out);\n  },\n\n  _getDisjunctiveHierarchicalFacetAttribute: function(state, hierarchicalFacet, rootLevel) {\n    var separator = state._getHierarchicalFacetSeparator(hierarchicalFacet);\n    if (rootLevel === true) {\n      var rootPath = state._getHierarchicalRootPath(hierarchicalFacet);\n      var attributeIndex = 0;\n\n      if (rootPath) {\n        attributeIndex = rootPath.split(separator).length;\n      }\n      return [hierarchicalFacet.attributes[attributeIndex]];\n    }\n\n    var hierarchicalRefinement = state.getHierarchicalRefinement(hierarchicalFacet.name)[0] || '';\n    // if refinement is 'beers > IPA > Flying dog',\n    // then we want `facets: ['beers > IPA']` as disjunctive facet (parent level values)\n\n    var parentLevel = hierarchicalRefinement.split(separator).length - 1;\n    return hierarchicalFacet.attributes.slice(0, parentLevel + 1);\n  },\n\n  getSearchForFacetQuery: function(facetName, query, maxFacetHits, state) {\n    var stateForSearchForFacetValues = state.isDisjunctiveFacet(facetName) ?\n      state.clearRefinements(facetName) :\n      state;\n    var searchForFacetSearchParameters = {\n      facetQuery: query,\n      facetName: facetName\n    };\n    if (typeof maxFacetHits === 'number') {\n      searchForFacetSearchParameters.maxFacetHits = maxFacetHits;\n    }\n    return merge(\n      {},\n      requestBuilder._getHitsSearchParams(stateForSearchForFacetValues),\n      searchForFacetSearchParameters\n    );\n  }\n};\n\nmodule.exports = requestBuilder;\n","/* eslint-disable no-proto -- safe */\nvar anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n// eslint-disable-next-line es/no-object-setprototypeof -- safe\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\n    setter = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set;\n    setter.call(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter.call(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar redefine = require('../internals/redefine');\nvar toString = require('../internals/object-to-string');\n\n// `Object.prototype.toString` method\n// https://tc39.es/ecma262/#sec-object.prototype.tostring\nif (!TO_STRING_TAG_SUPPORT) {\n  redefine(Object.prototype, 'toString', toString, { unsafe: true });\n}\n","var defineProperty = require('../internals/object-define-property').f;\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nmodule.exports = function (it, TAG, STATIC) {\n  if (it && !has(it = STATIC ? it : it.prototype, TO_STRING_TAG)) {\n    defineProperty(it, TO_STRING_TAG, { configurable: true, value: TAG });\n  }\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line es/no-global-this -- safe\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  // eslint-disable-next-line no-restricted-globals -- safe\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || Function('return this')();\n","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar ArrayIteratorMethods = require('../modules/es.array.iterator');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar ArrayValues = ArrayIteratorMethods.values;\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  if (CollectionPrototype) {\n    // some Chrome versions have non-configurable methods on DOMTokenList\n    if (CollectionPrototype[ITERATOR] !== ArrayValues) try {\n      createNonEnumerableProperty(CollectionPrototype, ITERATOR, ArrayValues);\n    } catch (error) {\n      CollectionPrototype[ITERATOR] = ArrayValues;\n    }\n    if (!CollectionPrototype[TO_STRING_TAG]) {\n      createNonEnumerableProperty(CollectionPrototype, TO_STRING_TAG, COLLECTION_NAME);\n    }\n    if (DOMIterables[COLLECTION_NAME]) for (var METHOD_NAME in ArrayIteratorMethods) {\n      // some Chrome versions have non-configurable methods on DOMTokenList\n      if (CollectionPrototype[METHOD_NAME] !== ArrayIteratorMethods[METHOD_NAME]) try {\n        createNonEnumerableProperty(CollectionPrototype, METHOD_NAME, ArrayIteratorMethods[METHOD_NAME]);\n      } catch (error) {\n        CollectionPrototype[METHOD_NAME] = ArrayIteratorMethods[METHOD_NAME];\n      }\n    }\n  }\n}\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n// eslint-disable-next-line es/no-object-keys -- safe\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","var has = require('../internals/has');\nvar toObject = require('../internals/to-object');\nvar sharedKey = require('../internals/shared-key');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar ObjectPrototype = Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.getprototypeof\n// eslint-disable-next-line es/no-object-getprototypeof -- safe\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? Object.getPrototypeOf : function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectPrototype : null;\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  // eslint-disable-next-line es/no-object-getprototypeof -- required for testing\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar Iterators = require('../internals/iterators');\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar ARRAY_ITERATOR = 'Array Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(ARRAY_ITERATOR);\n\n// `Array.prototype.entries` method\n// https://tc39.es/ecma262/#sec-array.prototype.entries\n// `Array.prototype.keys` method\n// https://tc39.es/ecma262/#sec-array.prototype.keys\n// `Array.prototype.values` method\n// https://tc39.es/ecma262/#sec-array.prototype.values\n// `Array.prototype[@@iterator]` method\n// https://tc39.es/ecma262/#sec-array.prototype-@@iterator\n// `CreateArrayIterator` internal method\n// https://tc39.es/ecma262/#sec-createarrayiterator\nmodule.exports = defineIterator(Array, 'Array', function (iterated, kind) {\n  setInternalState(this, {\n    type: ARRAY_ITERATOR,\n    target: toIndexedObject(iterated), // target\n    index: 0,                          // next index\n    kind: kind                         // kind\n  });\n// `%ArrayIteratorPrototype%.next` method\n// https://tc39.es/ecma262/#sec-%arrayiteratorprototype%.next\n}, function () {\n  var state = getInternalState(this);\n  var target = state.target;\n  var kind = state.kind;\n  var index = state.index++;\n  if (!target || index >= target.length) {\n    state.target = undefined;\n    return { value: undefined, done: true };\n  }\n  if (kind == 'keys') return { value: index, done: false };\n  if (kind == 'values') return { value: target[index], done: false };\n  return { value: [index, target[index]], done: false };\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values%\n// https://tc39.es/ecma262/#sec-createunmappedargumentsobject\n// https://tc39.es/ecma262/#sec-createmappedargumentsobject\nIterators.Arguments = Iterators.Array;\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","var redefine = require('../internals/redefine');\n\nmodule.exports = function (target, src, options) {\n  for (var key in src) redefine(target, key, src[key], options);\n  return target;\n};\n","module.exports = function (exec) {\n  try {\n    return { error: false, value: exec() };\n  } catch (error) {\n    return { error: true, value: error };\n  }\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar NativePromise = require('../internals/native-promise-constructor');\nvar redefine = require('../internals/redefine');\nvar redefineAll = require('../internals/redefine-all');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar setSpecies = require('../internals/set-species');\nvar isObject = require('../internals/is-object');\nvar aFunction = require('../internals/a-function');\nvar anInstance = require('../internals/an-instance');\nvar inspectSource = require('../internals/inspect-source');\nvar iterate = require('../internals/iterate');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar speciesConstructor = require('../internals/species-constructor');\nvar task = require('../internals/task').set;\nvar microtask = require('../internals/microtask');\nvar promiseResolve = require('../internals/promise-resolve');\nvar hostReportErrors = require('../internals/host-report-errors');\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\nvar perform = require('../internals/perform');\nvar InternalStateModule = require('../internals/internal-state');\nvar isForced = require('../internals/is-forced');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_BROWSER = require('../internals/engine-is-browser');\nvar IS_NODE = require('../internals/engine-is-node');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\nvar PROMISE = 'Promise';\nvar getInternalState = InternalStateModule.get;\nvar setInternalState = InternalStateModule.set;\nvar getInternalPromiseState = InternalStateModule.getterFor(PROMISE);\nvar NativePromisePrototype = NativePromise && NativePromise.prototype;\nvar PromiseConstructor = NativePromise;\nvar PromiseConstructorPrototype = NativePromisePrototype;\nvar TypeError = global.TypeError;\nvar document = global.document;\nvar process = global.process;\nvar newPromiseCapability = newPromiseCapabilityModule.f;\nvar newGenericPromiseCapability = newPromiseCapability;\nvar DISPATCH_EVENT = !!(document && document.createEvent && global.dispatchEvent);\nvar NATIVE_REJECTION_EVENT = typeof PromiseRejectionEvent == 'function';\nvar UNHANDLED_REJECTION = 'unhandledrejection';\nvar REJECTION_HANDLED = 'rejectionhandled';\nvar PENDING = 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\nvar HANDLED = 1;\nvar UNHANDLED = 2;\nvar SUBCLASSING = false;\nvar Internal, OwnPromiseCapability, PromiseWrapper, nativeThen;\n\nvar FORCED = isForced(PROMISE, function () {\n  var GLOBAL_CORE_JS_PROMISE = inspectSource(PromiseConstructor) !== String(PromiseConstructor);\n  // V8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n  // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n  // We can't detect it synchronously, so just check versions\n  if (!GLOBAL_CORE_JS_PROMISE && V8_VERSION === 66) return true;\n  // We need Promise#finally in the pure version for preventing prototype pollution\n  if (IS_PURE && !PromiseConstructorPrototype['finally']) return true;\n  // We can't use @@species feature detection in V8 since it causes\n  // deoptimization and performance degradation\n  // https://github.com/zloirock/core-js/issues/679\n  if (V8_VERSION >= 51 && /native code/.test(PromiseConstructor)) return false;\n  // Detect correctness of subclassing with @@species support\n  var promise = new PromiseConstructor(function (resolve) { resolve(1); });\n  var FakePromise = function (exec) {\n    exec(function () { /* empty */ }, function () { /* empty */ });\n  };\n  var constructor = promise.constructor = {};\n  constructor[SPECIES] = FakePromise;\n  SUBCLASSING = promise.then(function () { /* empty */ }) instanceof FakePromise;\n  if (!SUBCLASSING) return true;\n  // Unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n  return !GLOBAL_CORE_JS_PROMISE && IS_BROWSER && !NATIVE_REJECTION_EVENT;\n});\n\nvar INCORRECT_ITERATION = FORCED || !checkCorrectnessOfIteration(function (iterable) {\n  PromiseConstructor.all(iterable)['catch'](function () { /* empty */ });\n});\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\n\nvar notify = function (state, isReject) {\n  if (state.notified) return;\n  state.notified = true;\n  var chain = state.reactions;\n  microtask(function () {\n    var value = state.value;\n    var ok = state.state == FULFILLED;\n    var index = 0;\n    // variable length - can't use forEach\n    while (chain.length > index) {\n      var reaction = chain[index++];\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (state.rejection === UNHANDLED) onHandleUnhandled(state);\n            state.rejection = HANDLED;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // can throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (error) {\n        if (domain && !exited) domain.exit();\n        reject(error);\n      }\n    }\n    state.reactions = [];\n    state.notified = false;\n    if (isReject && !state.rejection) onUnhandled(state);\n  });\n};\n\nvar dispatchEvent = function (name, promise, reason) {\n  var event, handler;\n  if (DISPATCH_EVENT) {\n    event = document.createEvent('Event');\n    event.promise = promise;\n    event.reason = reason;\n    event.initEvent(name, false, true);\n    global.dispatchEvent(event);\n  } else event = { promise: promise, reason: reason };\n  if (!NATIVE_REJECTION_EVENT && (handler = global['on' + name])) handler(event);\n  else if (name === UNHANDLED_REJECTION) hostReportErrors('Unhandled promise rejection', reason);\n};\n\nvar onUnhandled = function (state) {\n  task.call(global, function () {\n    var promise = state.facade;\n    var value = state.value;\n    var IS_UNHANDLED = isUnhandled(state);\n    var result;\n    if (IS_UNHANDLED) {\n      result = perform(function () {\n        if (IS_NODE) {\n          process.emit('unhandledRejection', value, promise);\n        } else dispatchEvent(UNHANDLED_REJECTION, promise, value);\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      state.rejection = IS_NODE || isUnhandled(state) ? UNHANDLED : HANDLED;\n      if (result.error) throw result.value;\n    }\n  });\n};\n\nvar isUnhandled = function (state) {\n  return state.rejection !== HANDLED && !state.parent;\n};\n\nvar onHandleUnhandled = function (state) {\n  task.call(global, function () {\n    var promise = state.facade;\n    if (IS_NODE) {\n      process.emit('rejectionHandled', promise);\n    } else dispatchEvent(REJECTION_HANDLED, promise, state.value);\n  });\n};\n\nvar bind = function (fn, state, unwrap) {\n  return function (value) {\n    fn(state, value, unwrap);\n  };\n};\n\nvar internalReject = function (state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  state.value = value;\n  state.state = REJECTED;\n  notify(state, true);\n};\n\nvar internalResolve = function (state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  try {\n    if (state.facade === value) throw TypeError(\"Promise can't be resolved itself\");\n    var then = isThenable(value);\n    if (then) {\n      microtask(function () {\n        var wrapper = { done: false };\n        try {\n          then.call(value,\n            bind(internalResolve, wrapper, state),\n            bind(internalReject, wrapper, state)\n          );\n        } catch (error) {\n          internalReject(wrapper, error, state);\n        }\n      });\n    } else {\n      state.value = value;\n      state.state = FULFILLED;\n      notify(state, false);\n    }\n  } catch (error) {\n    internalReject({ done: false }, error, state);\n  }\n};\n\n// constructor polyfill\nif (FORCED) {\n  // 25.4.3.1 Promise(executor)\n  PromiseConstructor = function Promise(executor) {\n    anInstance(this, PromiseConstructor, PROMISE);\n    aFunction(executor);\n    Internal.call(this);\n    var state = getInternalState(this);\n    try {\n      executor(bind(internalResolve, state), bind(internalReject, state));\n    } catch (error) {\n      internalReject(state, error);\n    }\n  };\n  PromiseConstructorPrototype = PromiseConstructor.prototype;\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  Internal = function Promise(executor) {\n    setInternalState(this, {\n      type: PROMISE,\n      done: false,\n      notified: false,\n      parent: false,\n      reactions: [],\n      rejection: false,\n      state: PENDING,\n      value: undefined\n    });\n  };\n  Internal.prototype = redefineAll(PromiseConstructorPrototype, {\n    // `Promise.prototype.then` method\n    // https://tc39.es/ecma262/#sec-promise.prototype.then\n    then: function then(onFulfilled, onRejected) {\n      var state = getInternalPromiseState(this);\n      var reaction = newPromiseCapability(speciesConstructor(this, PromiseConstructor));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = IS_NODE ? process.domain : undefined;\n      state.parent = true;\n      state.reactions.push(reaction);\n      if (state.state != PENDING) notify(state, false);\n      return reaction.promise;\n    },\n    // `Promise.prototype.catch` method\n    // https://tc39.es/ecma262/#sec-promise.prototype.catch\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    var state = getInternalState(promise);\n    this.promise = promise;\n    this.resolve = bind(internalResolve, state);\n    this.reject = bind(internalReject, state);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === PromiseConstructor || C === PromiseWrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n\n  if (!IS_PURE && typeof NativePromise == 'function' && NativePromisePrototype !== Object.prototype) {\n    nativeThen = NativePromisePrototype.then;\n\n    if (!SUBCLASSING) {\n      // make `Promise#then` return a polyfilled `Promise` for native promise-based APIs\n      redefine(NativePromisePrototype, 'then', function then(onFulfilled, onRejected) {\n        var that = this;\n        return new PromiseConstructor(function (resolve, reject) {\n          nativeThen.call(that, resolve, reject);\n        }).then(onFulfilled, onRejected);\n      // https://github.com/zloirock/core-js/issues/640\n      }, { unsafe: true });\n\n      // makes sure that native promise-based APIs `Promise#catch` properly works with patched `Promise#then`\n      redefine(NativePromisePrototype, 'catch', PromiseConstructorPrototype['catch'], { unsafe: true });\n    }\n\n    // make `.constructor === Promise` work for native promise-based APIs\n    try {\n      delete NativePromisePrototype.constructor;\n    } catch (error) { /* empty */ }\n\n    // make `instanceof Promise` work for native promise-based APIs\n    if (setPrototypeOf) {\n      setPrototypeOf(NativePromisePrototype, PromiseConstructorPrototype);\n    }\n  }\n}\n\n$({ global: true, wrap: true, forced: FORCED }, {\n  Promise: PromiseConstructor\n});\n\nsetToStringTag(PromiseConstructor, PROMISE, false, true);\nsetSpecies(PROMISE);\n\nPromiseWrapper = getBuiltIn(PROMISE);\n\n// statics\n$({ target: PROMISE, stat: true, forced: FORCED }, {\n  // `Promise.reject` method\n  // https://tc39.es/ecma262/#sec-promise.reject\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    capability.reject.call(undefined, r);\n    return capability.promise;\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: IS_PURE || FORCED }, {\n  // `Promise.resolve` method\n  // https://tc39.es/ecma262/#sec-promise.resolve\n  resolve: function resolve(x) {\n    return promiseResolve(IS_PURE && this === PromiseWrapper ? PromiseConstructor : this, x);\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: INCORRECT_ITERATION }, {\n  // `Promise.all` method\n  // https://tc39.es/ecma262/#sec-promise.all\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      var values = [];\n      var counter = 0;\n      var remaining = 1;\n      iterate(iterable, function (promise) {\n        var index = counter++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        $promiseResolve.call(C, promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  },\n  // `Promise.race` method\n  // https://tc39.es/ecma262/#sec-promise.race\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      iterate(iterable, function (promise) {\n        $promiseResolve.call(C, promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});\n","'use strict';\n\nmodule.exports = '3.4.4';\n","var has = require('../internals/has');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.es/ecma262/#sec-isarray\n// eslint-disable-next-line es/no-array-isarray -- safe\nmodule.exports = Array.isArray || function isArray(arg) {\n  return classof(arg) == 'Array';\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar Iterators = require('../internals/iterators');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar ArrayPrototype = Array.prototype;\n\n// check on default Array iterator\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);\n};\n","'use strict';\n\nvar SearchParameters = require('./SearchParameters');\nvar SearchResults = require('./SearchResults');\nvar DerivedHelper = require('./DerivedHelper');\nvar requestBuilder = require('./requestBuilder');\n\nvar events = require('events');\nvar inherits = require('./functions/inherits');\nvar objectHasKeys = require('./functions/objectHasKeys');\nvar omit = require('./functions/omit');\nvar merge = require('./functions/merge');\n\nvar version = require('./version');\n\n/**\n * Event triggered when a parameter is set or updated\n * @event AlgoliaSearchHelper#event:change\n * @property {object} event\n * @property {SearchParameters} event.state the current parameters with the latest changes applied\n * @property {SearchResults} event.results the previous results received from Algolia. `null` before the first request\n * @example\n * helper.on('change', function(event) {\n *   console.log('The parameters have changed');\n * });\n */\n\n/**\n * Event triggered when a main search is sent to Algolia\n * @event AlgoliaSearchHelper#event:search\n * @property {object} event\n * @property {SearchParameters} event.state the parameters used for this search\n * @property {SearchResults} event.results the results from the previous search. `null` if it is the first search.\n * @example\n * helper.on('search', function(event) {\n *   console.log('Search sent');\n * });\n */\n\n/**\n * Event triggered when a search using `searchForFacetValues` is sent to Algolia\n * @event AlgoliaSearchHelper#event:searchForFacetValues\n * @property {object} event\n * @property {SearchParameters} event.state the parameters used for this search it is the first search.\n * @property {string} event.facet the facet searched into\n * @property {string} event.query the query used to search in the facets\n * @example\n * helper.on('searchForFacetValues', function(event) {\n *   console.log('searchForFacetValues sent');\n * });\n */\n\n/**\n * Event triggered when a search using `searchOnce` is sent to Algolia\n * @event AlgoliaSearchHelper#event:searchOnce\n * @property {object} event\n * @property {SearchParameters} event.state the parameters used for this search it is the first search.\n * @example\n * helper.on('searchOnce', function(event) {\n *   console.log('searchOnce sent');\n * });\n */\n\n/**\n * Event triggered when the results are retrieved from Algolia\n * @event AlgoliaSearchHelper#event:result\n * @property {object} event\n * @property {SearchResults} event.results the results received from Algolia\n * @property {SearchParameters} event.state the parameters used to query Algolia. Those might be different from the one in the helper instance (for example if the network is unreliable).\n * @example\n * helper.on('result', function(event) {\n *   console.log('Search results received');\n * });\n */\n\n/**\n * Event triggered when Algolia sends back an error. For example, if an unknown parameter is\n * used, the error can be caught using this event.\n * @event AlgoliaSearchHelper#event:error\n * @property {object} event\n * @property {Error} event.error the error returned by the Algolia.\n * @example\n * helper.on('error', function(event) {\n *   console.log('Houston we got a problem.');\n * });\n */\n\n/**\n * Event triggered when the queue of queries have been depleted (with any result or outdated queries)\n * @event AlgoliaSearchHelper#event:searchQueueEmpty\n * @example\n * helper.on('searchQueueEmpty', function() {\n *   console.log('No more search pending');\n *   // This is received before the result event if we're not expecting new results\n * });\n *\n * helper.search();\n */\n\n/**\n * Initialize a new AlgoliaSearchHelper\n * @class\n * @classdesc The AlgoliaSearchHelper is a class that ease the management of the\n * search. It provides an event based interface for search callbacks:\n *  - change: when the internal search state is changed.\n *    This event contains a {@link SearchParameters} object and the\n *    {@link SearchResults} of the last result if any.\n *  - search: when a search is triggered using the `search()` method.\n *  - result: when the response is retrieved from Algolia and is processed.\n *    This event contains a {@link SearchResults} object and the\n *    {@link SearchParameters} corresponding to this answer.\n *  - error: when the response is an error. This event contains the error returned by the server.\n * @param  {AlgoliaSearch} client an AlgoliaSearch client\n * @param  {string} index the index name to query\n * @param  {SearchParameters | object} options an object defining the initial\n * config of the search. It doesn't have to be a {SearchParameters},\n * just an object containing the properties you need from it.\n */\nfunction AlgoliaSearchHelper(client, index, options) {\n  if (typeof client.addAlgoliaAgent === 'function') {\n    client.addAlgoliaAgent('JS Helper (' + version + ')');\n  }\n\n  this.setClient(client);\n  var opts = options || {};\n  opts.index = index;\n  this.state = SearchParameters.make(opts);\n  this.lastResults = null;\n  this._queryId = 0;\n  this._lastQueryIdReceived = -1;\n  this.derivedHelpers = [];\n  this._currentNbQueries = 0;\n}\n\ninherits(AlgoliaSearchHelper, events.EventEmitter);\n\n/**\n * Start the search with the parameters set in the state. When the\n * method is called, it triggers a `search` event. The results will\n * be available through the `result` event. If an error occurs, an\n * `error` will be fired instead.\n * @return {AlgoliaSearchHelper}\n * @fires search\n * @fires result\n * @fires error\n * @chainable\n */\nAlgoliaSearchHelper.prototype.search = function() {\n  this._search({onlyWithDerivedHelpers: false});\n  return this;\n};\n\nAlgoliaSearchHelper.prototype.searchOnlyWithDerivedHelpers = function() {\n  this._search({onlyWithDerivedHelpers: true});\n  return this;\n};\n\n/**\n * Gets the search query parameters that would be sent to the Algolia Client\n * for the hits\n * @return {object} Query Parameters\n */\nAlgoliaSearchHelper.prototype.getQuery = function() {\n  var state = this.state;\n  return requestBuilder._getHitsSearchParams(state);\n};\n\n/**\n * Start a search using a modified version of the current state. This method does\n * not trigger the helper lifecycle and does not modify the state kept internally\n * by the helper. This second aspect means that the next search call will be the\n * same as a search call before calling searchOnce.\n * @param {object} options can contain all the parameters that can be set to SearchParameters\n * plus the index\n * @param {function} [callback] optional callback executed when the response from the\n * server is back.\n * @return {promise|undefined} if a callback is passed the method returns undefined\n * otherwise it returns a promise containing an object with two keys :\n *  - content with a SearchResults\n *  - state with the state used for the query as a SearchParameters\n * @example\n * // Changing the number of records returned per page to 1\n * // This example uses the callback API\n * var state = helper.searchOnce({hitsPerPage: 1},\n *   function(error, content, state) {\n *     // if an error occurred it will be passed in error, otherwise its value is null\n *     // content contains the results formatted as a SearchResults\n *     // state is the instance of SearchParameters used for this search\n *   });\n * @example\n * // Changing the number of records returned per page to 1\n * // This example uses the promise API\n * var state1 = helper.searchOnce({hitsPerPage: 1})\n *                 .then(promiseHandler);\n *\n * function promiseHandler(res) {\n *   // res contains\n *   // {\n *   //   content : SearchResults\n *   //   state   : SearchParameters (the one used for this specific search)\n *   // }\n * }\n */\nAlgoliaSearchHelper.prototype.searchOnce = function(options, cb) {\n  var tempState = !options ? this.state : this.state.setQueryParameters(options);\n  var queries = requestBuilder._getQueries(tempState.index, tempState);\n  var self = this;\n\n  this._currentNbQueries++;\n\n  this.emit('searchOnce', {\n    state: tempState\n  });\n\n  if (cb) {\n    this.client\n      .search(queries)\n      .then(function(content) {\n        self._currentNbQueries--;\n        if (self._currentNbQueries === 0) {\n          self.emit('searchQueueEmpty');\n        }\n\n        cb(null, new SearchResults(tempState, content.results), tempState);\n      })\n      .catch(function(err) {\n        self._currentNbQueries--;\n        if (self._currentNbQueries === 0) {\n          self.emit('searchQueueEmpty');\n        }\n\n        cb(err, null, tempState);\n      });\n\n    return undefined;\n  }\n\n  return this.client.search(queries).then(function(content) {\n    self._currentNbQueries--;\n    if (self._currentNbQueries === 0) self.emit('searchQueueEmpty');\n    return {\n      content: new SearchResults(tempState, content.results),\n      state: tempState,\n      _originalResponse: content\n    };\n  }, function(e) {\n    self._currentNbQueries--;\n    if (self._currentNbQueries === 0) self.emit('searchQueueEmpty');\n    throw e;\n  });\n};\n\n /**\n * Start the search for answers with the parameters set in the state.\n * This method returns a promise.\n * @param {Object} options - the options for answers API call\n * @param {string[]} options.attributesForPrediction - Attributes to use for predictions. If empty, `searchableAttributes` is used instead.\n * @param {string[]} options.queryLanguages - The languages in the query. Currently only supports ['en'].\n * @param {number} options.nbHits - Maximum number of answers to retrieve from the Answers Engine. Cannot be greater than 1000.\n *\n * @return {promise} the answer results\n */\nAlgoliaSearchHelper.prototype.findAnswers = function(options) {\n  var state = this.state;\n  var derivedHelper = this.derivedHelpers[0];\n  if (!derivedHelper) {\n    return Promise.resolve([]);\n  }\n  var derivedState = derivedHelper.getModifiedState(state);\n  var data = merge(\n    {\n      attributesForPrediction: options.attributesForPrediction,\n      nbHits: options.nbHits\n    },\n    {\n      params: omit(requestBuilder._getHitsSearchParams(derivedState), [\n        'attributesToSnippet',\n        'hitsPerPage',\n        'restrictSearchableAttributes',\n        'snippetEllipsisText' // FIXME remove this line once the engine is fixed.\n      ])\n    }\n  );\n\n  var errorMessage = 'search for answers was called, but this client does not have a function client.initIndex(index).findAnswers';\n  if (typeof this.client.initIndex !== 'function') {\n    throw new Error(errorMessage);\n  }\n  var index = this.client.initIndex(derivedState.index);\n  if (typeof index.findAnswers !== 'function') {\n    throw new Error(errorMessage);\n  }\n  return index.findAnswers(derivedState.query, options.queryLanguages, data);\n};\n\n/**\n * Structure of each result when using\n * [`searchForFacetValues()`](reference.html#AlgoliaSearchHelper#searchForFacetValues)\n * @typedef FacetSearchHit\n * @type {object}\n * @property {string} value the facet value\n * @property {string} highlighted the facet value highlighted with the query string\n * @property {number} count number of occurrence of this facet value\n * @property {boolean} isRefined true if the value is already refined\n */\n\n/**\n * Structure of the data resolved by the\n * [`searchForFacetValues()`](reference.html#AlgoliaSearchHelper#searchForFacetValues)\n * promise.\n * @typedef FacetSearchResult\n * @type {object}\n * @property {FacetSearchHit} facetHits the results for this search for facet values\n * @property {number} processingTimeMS time taken by the query inside the engine\n */\n\n/**\n * Search for facet values based on an query and the name of a faceted attribute. This\n * triggers a search and will return a promise. On top of using the query, it also sends\n * the parameters from the state so that the search is narrowed down to only the possible values.\n *\n * See the description of [FacetSearchResult](reference.html#FacetSearchResult)\n * @param {string} facet the name of the faceted attribute\n * @param {string} query the string query for the search\n * @param {number} [maxFacetHits] the maximum number values returned. Should be > 0 and <= 100\n * @param {object} [userState] the set of custom parameters to use on top of the current state. Setting a property to `undefined` removes\n * it in the generated query.\n * @return {promise.<FacetSearchResult>} the results of the search\n */\nAlgoliaSearchHelper.prototype.searchForFacetValues = function(facet, query, maxFacetHits, userState) {\n  var clientHasSFFV = typeof this.client.searchForFacetValues === 'function';\n  if (\n    !clientHasSFFV &&\n    typeof this.client.initIndex !== 'function'\n  ) {\n    throw new Error(\n      'search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues'\n    );\n  }\n  var state = this.state.setQueryParameters(userState || {});\n  var isDisjunctive = state.isDisjunctiveFacet(facet);\n  var algoliaQuery = requestBuilder.getSearchForFacetQuery(facet, query, maxFacetHits, state);\n\n  this._currentNbQueries++;\n  var self = this;\n\n  this.emit('searchForFacetValues', {\n    state: state,\n    facet: facet,\n    query: query\n  });\n\n  var searchForFacetValuesPromise = clientHasSFFV\n    ? this.client.searchForFacetValues([{indexName: state.index, params: algoliaQuery}])\n    : this.client.initIndex(state.index).searchForFacetValues(algoliaQuery);\n\n  return searchForFacetValuesPromise.then(function addIsRefined(content) {\n    self._currentNbQueries--;\n    if (self._currentNbQueries === 0) self.emit('searchQueueEmpty');\n\n    content = Array.isArray(content) ? content[0] : content;\n\n    content.facetHits.forEach(function(f) {\n      f.isRefined = isDisjunctive\n        ? state.isDisjunctiveFacetRefined(facet, f.value)\n        : state.isFacetRefined(facet, f.value);\n    });\n\n    return content;\n  }, function(e) {\n    self._currentNbQueries--;\n    if (self._currentNbQueries === 0) self.emit('searchQueueEmpty');\n    throw e;\n  });\n};\n\n/**\n * Sets the text query used for the search.\n *\n * This method resets the current page to 0.\n * @param  {string} q the user query\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.setQuery = function(q) {\n  this._change({\n    state: this.state.resetPage().setQuery(q),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Remove all the types of refinements except tags. A string can be provided to remove\n * only the refinements of a specific attribute. For more advanced use case, you can\n * provide a function instead. This function should follow the\n * [clearCallback definition](#SearchParameters.clearCallback).\n *\n * This method resets the current page to 0.\n * @param {string} [name] optional name of the facet / attribute on which we want to remove all refinements\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n * @example\n * // Removing all the refinements\n * helper.clearRefinements().search();\n * @example\n * // Removing all the filters on a the category attribute.\n * helper.clearRefinements('category').search();\n * @example\n * // Removing only the exclude filters on the category facet.\n * helper.clearRefinements(function(value, attribute, type) {\n *   return type === 'exclude' && attribute === 'category';\n * }).search();\n */\nAlgoliaSearchHelper.prototype.clearRefinements = function(name) {\n  this._change({\n    state: this.state.resetPage().clearRefinements(name),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Remove all the tag filters.\n *\n * This method resets the current page to 0.\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.clearTags = function() {\n  this._change({\n    state: this.state.resetPage().clearTags(),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Adds a disjunctive filter to a faceted attribute with the `value` provided. If the\n * filter is already set, it doesn't change the filters.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} value the associated value (will be converted to string)\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.addDisjunctiveFacetRefinement = function(facet, value) {\n  this._change({\n    state: this.state.resetPage().addDisjunctiveFacetRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#addDisjunctiveFacetRefinement}\n */\nAlgoliaSearchHelper.prototype.addDisjunctiveRefine = function() {\n  return this.addDisjunctiveFacetRefinement.apply(this, arguments);\n};\n\n/**\n * Adds a refinement on a hierarchical facet. It will throw\n * an exception if the facet is not defined or if the facet\n * is already refined.\n *\n * This method resets the current page to 0.\n * @param {string} facet the facet name\n * @param {string} path the hierarchical facet path\n * @return {AlgoliaSearchHelper}\n * @throws Error if the facet is not defined or if the facet is refined\n * @chainable\n * @fires change\n */\nAlgoliaSearchHelper.prototype.addHierarchicalFacetRefinement = function(facet, value) {\n  this._change({\n    state: this.state.resetPage().addHierarchicalFacetRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Adds a an numeric filter to an attribute with the `operator` and `value` provided. If the\n * filter is already set, it doesn't change the filters.\n *\n * This method resets the current page to 0.\n * @param  {string} attribute the attribute on which the numeric filter applies\n * @param  {string} operator the operator of the filter\n * @param  {number} value the value of the filter\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.addNumericRefinement = function(attribute, operator, value) {\n  this._change({\n    state: this.state.resetPage().addNumericRefinement(attribute, operator, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Adds a filter to a faceted attribute with the `value` provided. If the\n * filter is already set, it doesn't change the filters.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} value the associated value (will be converted to string)\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.addFacetRefinement = function(facet, value) {\n  this._change({\n    state: this.state.resetPage().addFacetRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#addFacetRefinement}\n */\nAlgoliaSearchHelper.prototype.addRefine = function() {\n  return this.addFacetRefinement.apply(this, arguments);\n};\n\n\n/**\n * Adds a an exclusion filter to a faceted attribute with the `value` provided. If the\n * filter is already set, it doesn't change the filters.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} value the associated value (will be converted to string)\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.addFacetExclusion = function(facet, value) {\n  this._change({\n    state: this.state.resetPage().addExcludeRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#addFacetExclusion}\n */\nAlgoliaSearchHelper.prototype.addExclude = function() {\n  return this.addFacetExclusion.apply(this, arguments);\n};\n\n/**\n * Adds a tag filter with the `tag` provided. If the\n * filter is already set, it doesn't change the filters.\n *\n * This method resets the current page to 0.\n * @param {string} tag the tag to add to the filter\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.addTag = function(tag) {\n  this._change({\n    state: this.state.resetPage().addTagRefinement(tag),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Removes an numeric filter to an attribute with the `operator` and `value` provided. If the\n * filter is not set, it doesn't change the filters.\n *\n * Some parameters are optional, triggering different behavior:\n *  - if the value is not provided, then all the numeric value will be removed for the\n *  specified attribute/operator couple.\n *  - if the operator is not provided either, then all the numeric filter on this attribute\n *  will be removed.\n *\n * This method resets the current page to 0.\n * @param  {string} attribute the attribute on which the numeric filter applies\n * @param  {string} [operator] the operator of the filter\n * @param  {number} [value] the value of the filter\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.removeNumericRefinement = function(attribute, operator, value) {\n  this._change({\n    state: this.state.resetPage().removeNumericRefinement(attribute, operator, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Removes a disjunctive filter to a faceted attribute with the `value` provided. If the\n * filter is not set, it doesn't change the filters.\n *\n * If the value is omitted, then this method will remove all the filters for the\n * attribute.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} [value] the associated value\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.removeDisjunctiveFacetRefinement = function(facet, value) {\n  this._change({\n    state: this.state.resetPage().removeDisjunctiveFacetRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#removeDisjunctiveFacetRefinement}\n */\nAlgoliaSearchHelper.prototype.removeDisjunctiveRefine = function() {\n  return this.removeDisjunctiveFacetRefinement.apply(this, arguments);\n};\n\n/**\n * Removes the refinement set on a hierarchical facet.\n * @param {string} facet the facet name\n * @return {AlgoliaSearchHelper}\n * @throws Error if the facet is not defined or if the facet is not refined\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.removeHierarchicalFacetRefinement = function(facet) {\n  this._change({\n    state: this.state.resetPage().removeHierarchicalFacetRefinement(facet),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Removes a filter to a faceted attribute with the `value` provided. If the\n * filter is not set, it doesn't change the filters.\n *\n * If the value is omitted, then this method will remove all the filters for the\n * attribute.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} [value] the associated value\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.removeFacetRefinement = function(facet, value) {\n  this._change({\n    state: this.state.resetPage().removeFacetRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#removeFacetRefinement}\n */\nAlgoliaSearchHelper.prototype.removeRefine = function() {\n  return this.removeFacetRefinement.apply(this, arguments);\n};\n\n/**\n * Removes an exclusion filter to a faceted attribute with the `value` provided. If the\n * filter is not set, it doesn't change the filters.\n *\n * If the value is omitted, then this method will remove all the filters for the\n * attribute.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} [value] the associated value\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.removeFacetExclusion = function(facet, value) {\n  this._change({\n    state: this.state.resetPage().removeExcludeRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#removeFacetExclusion}\n */\nAlgoliaSearchHelper.prototype.removeExclude = function() {\n  return this.removeFacetExclusion.apply(this, arguments);\n};\n\n/**\n * Removes a tag filter with the `tag` provided. If the\n * filter is not set, it doesn't change the filters.\n *\n * This method resets the current page to 0.\n * @param {string} tag tag to remove from the filter\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.removeTag = function(tag) {\n  this._change({\n    state: this.state.resetPage().removeTagRefinement(tag),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Adds or removes an exclusion filter to a faceted attribute with the `value` provided. If\n * the value is set then it removes it, otherwise it adds the filter.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} value the associated value\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.toggleFacetExclusion = function(facet, value) {\n  this._change({\n    state: this.state.resetPage().toggleExcludeFacetRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#toggleFacetExclusion}\n */\nAlgoliaSearchHelper.prototype.toggleExclude = function() {\n  return this.toggleFacetExclusion.apply(this, arguments);\n};\n\n/**\n * Adds or removes a filter to a faceted attribute with the `value` provided. If\n * the value is set then it removes it, otherwise it adds the filter.\n *\n * This method can be used for conjunctive, disjunctive and hierarchical filters.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} value the associated value\n * @return {AlgoliaSearchHelper}\n * @throws Error will throw an error if the facet is not declared in the settings of the helper\n * @fires change\n * @chainable\n * @deprecated since version 2.19.0, see {@link AlgoliaSearchHelper#toggleFacetRefinement}\n */\nAlgoliaSearchHelper.prototype.toggleRefinement = function(facet, value) {\n  return this.toggleFacetRefinement(facet, value);\n};\n\n/**\n * Adds or removes a filter to a faceted attribute with the `value` provided. If\n * the value is set then it removes it, otherwise it adds the filter.\n *\n * This method can be used for conjunctive, disjunctive and hierarchical filters.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} value the associated value\n * @return {AlgoliaSearchHelper}\n * @throws Error will throw an error if the facet is not declared in the settings of the helper\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.toggleFacetRefinement = function(facet, value) {\n  this._change({\n    state: this.state.resetPage().toggleFacetRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#toggleFacetRefinement}\n */\nAlgoliaSearchHelper.prototype.toggleRefine = function() {\n  return this.toggleFacetRefinement.apply(this, arguments);\n};\n\n/**\n * Adds or removes a tag filter with the `value` provided. If\n * the value is set then it removes it, otherwise it adds the filter.\n *\n * This method resets the current page to 0.\n * @param {string} tag tag to remove or add\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.toggleTag = function(tag) {\n  this._change({\n    state: this.state.resetPage().toggleTagRefinement(tag),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Increments the page number by one.\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n * @example\n * helper.setPage(0).nextPage().getPage();\n * // returns 1\n */\nAlgoliaSearchHelper.prototype.nextPage = function() {\n  var page = this.state.page || 0;\n  return this.setPage(page + 1);\n};\n\n/**\n * Decrements the page number by one.\n * @fires change\n * @return {AlgoliaSearchHelper}\n * @chainable\n * @example\n * helper.setPage(1).previousPage().getPage();\n * // returns 0\n */\nAlgoliaSearchHelper.prototype.previousPage = function() {\n  var page = this.state.page || 0;\n  return this.setPage(page - 1);\n};\n\n/**\n * @private\n */\nfunction setCurrentPage(page) {\n  if (page < 0) throw new Error('Page requested below 0.');\n\n  this._change({\n    state: this.state.setPage(page),\n    isPageReset: false\n  });\n\n  return this;\n}\n\n/**\n * Change the current page\n * @deprecated\n * @param  {number} page The page number\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.setCurrentPage = setCurrentPage;\n\n/**\n * Updates the current page.\n * @function\n * @param  {number} page The page number\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.setPage = setCurrentPage;\n\n/**\n * Updates the name of the index that will be targeted by the query.\n *\n * This method resets the current page to 0.\n * @param {string} name the index name\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.setIndex = function(name) {\n  this._change({\n    state: this.state.resetPage().setIndex(name),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Update a parameter of the search. This method reset the page\n *\n * The complete list of parameters is available on the\n * [Algolia website](https://www.algolia.com/doc/rest#query-an-index).\n * The most commonly used parameters have their own [shortcuts](#query-parameters-shortcuts)\n * or benefit from higher-level APIs (all the kind of filters and facets have their own API)\n *\n * This method resets the current page to 0.\n * @param {string} parameter name of the parameter to update\n * @param {any} value new value of the parameter\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n * @example\n * helper.setQueryParameter('hitsPerPage', 20).search();\n */\nAlgoliaSearchHelper.prototype.setQueryParameter = function(parameter, value) {\n  this._change({\n    state: this.state.resetPage().setQueryParameter(parameter, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Set the whole state (warning: will erase previous state)\n * @param {SearchParameters} newState the whole new state\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.setState = function(newState) {\n  this._change({\n    state: SearchParameters.make(newState),\n    isPageReset: false\n  });\n\n  return this;\n};\n\n/**\n * Override the current state without triggering a change event.\n * Do not use this method unless you know what you are doing. (see the example\n * for a legit use case)\n * @param {SearchParameters} newState the whole new state\n * @return {AlgoliaSearchHelper}\n * @example\n *  helper.on('change', function(state){\n *    // In this function you might want to find a way to store the state in the url/history\n *    updateYourURL(state)\n *  })\n *  window.onpopstate = function(event){\n *    // This is naive though as you should check if the state is really defined etc.\n *    helper.overrideStateWithoutTriggeringChangeEvent(event.state).search()\n *  }\n * @chainable\n */\nAlgoliaSearchHelper.prototype.overrideStateWithoutTriggeringChangeEvent = function(newState) {\n  this.state = new SearchParameters(newState);\n  return this;\n};\n\n/**\n * Check if an attribute has any numeric, conjunctive, disjunctive or hierarchical filters.\n * @param {string} attribute the name of the attribute\n * @return {boolean} true if the attribute is filtered by at least one value\n * @example\n * // hasRefinements works with numeric, conjunctive, disjunctive and hierarchical filters\n * helper.hasRefinements('price'); // false\n * helper.addNumericRefinement('price', '>', 100);\n * helper.hasRefinements('price'); // true\n *\n * helper.hasRefinements('color'); // false\n * helper.addFacetRefinement('color', 'blue');\n * helper.hasRefinements('color'); // true\n *\n * helper.hasRefinements('material'); // false\n * helper.addDisjunctiveFacetRefinement('material', 'plastic');\n * helper.hasRefinements('material'); // true\n *\n * helper.hasRefinements('categories'); // false\n * helper.toggleFacetRefinement('categories', 'kitchen > knife');\n * helper.hasRefinements('categories'); // true\n *\n */\nAlgoliaSearchHelper.prototype.hasRefinements = function(attribute) {\n  if (objectHasKeys(this.state.getNumericRefinements(attribute))) {\n    return true;\n  } else if (this.state.isConjunctiveFacet(attribute)) {\n    return this.state.isFacetRefined(attribute);\n  } else if (this.state.isDisjunctiveFacet(attribute)) {\n    return this.state.isDisjunctiveFacetRefined(attribute);\n  } else if (this.state.isHierarchicalFacet(attribute)) {\n    return this.state.isHierarchicalFacetRefined(attribute);\n  }\n\n  // there's currently no way to know that the user did call `addNumericRefinement` at some point\n  // thus we cannot distinguish if there once was a numeric refinement that was cleared\n  // so we will return false in every other situations to be consistent\n  // while what we should do here is throw because we did not find the attribute in any type\n  // of refinement\n  return false;\n};\n\n/**\n * Check if a value is excluded for a specific faceted attribute. If the value\n * is omitted then the function checks if there is any excluding refinements.\n *\n * @param  {string}  facet name of the attribute for used for faceting\n * @param  {string}  [value] optional value. If passed will test that this value\n   * is filtering the given facet.\n * @return {boolean} true if refined\n * @example\n * helper.isExcludeRefined('color'); // false\n * helper.isExcludeRefined('color', 'blue') // false\n * helper.isExcludeRefined('color', 'red') // false\n *\n * helper.addFacetExclusion('color', 'red');\n *\n * helper.isExcludeRefined('color'); // true\n * helper.isExcludeRefined('color', 'blue') // false\n * helper.isExcludeRefined('color', 'red') // true\n */\nAlgoliaSearchHelper.prototype.isExcluded = function(facet, value) {\n  return this.state.isExcludeRefined(facet, value);\n};\n\n/**\n * @deprecated since 2.4.0, see {@link AlgoliaSearchHelper#hasRefinements}\n */\nAlgoliaSearchHelper.prototype.isDisjunctiveRefined = function(facet, value) {\n  return this.state.isDisjunctiveFacetRefined(facet, value);\n};\n\n/**\n * Check if the string is a currently filtering tag.\n * @param {string} tag tag to check\n * @return {boolean}\n */\nAlgoliaSearchHelper.prototype.hasTag = function(tag) {\n  return this.state.isTagRefined(tag);\n};\n\n/**\n * @deprecated since 2.4.0, see {@link AlgoliaSearchHelper#hasTag}\n */\nAlgoliaSearchHelper.prototype.isTagRefined = function() {\n  return this.hasTagRefinements.apply(this, arguments);\n};\n\n\n/**\n * Get the name of the currently used index.\n * @return {string}\n * @example\n * helper.setIndex('highestPrice_products').getIndex();\n * // returns 'highestPrice_products'\n */\nAlgoliaSearchHelper.prototype.getIndex = function() {\n  return this.state.index;\n};\n\nfunction getCurrentPage() {\n  return this.state.page;\n}\n\n/**\n * Get the currently selected page\n * @deprecated\n * @return {number} the current page\n */\nAlgoliaSearchHelper.prototype.getCurrentPage = getCurrentPage;\n/**\n * Get the currently selected page\n * @function\n * @return {number} the current page\n */\nAlgoliaSearchHelper.prototype.getPage = getCurrentPage;\n\n/**\n * Get all the tags currently set to filters the results.\n *\n * @return {string[]} The list of tags currently set.\n */\nAlgoliaSearchHelper.prototype.getTags = function() {\n  return this.state.tagRefinements;\n};\n\n/**\n * Get the list of refinements for a given attribute. This method works with\n * conjunctive, disjunctive, excluding and numerical filters.\n *\n * See also SearchResults#getRefinements\n *\n * @param {string} facetName attribute name used for faceting\n * @return {Array.<FacetRefinement|NumericRefinement>} All Refinement are objects that contain a value, and\n * a type. Numeric also contains an operator.\n * @example\n * helper.addNumericRefinement('price', '>', 100);\n * helper.getRefinements('price');\n * // [\n * //   {\n * //     \"value\": [\n * //       100\n * //     ],\n * //     \"operator\": \">\",\n * //     \"type\": \"numeric\"\n * //   }\n * // ]\n * @example\n * helper.addFacetRefinement('color', 'blue');\n * helper.addFacetExclusion('color', 'red');\n * helper.getRefinements('color');\n * // [\n * //   {\n * //     \"value\": \"blue\",\n * //     \"type\": \"conjunctive\"\n * //   },\n * //   {\n * //     \"value\": \"red\",\n * //     \"type\": \"exclude\"\n * //   }\n * // ]\n * @example\n * helper.addDisjunctiveFacetRefinement('material', 'plastic');\n * // [\n * //   {\n * //     \"value\": \"plastic\",\n * //     \"type\": \"disjunctive\"\n * //   }\n * // ]\n */\nAlgoliaSearchHelper.prototype.getRefinements = function(facetName) {\n  var refinements = [];\n\n  if (this.state.isConjunctiveFacet(facetName)) {\n    var conjRefinements = this.state.getConjunctiveRefinements(facetName);\n\n    conjRefinements.forEach(function(r) {\n      refinements.push({\n        value: r,\n        type: 'conjunctive'\n      });\n    });\n\n    var excludeRefinements = this.state.getExcludeRefinements(facetName);\n\n    excludeRefinements.forEach(function(r) {\n      refinements.push({\n        value: r,\n        type: 'exclude'\n      });\n    });\n  } else if (this.state.isDisjunctiveFacet(facetName)) {\n    var disjRefinements = this.state.getDisjunctiveRefinements(facetName);\n\n    disjRefinements.forEach(function(r) {\n      refinements.push({\n        value: r,\n        type: 'disjunctive'\n      });\n    });\n  }\n\n  var numericRefinements = this.state.getNumericRefinements(facetName);\n\n  Object.keys(numericRefinements).forEach(function(operator) {\n    var value = numericRefinements[operator];\n\n    refinements.push({\n      value: value,\n      operator: operator,\n      type: 'numeric'\n    });\n  });\n\n  return refinements;\n};\n\n/**\n * Return the current refinement for the (attribute, operator)\n * @param {string} attribute attribute in the record\n * @param {string} operator operator applied on the refined values\n * @return {Array.<number|number[]>} refined values\n */\nAlgoliaSearchHelper.prototype.getNumericRefinement = function(attribute, operator) {\n  return this.state.getNumericRefinement(attribute, operator);\n};\n\n/**\n * Get the current breadcrumb for a hierarchical facet, as an array\n * @param  {string} facetName Hierarchical facet name\n * @return {array.<string>} the path as an array of string\n */\nAlgoliaSearchHelper.prototype.getHierarchicalFacetBreadcrumb = function(facetName) {\n  return this.state.getHierarchicalFacetBreadcrumb(facetName);\n};\n\n// /////////// PRIVATE\n\n/**\n * Perform the underlying queries\n * @private\n * @return {undefined}\n * @fires search\n * @fires result\n * @fires error\n */\nAlgoliaSearchHelper.prototype._search = function(options) {\n  var state = this.state;\n  var states = [];\n  var mainQueries = [];\n\n  if (!options.onlyWithDerivedHelpers) {\n    mainQueries = requestBuilder._getQueries(state.index, state);\n\n    states.push({\n      state: state,\n      queriesCount: mainQueries.length,\n      helper: this\n    });\n\n    this.emit('search', {\n      state: state,\n      results: this.lastResults\n    });\n  }\n\n  var derivedQueries = this.derivedHelpers.map(function(derivedHelper) {\n    var derivedState = derivedHelper.getModifiedState(state);\n    var derivedStateQueries = requestBuilder._getQueries(derivedState.index, derivedState);\n\n    states.push({\n      state: derivedState,\n      queriesCount: derivedStateQueries.length,\n      helper: derivedHelper\n    });\n\n    derivedHelper.emit('search', {\n      state: derivedState,\n      results: derivedHelper.lastResults\n    });\n\n    return derivedStateQueries;\n  });\n\n  var queries = Array.prototype.concat.apply(mainQueries, derivedQueries);\n  var queryId = this._queryId++;\n\n  this._currentNbQueries++;\n\n  try {\n    this.client.search(queries)\n      .then(this._dispatchAlgoliaResponse.bind(this, states, queryId))\n      .catch(this._dispatchAlgoliaError.bind(this, queryId));\n  } catch (error) {\n    // If we reach this part, we're in an internal error state\n    this.emit('error', {\n      error: error\n    });\n  }\n};\n\n/**\n * Transform the responses as sent by the server and transform them into a user\n * usable object that merge the results of all the batch requests. It will dispatch\n * over the different helper + derived helpers (when there are some).\n * @private\n * @param {array.<{SearchParameters, AlgoliaQueries, AlgoliaSearchHelper}>}\n *  state state used for to generate the request\n * @param {number} queryId id of the current request\n * @param {object} content content of the response\n * @return {undefined}\n */\nAlgoliaSearchHelper.prototype._dispatchAlgoliaResponse = function(states, queryId, content) {\n  // FIXME remove the number of outdated queries discarded instead of just one\n\n  if (queryId < this._lastQueryIdReceived) {\n    // Outdated answer\n    return;\n  }\n\n  this._currentNbQueries -= (queryId - this._lastQueryIdReceived);\n  this._lastQueryIdReceived = queryId;\n\n  if (this._currentNbQueries === 0) this.emit('searchQueueEmpty');\n\n  var results = content.results.slice();\n\n  states.forEach(function(s) {\n    var state = s.state;\n    var queriesCount = s.queriesCount;\n    var helper = s.helper;\n    var specificResults = results.splice(0, queriesCount);\n\n    var formattedResponse = helper.lastResults = new SearchResults(state, specificResults);\n\n    helper.emit('result', {\n      results: formattedResponse,\n      state: state\n    });\n  });\n};\n\nAlgoliaSearchHelper.prototype._dispatchAlgoliaError = function(queryId, error) {\n  if (queryId < this._lastQueryIdReceived) {\n    // Outdated answer\n    return;\n  }\n\n  this._currentNbQueries -= queryId - this._lastQueryIdReceived;\n  this._lastQueryIdReceived = queryId;\n\n  this.emit('error', {\n    error: error\n  });\n\n  if (this._currentNbQueries === 0) this.emit('searchQueueEmpty');\n};\n\nAlgoliaSearchHelper.prototype.containsRefinement = function(query, facetFilters, numericFilters, tagFilters) {\n  return query ||\n    facetFilters.length !== 0 ||\n    numericFilters.length !== 0 ||\n    tagFilters.length !== 0;\n};\n\n/**\n * Test if there are some disjunctive refinements on the facet\n * @private\n * @param {string} facet the attribute to test\n * @return {boolean}\n */\nAlgoliaSearchHelper.prototype._hasDisjunctiveRefinements = function(facet) {\n  return this.state.disjunctiveRefinements[facet] &&\n    this.state.disjunctiveRefinements[facet].length > 0;\n};\n\nAlgoliaSearchHelper.prototype._change = function(event) {\n  var state = event.state;\n  var isPageReset = event.isPageReset;\n\n  if (state !== this.state) {\n    this.state = state;\n\n    this.emit('change', {\n      state: this.state,\n      results: this.lastResults,\n      isPageReset: isPageReset\n    });\n  }\n};\n\n/**\n * Clears the cache of the underlying Algolia client.\n * @return {AlgoliaSearchHelper}\n */\nAlgoliaSearchHelper.prototype.clearCache = function() {\n  this.client.clearCache && this.client.clearCache();\n  return this;\n};\n\n/**\n * Updates the internal client instance. If the reference of the clients\n * are equal then no update is actually done.\n * @param  {AlgoliaSearch} newClient an AlgoliaSearch client\n * @return {AlgoliaSearchHelper}\n */\nAlgoliaSearchHelper.prototype.setClient = function(newClient) {\n  if (this.client === newClient) return this;\n\n  if (typeof newClient.addAlgoliaAgent === 'function') {\n    newClient.addAlgoliaAgent('JS Helper (' + version + ')');\n  }\n  this.client = newClient;\n\n  return this;\n};\n\n/**\n * Gets the instance of the currently used client.\n * @return {AlgoliaSearch}\n */\nAlgoliaSearchHelper.prototype.getClient = function() {\n  return this.client;\n};\n\n/**\n * Creates an derived instance of the Helper. A derived helper\n * is a way to request other indices synchronised with the lifecycle\n * of the main Helper. This mechanism uses the multiqueries feature\n * of Algolia to aggregate all the requests in a single network call.\n *\n * This method takes a function that is used to create a new SearchParameter\n * that will be used to create requests to Algolia. Those new requests\n * are created just before the `search` event. The signature of the function\n * is `SearchParameters -> SearchParameters`.\n *\n * This method returns a new DerivedHelper which is an EventEmitter\n * that fires the same `search`, `result` and `error` events. Those\n * events, however, will receive data specific to this DerivedHelper\n * and the SearchParameters that is returned by the call of the\n * parameter function.\n * @param {function} fn SearchParameters -> SearchParameters\n * @return {DerivedHelper}\n */\nAlgoliaSearchHelper.prototype.derive = function(fn) {\n  var derivedHelper = new DerivedHelper(this, fn);\n  this.derivedHelpers.push(derivedHelper);\n  return derivedHelper;\n};\n\n/**\n * This method detaches a derived Helper from the main one. Prefer using the one from the\n * derived helper itself, to remove the event listeners too.\n * @private\n * @return {undefined}\n * @throws Error\n */\nAlgoliaSearchHelper.prototype.detachDerivedHelper = function(derivedHelper) {\n  var pos = this.derivedHelpers.indexOf(derivedHelper);\n  if (pos === -1) throw new Error('Derived helper already detached');\n  this.derivedHelpers.splice(pos, 1);\n};\n\n/**\n * This method returns true if there is currently at least one on-going search.\n * @return {boolean} true if there is a search pending\n */\nAlgoliaSearchHelper.prototype.hasPendingRequests = function() {\n  return this._currentNbQueries > 0;\n};\n\n/**\n * @typedef AlgoliaSearchHelper.NumericRefinement\n * @type {object}\n * @property {number[]} value the numbers that are used for filtering this attribute with\n * the operator specified.\n * @property {string} operator the faceting data: value, number of entries\n * @property {string} type will be 'numeric'\n */\n\n/**\n * @typedef AlgoliaSearchHelper.FacetRefinement\n * @type {object}\n * @property {string} value the string use to filter the attribute\n * @property {string} type the type of filter: 'conjunctive', 'disjunctive', 'exclude'\n */\n\nmodule.exports = AlgoliaSearchHelper;\n","'use strict';\nvar aFunction = require('../internals/a-function');\n\nvar PromiseCapability = function (C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n};\n\n// 25.4.1.5 NewPromiseCapability(C)\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : result;\n};\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\n\nvar SPECIES = wellKnownSymbol('species');\nvar nativeSlice = [].slice;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.es/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return nativeSlice.call(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","// iterable DOM collections\n// flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\nmodule.exports = {\n  CSSRuleList: 0,\n  CSSStyleDeclaration: 0,\n  CSSValueList: 0,\n  ClientRectList: 0,\n  DOMRectList: 0,\n  DOMStringList: 0,\n  DOMTokenList: 1,\n  DataTransferItemList: 0,\n  FileList: 0,\n  HTMLAllCollection: 0,\n  HTMLCollection: 0,\n  HTMLFormElement: 0,\n  HTMLSelectElement: 0,\n  MediaList: 0,\n  MimeTypeArray: 0,\n  NamedNodeMap: 0,\n  NodeList: 1,\n  PaintRequestList: 0,\n  Plugin: 0,\n  PluginArray: 0,\n  SVGLengthList: 0,\n  SVGNumberList: 0,\n  SVGPathSegList: 0,\n  SVGPointList: 0,\n  SVGStringList: 0,\n  SVGTransformList: 0,\n  SourceBufferList: 0,\n  StyleSheetList: 0,\n  TextTrackCueList: 0,\n  TextTrackList: 0,\n  TouchList: 0\n};\n","/* eslint-disable es/no-symbol -- required for testing */\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  && !Symbol.sham\n  && typeof Symbol.iterator == 'symbol';\n","var global = require('../internals/global');\n\nmodule.exports = global.Promise;\n"],"sourceRoot":""}